/*! For license information please see f5d0e2e7.c2328236.chunk.js.LICENSE.txt */
(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["f5d0e2e7"],{af1e2b38:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n("6ee88c54"),r=n("dc6d28ff"),i=function(){var e,t=null!==(e=(0,r.getRequestContext)().getSiteType())&&void 0!==e?e:a.N.WWW;return{isWWW:t===a.N.WWW,isMDOT:t===a.N.MDOT,isTDOT:t===a.N.TDOT}}},dcc20038:function(e,t,n){"use strict";n.r(t),n.d(t,{ProgramContext:function(){return st},default:function(){return dt}});var a=n("e260fc98"),r=n("ead71eb0"),i=n.n(r),o=n("dc6d28ff"),s=n("3d054e81"),l=n("51373183"),d=n("dee2534d"),c=(0,r.createContext)({});var u=function(e){var t=e.openOnLoad,n=e.isMdot,a=e.onAfterClose,o=e.children,u=e.actionBar,m=e.sheetContainerProps,g=e.closeAriaLabel,p=(0,r.useReducer)((function(e){return e&&a&&a(),!e}),"undefined"!==typeof t&&t),_=(0,l.Z)(p,2),v=_[0],f=_[1],h={active:!0,onCloseTrigger:f,position:n?"bottom":"center",closeAriaLabel:g||""},k=(0,r.useState)(null),b=(0,l.Z)(k,2),y=b[0],S=b[1],E=(0,r.useState)(null),N=(0,l.Z)(E,2),x=N[0],O=N[1];return n&&u&&Object.assign(h,{footer:u}),m&&Object.assign(h,m),i().createElement(c.Provider,{value:{isOpen:v,toggle:f,setContent:function(e){return!y&&S(e)},setHeader:function(e){return!x&&O(e)},resetContent:function(e){return S(e)}}},o,v?i().createElement(d.SheetContainer,(0,s.Z)({},x,h),y):null)},m=(c.Consumer,u),g=n("c44dcb0c"),p=n("239beb17"),_=n("cedcabf9"),v=n("41c6c66e"),f=n("28dbd132"),h={kind:"Document",definitions:function(e){var t={};return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"indexVipBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipUIsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusVipEnrolledProgram"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipNoEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"programType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockMetadata"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountTotalUserSpent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"geniusVipUIs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"indexBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexUiContent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgressBar"},directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"indexModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexModal"},directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueKey"},arguments:[],directives:[]}]}}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"TextWithTranslationTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TextWithTranslationTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BannerImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexUiContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dismissible"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgressBar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progressBar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indicators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexModal"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipInfoModal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionDismiss"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Price"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockUserProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOnboarding"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRewardsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxBookingsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rounds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardsSent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isStarted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountPendingTotal"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsPerRound"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRounds"},arguments:[],directives:[]}]}}])),loc:{start:0,end:1114,source:{body:"\n  query indexVipBanner($input: GeniusVipUIsInput) {\n    geniusVipEnrolledProgram(input: $input) {\n      __typename\n      ... on GeniusVipNoEnrolledProgram {\n        reason\n      }\n      ... on GeniusVipEnrolledProgram {\n        metadata {\n          programType\n          ... on SpendAndUnlockProgramMetadata {\n            rewardPercent\n            threshold {\n              ...PriceFields\n            }\n            upperLimit {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockMetadata\n        }\n        reward {\n          ... on SpendAndUnlockReward {\n            amountTotalUserSpent {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockReward\n        }\n        userProgress {\n          ...UserProgress\n        }\n        geniusVipUIs {\n          indexBanner {\n            ...IndexUiContent\n            ...ProgressBar\n            endDate {\n              text\n            }\n          }\n          indexModal {\n            ...IndexModal\n            modalCategory\n            uniqueKey\n          }\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var k=function(e,t){return!!e&&t.every((function(t){return null!=e[t]}))};var b,y,S,E=n("01c3b824");E.Qv["en-gb"],E.Qv["en-us"],E.Qv.de,E.Qv.es,E.Qv.fr;!function(e){e.BANNER_VIEW="CAPLA_EVENT_genius_vip_BANNER_VIEW",e.BANNER_CTA_CLICK="CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",e.BANNER_DISMISS="CAPLA_EVENT_genius_vip_BANNER_DISMISS",e.MODAL_VIEW="CAPLA_EVENT_genius_vip_MODAL_VIEW",e.MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_MODAL_CTA_CLICK",e.MODAL_DISMISS="CAPLA_EVENT_genius_vip_MODAL_DISMISS",e.REMINDER_MODAL_VIEW="CAPLA_EVENT_genius_vip_REMINDER_MODAL_VIEW",e.REMINDER_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_REMINDER_MODAL_CTA_CLICK",e.REMINDER_MODAL_DISMISS="CAPLA_EVENT_genius_vip_REMINDER_MODAL_DISMISS",e.LOGIN_MODAL_VIEW="CAPLA_EVENT_genius_vip_LOGIN_MODAL_VIEW",e.LOGIN_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_LOGIN_MODAL_CTA_CLICK",e.LP_VIEW="CAPLA_EVENT_genius_vip_LP_VIEW",e.PROGRESS_CTA_CLICK="CAPLA_EVENT_genius_vip_PROGRESS_CTA_CLICK"}(b||(b={})),function(e){e.INDEX="index",e.SEARCH_RESULTS="searchresults",e.HOTEL="hotel",e.BOOK="book",e.BOOK2="book2",e.CONFIRMATION="confirmation",e.MY_RESERVATIONS="myreservations",e.MY_BOOKING="mybooking",e.WALLET="rewards_and_wallet",e.LP="genius_vip_campaigns"}(y||(y={})),function(e){e.WELCOME="welcome",e.REMINDING="reminding",e.LOGIN="login",e.EXPIRE="expire"}(S||(S={}));var N,x,O="vip_token",I="vip_campaign",C=1680505199e3;!function(e){e.BookAndUnlock="BookAndUnlock",e.FreeRoomUpgrade="FreeRoomUpgrade",e.InstantCredit="InstantCredit",e.InstantDiscount="InstantDiscount",e.InstantVoucher="InstantVoucher",e.OneOffVoucher="OneOffVoucher",e.SpendAndUnlock="SpendAndUnlock"}(N||(N={})),function(e){e.BOOKING_DETAIL="BOOKING_DETAIL",e.BOOKING_PROCESS_1="BOOKING_PROCESS_1",e.BOOKING_PROCESS_2="BOOKING_PROCESS_2",e.CONFIRMATION_PAGE="CONFIRMATION_PAGE",e.INDEX="INDEX",e.LANDING_PAGE="LANDING_PAGE",e.PROPERTY_PAGE="PROPERTY_PAGE",e.ROOM_DETAIL="ROOM_DETAIL",e.SEARCH_RESULTS="SEARCH_RESULTS",e.WALLET="WALLET"}(x||(x={}));var P=n("abab1afe"),T=n("107a8bb5");(0,P.registerDynamicTags)((0,P.t)("date_format","fakeIndex","short_date"));var w,D="short_date",A=n("730a5a32"),L=new Map([["AFA",0],["BHD",3],["BIF",0],["BYR",0],["CLP",0],["COP",0],["DJF",0],["ECS",0],["GNF",0],["HUF",0],["IDR",0],["IQD",3],["ISK",0],["JOD",3],["JPY",0],["KMF",0],["KRW",0],["KWD",3],["LAK",0],["LYD",3],["MGA",0],["MZM",0],["OMR",3],["PYG",0],["RWF",0],["TJR",0],["TMM",0],["TND",3],["TWD",0],["UGX",0],["VND",0],["VUV",0],["XAF",0],["XOF",0],["XPF",0],["RUB",0]]),R=Object.freeze({CEIL:"CEIL",FLOOR:"FLOOR"}),F=new Map([["AFA",R.CEIL],["BIF",R.FLOOR],["BYR",R.FLOOR],["CLP",R.FLOOR],["DJF",R.FLOOR],["ECS",R.FLOOR],["GNF",R.FLOOR],["IDR",R.FLOOR],["ISK",R.FLOOR],["JPY",R.FLOOR],["KMF",R.FLOOR],["KRW",R.FLOOR],["LAK",R.FLOOR],["MGA",R.FLOOR],["MZM",R.FLOOR],["PYG",R.FLOOR],["RUB",R.FLOOR],["RWF",R.FLOOR],["TJR",R.FLOOR],["TMM",R.FLOOR],["TWD",R.FLOOR],["UGX",R.FLOOR],["VND",R.FLOOR],["VUV",R.FLOOR],["XAF",R.FLOOR],["XOF",R.FLOOR],["XPF",R.FLOOR]]),M=new Map([["HUF",5],["COP",20]]),B=new Map([["bg","."],["es",","],["es-mx","."],["hu","."]]),U=new Map([["bg","\xa0"],["et","\xa0"],["es","."],["es-ar","."],["es-mx",","],["fr","\xa0"],["hi",","],["ka","\xa0"],["lv","\xa0"],["pl","\xa0"],["pt-br","."],["pt-pt","\xa0"]]),j=new Map([["CNY-zh-cn",""],["GBP",""],["KRW-ko",""],["JPY",""],["USD",""]]),Z=new Map([["ARS","AR$"],["ARS-country-ar","$"],["BRL","R$"],["CLP","CL$"],["CLP-country-cl","$"],["CNY-zh-cn","\u5143"],["CZK","K\u010d"],["GBP","\xa3"],["EUR","\u20ac"],["HKD","HK$"],["IDR","Rp"],["ILS","\u20aa"],["ISK-is","kr."],["INR","Rs."],["INR-country-in","\u20b9"],["JPY","\xa5"],["JPY-ja","\uffe5"],["KRW-ko","\u20a9"],["KWD-ar","\u062f.\u0643."],["PHP","\u20b1"],["PLN","z\u0142"],["RUB-ru","\u0440\u0443\u0431."],["RON","lei"],["SGD","S$"],["USD","US$"],["USD-us-en-us","$"],["TRY","TL"],["XPF","CFP"]]),V=new Map([["CNY-zh-cn","after"],["CZK","after"],["ILS-ar","after"],["ILS-he","after"],["ISK-is","after"],["PLN","after"],["RON","after"],["RUB-ru","after"]]),W=new Map,G=function(e,t,n){var a=Number.isInteger(t)?e+"__"+n+"__int":e+"__"+n;if(!W.has(a)){var r={style:"currency",currency:e,currencyDisplay:"code",numberingSystem:"latn",minimumFractionDigits:z(e,t)},i=new Intl.NumberFormat(n,r);W.set(a,i)}return W.get(a)};function K(e,t,n,a,r){void 0===r&&(r=!0),n=n.toLowerCase();var i=(0,A.CR)(n.split("-"),1)[0];if(F.get(e))if(F.get(e)===R.CEIL){var o=.5;t=Math.ceil(t/o)*o}else{var s=t-.5;t=Number(Math.round((Number.isInteger(s)?s:t)/1))}else if(M.get(e)){o=M.get(e)||1;t=Math[t%o<=.5?"floor":"ceil"](t/o)*o}var l=G(e,t,n).formatToParts(t);return"he"===i&&"literal"===l[0].type&&l.shift(),l=function(e,t,n){if(0!==z(t,n))return e;for(var a=e.length-1;a>=0;a--)if("fraction"===e[a].type||"decimal"===e[a].type)e.splice(a,1);else if("integer"===e[a].type)return e;return e}(l,e,t),l=function(e,t,n){var a=function(e,t){var n=(0,A.CR)(e.split("-"),1),a=n[0];if(V.has(t+"-"+e))return V.get(t+"-"+e);if(V.has(t+"-"+a))return V.get(t+"-"+a);if(V.has(t))return V.get(t);return"before"}(t,n);if("currency"===e[0].type&&"after"===a){var r=e.shift(),i=e.shift();e.push(i),e.push(r)}else if("currency"===e[e.length-1].type&&"before"===a){r=e.pop(),i=e.pop();e.unshift(i),e.unshift(r)}return e}(l,n,e),l=function(e,t){var n=(0,A.CR)(t.split("-"),1),a=n[0];if(["bg","es","et","hi","ka","lv","pl","pt"].indexOf(a)<0)return e;var r=H(t,"\xa0"),i=[],o=[];e=e.filter((function(e){return"group"!==e.type}));for(;"integer"!==e[0].type;)o.push(e.shift());for(;e.length>0&&"integer"===e[0].type;)i=i.concat(e[0].value.split("")),e.shift();for(var s="",l=i.length-1;l>=0;l--)(s=i.pop()+s).length%3===0&&(e.unshift({type:"integer",value:s}),i.length>0&&e.unshift({type:"group",value:r}),s="");""!==s&&e.unshift({type:"integer",value:s});return e=o.concat(e),e}(l,n),l.map((function(t){var i=t.type,o=t.value;switch(i){case"group":return H(n,o);case"decimal":return function(e,t){var n=(0,A.CR)(e.split("-"),1),a=n[0];if(B.has(e))return B.get(e);if(B.has(a))return B.get(a);return t}(n,o);case"currency":return r?function(e,t,n){var a=(0,A.CR)(e.split("-"),1),r=a[0];if(Z.has(t+"-"+e))return Z.get(t+"-"+e);if(n&&Z.has(t+"-"+n+"-"+e))return Z.get(t+"-"+n+"-"+e);if(n&&Z.has(t+"-country-"+n))return Z.get(t+"-country-"+n);if(Z.has(t+"-"+r))return Z.get(t+"-"+r);if(Z.has(t))return Z.get(t);return t}(n,o,a):"";case"literal":return r?function(e,t,n){var a=(0,A.CR)(t.split("-"),1),r=a[0];if(j.has(e+"-"+t))return j.get(e+"-"+t);if(j.has(e+"-"+r))return j.get(e+"-"+r);if(j.has(e))return j.get(e);return n}(e,n,o):"";default:return o}})).reduce((function(e,t){return e+t}))}function z(e,t){return Number.isInteger(t)?0:L.get(e)}function H(e,t){var n=(0,A.CR)(e.split("-"),1)[0];return U.has(e)?U.get(e):U.has(n)?U.get(n):t}var X,Y,q,J,Q=function(){return Date.now()-C>0||(0,p.isFeatureRunning)((0,p.feature)(w||(w=(0,a.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLdeLSfBUUGXC"]))))},$=function(e,t){if(!e)return{indexModal:{},modalCatgory:S.EXPIRE};var n=function(e,t){if(!e)return null;var n=(0,o.getRequestContext)().getLanguage(),a=(0,o.getRequestContext)().getVisitorCountry()||"",r=e.get(O),i=e.get(I),s=K("USD",25,n,a),l=e.get("vip_signature"),d=e.get("offlineModalShown");if(!r||!i||d||!l)return null;var c=Q(),u=new Date(1680479999e3);return{campaignExpired:c,programType:i,voucherValueFormatted:s,expirationDateFormatted:(0,T.p6)(t,{date:"".concat(u.getUTCFullYear(),"-").concat(u.getUTCMonth()+1,"-").concat(u.getUTCDate()),form:D})}}(e,t);return n?n.campaignExpired?{indexModal:ee(t),modalCatgory:S.EXPIRE}:{indexModal:te(t,n.voucherValueFormatted,n.expirationDateFormatted),modalCatgory:S.LOGIN}:{indexModal:{},modalCatgory:S.EXPIRE}},ee=function(e){return{title:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_title")),subtitle:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_description")),cta:[{text:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_expire_cta")),actionDismiss:!0}],asset:"https://bstatic.com/data/mobile/voucherExpired.png",campaignExpired:!0}},te=function(e,t,n){var a=(0,o.getRequestContext)().getBasePageUrl();return{title:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_title",{variables:{voucher_value:t}})),subtitle:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_description",{variables:{exp_date:n}})),cta:[{text:e.trans((0,P.t)("vip_offline_oneoff_bottom_sheet_sign_in_cta")),actionString:"index",actionParams:{login_redirect:a.toString()}}],asset:"https://bstatic.com/data/mobile/voucheractive.png",campaignExpired:!1}};var ne=n("00d29d3a"),ae={marginBottom1x:"f420f6bbf2",dismissedBannerWrapper:"eea513fff0",bannerWrapper:"c72aded5f7",banner:"c82d14d624",modern:"de712accea",bannerTitle:"e7ce666a86",progrssionBarWrapper:"dccdf01c32",vipHighlight:"d6bedc5a57"},re=n("cfcd5c4a"),ie=n("58a2abd5"),oe=["name","content","defaults","isLoading","loaderProps"];function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e){var t=e.name,n=e.onClick,a=e.callback,r=e.href,o=e.newTab,l=e.content,c=e.isLoading,u=e.loaderProps;if(c)return i().createElement(d.SkeletonLoader,(0,s.Z)({attributes:{"data-testid":t}},u));if(a){return i().createElement(d.Actionable,{onClick:function(e){n?n(e):r&&(o?window.open(r,"_blank"):window.location.href=r),a()}},l)}return n?i().createElement(d.Actionable,{onClick:n},l):i().createElement(d.Actionable,{href:r,attributes:o?{target:"_blank"}:{}},l)}function ce(e){var t=e.name,n=e.content,a=e.defaults,r=e.isLoading,o=e.loaderProps,l=(0,ie.Z)(e,oe);return r?i().createElement(d.SkeletonLoader,(0,s.Z)({attributes:{"data-testid":t}},o)):n?i().createElement(d.Text,(0,s.Z)({},a,l),n):null}function ue(e){var t=e.forwardedRef,n=e.headline,a=e.image,o=e.imagePosition,l=e.imageClassName,c=e.imageLoaderProps,u=e.textBlock,m=e.suptitle,g=e.title,p=e.subtitle,_=e.action,v=e.containerProps,f=e.horizontalLayoutProps,h=e.textLayoutProps,k=e.actionLayoutProps,b=e.ctaLayoutProps,y=e.extraColumnLayoutProps,S=e.dismissibleProps,E=e.extraColumnProps,N=e.headlineGap,x=e.isLoading,O=null;_&&(O=_ instanceof Array?_.map((function(e){return i().createElement(de,(0,s.Z)({key:"action",name:"action"},e,{isLoading:x}))})):i().createElement(de,(0,s.Z)({},_,{name:"action",isLoading:x})));var I=u||i().createElement(d.Stack,{gap:0},m?i().createElement(d.Stack.Item,null,i().createElement(ce,(0,s.Z)({name:"suptitle",isLoading:x,loaderProps:null===m||void 0===m?void 0:m.loaderProps,variant:"body_1",content:"object"===(0,re.Z)(m)?null===m||void 0===m?void 0:m.children:m},"string"!==typeof m&&m))):null,i().createElement(d.Stack.Item,null,i().createElement(d.Stack,(0,s.Z)({direction:"row"},y),i().createElement(d.Stack.Item,{grow:!0},i().createElement(d.Stack,h,i().createElement(d.Stack.Item,null,g?i().createElement(ce,(0,s.Z)({name:"title",isLoading:x,loaderProps:null===g||void 0===g?void 0:g.loaderProps,variant:"featured_1",content:"object"===(0,re.Z)(g)?null===g||void 0===g?void 0:g.children:g},"string"!==typeof g&&g)):null),p?i().createElement(d.Stack.Item,null,i().createElement(ce,(0,s.Z)({name:"subtitle",isLoading:x,loaderProps:null===p||void 0===p?void 0:p.loaderProps,color:"neutral_alt",content:"object"===(0,re.Z)(p)?null===p||void 0===p?void 0:p.children:p},"string"!==typeof p&&p))):null)),E?i().createElement(d.Stack.Item,E,E.content):null))),C=S?d.DismissibleContainer:r.Fragment;return v&&Object.assign(v,le(le({},v),{},{attributes:le(le({},null===v||void 0===v?void 0:v.attributes),{},{ref:t})})),i().createElement(d.Box,v,i().createElement(C,S,i().createElement(d.Stack,{gap:N},n?i().createElement(d.Stack.Item,null,i().createElement(ce,(0,s.Z)({name:"headline",isLoading:x,loaderProps:null===n||void 0===n?void 0:n.loaderProps,variant:"headline_2",content:"object"===(0,re.Z)(n)?null===n||void 0===n?void 0:n.children:n},"string"!==typeof n&&n))):null,i().createElement(d.Stack.Item,null,i().createElement(d.Stack,(0,s.Z)({},f,{direction:"right"===o?"row-reverse":"row"}),a?i().createElement(d.Stack.Item,{className:l},x?i().createElement(d.SkeletonLoader,(0,s.Z)({attributes:{"data-testid":"image"}},c)):a):null,i().createElement(d.Stack.Item,{grow:!0},i().createElement(d.Stack,(0,s.Z)({gap:6},k),i().createElement(d.Stack.Item,null,I),O?i().createElement(d.Stack.Item,null,i().createElement(d.Stack,(0,s.Z)({direction:"row"},b),O)):null)))))))}var me=(0,r.forwardRef)((function(e,t){return i().createElement(ue,(0,s.Z)({},e,{forwardedRef:t}))}));me.displayName="CampaignBannerWithRef";var ge=n("d0fefcf5"),pe={progressionBarWrapper:"a213669eee",progressionBar:"bd6e6e573f","progressionBar--small":"a1f386fa1f",progressionBarFiller:"feea691fa5",filler:"cd9ff090c6",progressionBarIndicator:"cdab232c3e","progressionBarIndicator--longText":"d463dc7303",progressionBarIndicatorStart:"bb284785b4",progressionBarIndicatorEnd:"beb419b55c",lightup:"c80533ec84"},_e=n("8521b397"),ve=n.n(_e),fe=n("d1e54a96");function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var ke=function(e){if(!e.progress||e.indicators.length<5)return null;var t,n,a,r,o,s=(0,fe.isRTL)(),l=(t=e.progress,n=e.upperLimit,a=e.threshold,r=e.indicators,o=e.size,t<=a?"large"===o?r.slice(2):r.slice(2,4):t>a&&t<n-a?"large"===o?r.slice(1,4):r.slice(1,3):t===n-a?"large"===o?r.slice(1,4):r.slice(2,4):"large"===o?r.slice(0,3):r.slice(1,3)),d=function(t,n,a,r){var i={large:n-2*a,medium:n-a,small:n-a},o="large"===e.size&&t>i[e.size],l="large"!==e.size&&t>=i[e.size],d=o||l,c=(t-(o?r[0].value:r[0].value-a))/(d?2*a:(r.length+1)*a)*100+"%";if("small"===e.size)return{fillerLengthPercentage:c};var u=d?.5:Math.round(1/(r.length+1)*100)/100,m=o?0:u,g=r.map((function(t,n){var a=t.formattedValue.length>15,i=s?100*(1-(m+n*u))+"%":100*(m+n*u)+"%",o="white",l="none",g="unset",p=s?100-parseInt(i):parseInt(i);p<=parseInt(c)&&(o="#FEBB02",l="".concat(pe.lightup),g=p?"".concat(1/parseInt(c)*p*1e3+100,"ms"):"unset");var _={left:"calc(".concat(i," - ").concat("5px",")"),backgroundColor:o,animationName:l,animationDuration:g},v=ve()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"]);return d&&(n===r.length-1?(Object.assign(_,s?{left:0,right:"unset"}:{left:"unset",right:0}),v=ve()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"],pe.progressionBarIndicatorEnd)):"large"===e.size&&0===n&&(Object.assign(_,s?{right:0}:{left:0}),v=ve()(pe.progressionBarIndicator,a&&pe["progressionBarIndicator--longText"],pe.progressionBarIndicatorStart))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"indicator_".concat(n),style:_,className:v},t)}));return{fillerLengthPercentage:c,indicators:g}}(e.progress,e.upperLimit,e.threshold,l),c=ve()(pe.progressionBar,"small"===e.size&&pe["progressionBar--small"]),u=ve()(pe.progressionBarFiller,"small"===e.size&&pe["progressionBar--small"]);return i().createElement("div",{className:pe.progressionBarWrapper},i().createElement("div",{className:c},i().createElement("div",{className:u,style:{width:d.fillerLengthPercentage}})),d&&d.indicators&&d.indicators.map((function(e){return i().createElement("div",{key:e.id,className:e.className,style:e.style,"data-indicator-label":e.formattedValue})})))},be={"vip-highlight":"vip-highlight","vip-link":"vip-link","vip-bold":"vip-bold","vip-black-bold":"vip-black-bold","vip-semi-bold":"vip-semi-bold"},ye=Object.keys(be),Se=new RegExp("(".concat("<","|").concat("</",")(").concat(ye.join("|"),")(-[0-9]+)*>"),"g"),Ee=function(e,t,n,a,r){return r?i().createElement(t,{key:a,href:r,className:n},e):i().createElement(t,{key:a,className:n},e)},Ne=function(e,t){if(!e)return"";for(var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",r=Object.assign({},be,t),i=[],o=[],s=0,d=arguments.length,c=new Array(d>3?d-3:0),u=3;u<d;u++)c[u-3]=arguments[u];for(;null!==(n=Se.exec(e));){var m=n,g=(0,l.Z)(m,4),p=g[1],_=g[2],f=g[3];switch(p){case"<":s!==Se.lastIndex&&0!==Se.lastIndex&&(o.length?o[o.length-1].temp.push(e.slice(s,n.index)):i.push(e.slice(s,n.index))),o.push({rule:_,temp:[]}),s=Se.lastIndex;break;case"</":var h=o.pop();if(h&&h.rule===_){var k="vip-link"===_,b=void 0;if(k)if("string"===typeof f)b=c[+f.substring(1)-1];else b=c.shift();o.length?(h.temp.push(e.substring(s,n.index)),o[o.length-1].temp.push(Ee(h.temp,k?"a":a,r[_],s,k?b:""))):(s!==n.index&&h.temp.push(e.substring(s,n.index)),i.push(Ee(h.temp,k?"a":a,r[_],s,k?b:"")))}else o.length?o[o.length-1].temp.push(e.substring(s,n.index)):i.push(e.substring(s,n.index)),(0,v.reportWarning)("copyTagParser found tags mismatch in [".concat(e,"]"));s=Se.lastIndex}}for(var y=o.pop();y;)o.length?o[o.length-1].temp.push(y.temp):i.push(y.temp),y=o.pop();return s!==e.length&&i.push(e.slice(s,e.length)),i},xe={index:"app",searchresults:"app",hotel:"app",genius:"app",genius_vip:"app",genius_vip_campaigns:"app",vip_oneoff_voucher_tnc:"app",book:"book",confirmation:"book",mybooking:"book",myreservations:"book",rewards_and_wallet:"book",help:"book","":"app"},Oe=function(e){return Ie.test(e)?"app":Ce.test(e)?"book":xe[e]},Ie=/^(content\/)(terms|wallet-terms)/,Ce=/^(rewards_and_wallet\/)/,Pe=function(e){return e.indexOf("voucher")>-1?{page_type:"legacy"}:{}};function Te(e,t,n){var a=(0,o.getRequestContext)().getLanguage(),r=e.split("#"),i=(0,l.Z)(r,2),s=i[0],d=i[1],c=Oe(s)||void 0,u=new URLSearchParams;if(t&&u.append("src",t),n)for(var m=0,g=Object.entries(n);m<g.length;m++){var p=(0,l.Z)(g[m],2),_=p[0],v=p[1];u.append(_,v)}for(var f=Pe(s),h=0,k=Object.entries(f);h<k.length;h++){var b=(0,l.Z)(k[h],2),y=b[0],S=b[1];u.append(y,S)}var E="en-us"===a?"/".concat(s,".html"):"/".concat(s,".").concat(a,".html"),N=(0,fe.constructUrl)({host:c,pathname:E,searchParams:u});return d?"".concat(N.toString(),"#").concat(d):N.toString()}var we=n("975f4b85"),De=function(e){var t=(0,we.YD)({threshold:0,triggerOnce:!0}),n=(0,l.Z)(t,2),a=n[0],i=n[1];return(0,r.useEffect)((function(){i&&e&&e()}),[i,e]),a},Ae=function(e,t){var n=(0,r.useRef)(!1);return(0,r.useCallback)((function(){e&&t&&(n.current||(ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_VIEW",{campaign:t,actionName:e}),n.current=!0))}),[e,t])},Le=n("32100371"),Re={sliderContainer:"a5e5f2c30e",innerWrapper:"ec0695d8bb",gappedSlider:"b2a34b3a24",indicatorContainer:"f1d2559f9d",indicator:"c03b4a5a61","indicator--dot":"cd114cfb51","indicator--bar":"d1e8980d1e"};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=function(e){var t=e.children,n=e.indicatorStyle,a=e.speed,o=void 0===a?1e3:a,s=e.transitionSpeed,d=void 0===s?600:s,c=e.slideWidth,u=e.wrapperClassName,m=e.gap,g=void 0===m||m,p=r.Children.toArray(t),_=p.length,v=(0,Le.Z)(p.keys()),f=(0,r.useState)({currentIndex:0,translateX:0,transitionStyle:"transform ".concat(d,"ms ease-out"),_slider:p}),h=(0,l.Z)(f,2),k=h[0],b=h[1],y=(0,fe.isRTL)(),S=k.currentIndex,E=k.translateX,N=k.transitionStyle,x=k._slider,O=(0,r.useState)({}),I=(0,l.Z)(O,2),C=I[0],P=I[1],T=(0,r.useRef)(0),w=(0,r.useRef)(null),D=(0,r.useRef)(0);(0,r.useEffect)((function(){var e;D.current=Math.max((null===(e=w.current)||void 0===e?void 0:e.clientHeight)||0,D.current),D.current>0&&P({height:"".concat(D.current,"px")})}),[t]);var A=function(){b(Me(Me({},k),{},{currentIndex:T.current<_-1?T.current+1:0,translateX:c,transitionStyle:"transform ".concat(d,"ms ease-out")}))};return(0,r.useEffect)((function(){var e;return T.current=S,_>=2&&(e=window.setInterval(A,o)),function(){e&&window.clearInterval(e)}})),i().createElement("div",{className:u,style:{width:"".concat(c,"px")}},_<2?t:i().createElement(i().Fragment,null,i().createElement("div",{className:Re.sliderContainer,ref:w,style:C},i().createElement("div",{className:ve()(Re.innerWrapper,g&&Re.gappedSlider),style:{transform:y?"translateX(".concat(E,"px)"):"translateX(-".concat(E,"px)"),transition:"".concat(N)},onTransitionEnd:function(){var e=p.slice(T.current,T.current+2);_>1&&e.length<2&&e.push(p[0]),b(Me(Me({},k),{},{translateX:0,transitionStyle:"",_slider:e}))}},x)),i().createElement("div",{className:Re.indicatorContainer},v.map((function(e,t){return i().createElement("div",{key:e,className:ve()(Re.indicator,Re["indicator--".concat(n)]),style:t===S?{opacity:1}:{opacity:.3}})})))))},Ue={badgeContainer:"ec20d38fa6",medium:"a9db490d31",small:"e7f5203cea",large:"e7446efd24",badgeRingContainer:"d839968fd2",ring:"d6971c0918",blue:"af9f422cee",progress:"d6f8aa6d40",golden:"eed9a75a5b",text:"ccdcfe57e4",badgeCompletedNumber:"a67778fd88",badgeTotalNumber:"b8f0ab5140",badgeNoBookingNumber:"fd56063d48",inner:"e1c4642331",iconImg:"ad1484d069",badgeText:"e3a347e3f9",progressText:"c3de020998",size80:"bbfe2a559f",progressRing:"cc4564610e"},je=function(e){var t=e.badgeSize,n=e.className,a=e.angle,r=void 0===a?90:a,o=e.radius,s=void 0===o?55:o,l=e.strokeWidth,d=void 0===l?10:l,c=e.gap,u=void 0===c?8:c,m=e.currentStep,g=void 0===m?3:m,p=e.totalSteps,_=void 0===p?5:p,v=e.theme,f=void 0===v?"blue":v,h=e.children,k={strokeWidth:t?10:d,gap:t?8:u,radius:t?55:s,angle:t?90:r},b=2*k.radius+k.strokeWidth,y=b/2,S=y-Math.sin(r/2/180*Math.PI)*k.radius,E=y+Math.sin(r/2/180*Math.PI)*k.radius,N=y+Math.cos(r/2/180*Math.PI)*k.radius,x="M ".concat(S," ").concat(N," A ").concat(k.radius," ").concat(k.radius," 0 ").concat(+(r<180)," 1 ").concat(E," ").concat(N),O=Math.PI*k.radius*(360-r)/180,I=(O-k.gap*(_-1))/_-k.strokeWidth*(_-1)/_,C="".concat(I,"px ").concat(k.gap+k.strokeWidth,"px"),P=g>0?{strokeDasharray:u>0?"".concat((C+" ").repeat(g-1)," ").concat(I,"px ").concat(O,"px"):"".concat(O*g/_,"px ").concat(O,"px")}:void 0;return i().createElement("div",{className:ve()(n,Ue.badgeContainer,t&&Ue[t])},i().createElement("div",{className:ve()(Ue.badgeRingContainer,Ue[f])},i().createElement("svg",{viewBox:"0 0 ".concat(b," ").concat(b),fill:"none"},i().createElement("g",{transform:"scale(1,1)"},i().createElement("path",{d:x,className:Ue.ring,strokeWidth:k.strokeWidth||d,strokeDasharray:u>0?C:void 0}),g>0?i().createElement("path",{d:x,style:P,className:ve()(Ue.ring,Ue.progress),strokeWidth:k.strokeWidth||d}):null)),h?i().createElement("div",{className:Ue.inner},h):null))};je.Text=function(e){var t=e.badgeSize,n=e.currentStep,a=e.totalSteps,r=e.theme,o=e.className,s={small:{completedTextSize:"headline_2",totalTextSize:"body_2"},medium:{completedTextSize:"headline_1",totalTextSize:"featured_3"},large:{completedTextSize:"headline_1",totalTextSize:"strong_1"}}[t||"medium"];return i().createElement("div",{className:ve()(Ue.badgeText,o,r&&Ue[r])},i().createElement(d.Text,{variant:s.completedTextSize,className:ve()(Ue.text,n>0?Ue.badgeCompletedNumber:Ue.badgeNoBookingNumber)},Math.max(0,n)),i().createElement(d.Text,{variant:s.totalTextSize,className:ve()(Ue.text,n>0?Ue.badgeTotalNumber:Ue.badgeNoBookingNumber)},"/",a))};var Ze=je,Ve=function(e){var t=e.size,n=void 0===t?"medium":t,a=e.theme,r=void 0===a?"blue":a,o=e.bookingsCount,l=e.maxCount,c=e.rewardsSent,u=e.isGappedRing,m=void 0===u||u,g=e.iconSrc,p=e.additionalText,_=c?"https://bstatic.com/xdata/images/xphoto/max300/155161147.png?k=d70408f26332684fc7ad8476baf145813e2e71a7d8d89a40645bcc97cda6f00e&o=":"https://bstatic.com/xdata/images/xphoto/max300/155161149.png?k=02a71e2df8269c8f9783c405dcc3854ef4a727b739a7202aed1caa64dae5141a&o=",v={small:"48px",medium:"64px",large:"70px"}[n],f={badgeSize:n,theme:r,currentStep:o,totalSteps:l,gap:m?8:0,radius:60,angle:100};return i().createElement(d.Stack,{gap:null===p||void 0===p?void 0:p.gap,alignItems:"center"},i().createElement(d.Stack.Item,null,i().createElement("div",{className:Ue.progressRing},i().createElement(Ze,f,i().createElement(d.Image,{src:g||_,fallback:null,width:v,height:v,className:ve()(Ue.iconImg,n)}),i().createElement(Ze.Text,(0,s.Z)({},f,{className:Ue.progressText}))))),null!==p&&void 0!==p&&p.content.length?i().createElement(d.Stack.Item,null,i().createElement(d.Text,p.textProps,p.content)):null)};function We(e){var t,n=(0,r.useContext)(st).programType,a=e.asset,o=e.title,l=e.subtitle,c=e.endDate,u=e.progressBar,m=e.cta,g=e.bookAndUnlockRounds,p=u&&u.progress>0,_=function(e){return e?Te(e||"","index",{banner:"index"}):""},v=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:n,actionName:"index"})},f={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:8},image:i().createElement(d.Image,{width:"144px",height:"144px",src:a,fallback:null}),title:{children:Ne(o,{"vip-highlight":ae.vipHighlight}),variant:"headline_3",className:p?ae.bannerTitle:""},suptitle:{children:c,variant:"body_2",className:p?"":ae.marginBottom1x},subtitle:p?void 0:{children:l,variant:"body_1",color:"white"},extraColumnProps:{content:u&&i().createElement(ke,(0,s.Z)({},u,{size:"medium"})),className:p?ae.progrssionBarWrapper:void 0},extraColumnLayoutProps:{alignItems:"end"},action:null===m||void 0===m?void 0:m.map((function(e){return{content:i().createElement(d.Button,{text:e.text,variant:"primary",size:"medium"}),href:_(e.actionString),callback:v}})),actionLayoutProps:{gap:4}},h={containerProps:{backgroundColor:"brand_primary",className:ve()(ae.banner,ae.modern),padding:4},horizontalLayoutProps:{alignItems:"stretch",gap:4},imagePosition:"right",image:g?i().createElement(Be,{speed:4e3,indicatorStyle:"bar",slideWidth:92},g.map((function(e){return i().createElement(Ve,(0,s.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):i().createElement(d.Image,{width:120,height:120,src:a,fallback:null}),action:null===m||void 0===m?void 0:m.map((function(e){return{content:i().createElement(d.Button,{text:e.text,variant:"primary",size:"medium"}),href:_(e.actionString),callback:v}})),actionLayoutProps:{gap:8,justifyContent:"space-between"},textBlock:i().createElement(d.Stack,{gap:1},c?i().createElement(d.Stack.Item,null,i().createElement(d.Text,{color:"white",variant:"body_2"},c)):null,i().createElement(d.Stack.Item,null,i().createElement(d.Text,{color:"white",variant:"headline_3"},Ne(o,{"vip-highlight":ae.vipHighlight}))),l?i().createElement(d.Text,{color:"white",variant:"body_1"},l):null)},k={containerProps:{backgroundColor:"brand_primary",className:ve()(ae.banner,ae.modern)},imagePosition:"right",horizontalLayoutProps:{alignItems:"center",gap:8},image:i().createElement(d.Image,{width:"144px",height:"144px",src:a,fallback:null}),textLayoutProps:{gap:1},title:{children:Ne(o,{"vip-highlight":ae.vipHighlight}),variant:"headline_3",className:ae.bannerTitle},subtitle:{children:Ne(l),color:"white",variant:"body_1"},action:null===m||void 0===m?void 0:m.map((function(e){return{content:i().createElement(d.Button,{variant:"primary",text:e.text,size:"medium"}),href:_(e.actionString),callback:v}})),actionLayoutProps:{gap:8}},b=(t={},(0,ne.Z)(t,N.BookAndUnlock,h),(0,ne.Z)(t,N.InstantDiscount,k),(0,ne.Z)(t,N.SpendAndUnlock,f),(0,ne.Z)(t,N.InstantCredit,f),(0,ne.Z)(t,N.FreeRoomUpgrade,{}),(0,ne.Z)(t,N.OneOffVoucher,{}),(0,ne.Z)(t,N.InstantVoucher,f),t),y=Ae("index",n),S=De(y);return i().createElement(me,(0,s.Z)({},b[n],{ref:S}))}var Ge=n("91e54883");function Ke(e){var t,n,a=(0,g.useI18n)(),l=null===(t=(0,o.getRequestContext)().getUserIdentity())||void 0===t?void 0:t.userId,c=l?l+" banner":"genius_vip_campaigns_index_banner",u=(0,Ge.c)(c,864e5),m=u.dismissed,p=u.closeDismissibleItem,_=(0,r.useContext)(st).programType,v=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_DISMISS",{campaign:_,actionName:"index"}),p()},f=e.asset,h=e.title,k=e.subtitle,b=e.endDate,y=e.progressBar,S=e.cta,E=e.bookAndUnlockRounds,x=y&&y.progress>0,O=function(e){return Te(e||"","index",{banner:"index"})},I=function(){ge.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:_,actionName:"index"})},C={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:i().createElement(d.Image,{width:"96px",height:"96px",src:f,fallback:null}),textBlock:i().createElement(d.Stack,{gap:2},i().createElement(d.Text,{variant:"small_1"},b),i().createElement(d.Text,{variant:"strong_1"},Ne(h,{"vip-highlight":ae.vipHighlight})),x&&y&&i().createElement(ke,(0,s.Z)({},y,{size:"small"}))),action:null===S||void 0===S?void 0:S.map((function(e){return{content:i().createElement(d.Button,{text:e.text,variant:"primary",size:"medium"}),href:O(e.actionString||""),callback:I}})),dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,P.t)("gc_banner_accessibility_close")),onClose:v},actionLayoutProps:{gap:4}},T={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},imagePosition:"right",image:E?i().createElement(Be,{speed:4e3,indicatorStyle:"bar",slideWidth:92},E.map((function(e){return i().createElement(Ve,(0,s.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):i().createElement(d.Image,{width:84,height:84,src:f,fallback:null}),action:null===S||void 0===S?void 0:S.map((function(e){return{content:i().createElement(d.Button,{text:e.text,variant:"primary",size:"medium"}),href:O(e.actionString||""),callback:I}})),actionLayoutProps:{gap:8},textBlock:i().createElement(d.Stack,{gap:2},b?i().createElement(d.Stack.Item,null,i().createElement(d.Text,{color:"white",variant:"small_1"},b)):null,i().createElement(d.Stack.Item,null,i().createElement(d.Text,{color:"white",variant:"strong_1"},Ne(h,{"vip-highlight":ae.vipHighlight}))),k?i().createElement(d.Text,{color:"white",variant:"small_1"},k):null)},w={containerProps:{backgroundColor:"brand_primary",className:ae.banner},horizontalLayoutProps:{alignItems:"center",gap:4},image:i().createElement(d.Image,{width:"84px",height:"84px",src:f,fallback:null}),textLayoutProps:{gap:2},title:{children:Ne(h,{"vip-highlight":ae.vipHighlight}),variant:"strong_1"},suptitle:{children:Ne(b),color:"white",variant:"small_1"},dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,P.t)("gc_banner_accessibility_close")),onClose:v},action:null===S||void 0===S?void 0:S.map((function(e){return{content:i().createElement(d.Button,{text:e.text,variant:"primary",size:"medium"}),href:O(e.actionString||""),callback:I}})),actionLayoutProps:{gap:8}},D=(n={},(0,ne.Z)(n,N.BookAndUnlock,T),(0,ne.Z)(n,N.InstantDiscount,w),(0,ne.Z)(n,N.SpendAndUnlock,C),(0,ne.Z)(n,N.InstantCredit,C),(0,ne.Z)(n,N.FreeRoomUpgrade,{}),(0,ne.Z)(n,N.OneOffVoucher,{}),(0,ne.Z)(n,N.InstantVoucher,C),n),A=Ae("index",_),L=De(A);return i().createElement("div",{className:m?ae.dismissedBannerWrapper:ae.bannerWrapper},i().createElement(me,(0,s.Z)({},D[_],{ref:L})))}var ze={TextWithTranslationTag:function(e){return e.text},Image:function(e){return e.url},GeniusVipIcon:function(e){return e.name}},He=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){if(t.__typename&&ze[t.__typename])return ze[t.__typename](t);if("object"!==(0,re.Z)(t))return t;for(var a in t)if(t.hasOwnProperty(a)){if(!t||"object"!==(0,re.Z)(t))return t;n[a]=e(t[a],Object.assign(t[a]instanceof Array?[]:{},t[a]))}return n}};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(e,t,n,a,r){var i,o,s;if(r&&r.rounds&&n.maxRounds){var l=n.rewardPercent,d=n.endDate,c=n.bookingsPerRound,u=n.maxRounds,m=r.rounds,g=r.isOnboarding,p=r.maxBookingsReached,_=5===l,v={start_style:"<vip-highlight>",end_style:"</vip-highlight>"},f=(null===(i=a.amountEarned)||void 0===i?void 0:i.amount)||0,h=m.reduce((function(e,t){var n=t.rewardAmount,a=t.rewardsSent,r=t.bookingsCount,i=t.maxCount;return null!==n&&void 0!==n&&n.amount&&!a&&r===i?e+n.amount:e}),0),k=(null===(o=a.formattedCurrencies)||void 0===o?void 0:o.amountEarned)||"",b=(null===(s=a.formattedCurrencies)||void 0===s?void 0:s.amountPendingTotal)||"",y=e.trans((0,P.t)("genius_vip_challenge_bnu_end_date",{variables:{end_date:(0,T.p6)(e,{date:new Date(d)||"",form:D})}})),S=m.filter((function(e){return e.rewardsSent})).length,E=S===u,N=function(e,t){return e.map((function(e){var n=e.bookingsCount,a=e.maxCount,r=e.rewardsSent,i=e.isStarted,o=e.index,s=e.formattedCurrencies,l=(null===s||void 0===s?void 0:s.rewardAmount)||"";return{isStarted:i,index:o,ringProps:{size:"small",theme:t,isGappedRing:2!==a,maxCount:a,bookingsCount:n,rewardsSent:r},rewardAmountFormatted:l,label:"",description:""}})).sort((function(e,t){return e.index-t.index}))}(m,"golden"),x={cta:[{text:g?e.trans((0,P.t)("genius_vip_challenge_bnu_cta_get_details")):e.trans((0,P.t)("genius_vip_challenge_bnu_cta_check_progress")),actionString:"genius_vip_campaigns"}]};if(g)Object.assign(x,{title:e.trans((0,P.t)(_?"genius_vip_challenge_bnu_index_banner_title_onboarding_5_percent":"genius_vip_challenge_bnu_index_banner_title_onboarding_10_percent",{variables:Ye({num_booking_threshold:c||5},v),num_exception:c||5})),asset:"https://bstatic.com/data/mobile/gneius_vip_logo_with_ripple_v2@LARGE.png"});else if(E)Object.assign(x,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_earned_total",{variables:Ye({amount_earned_total:k},v)}))});else if(p&&S>0)Object.assign(x,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:b},v)})),subtitle:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}}))});else if(p&&!S)Object.assign(x,{title:e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:b},v)}))});else{N.filter((function(e){return e.isStarted})).slice(-2).forEach((function(t,n){var a=t.ringProps,r=a.bookingsCount,i=a.maxCount,o=a.rewardsSent,s=i-r;0===r?x.subtitle=f&&h&&u>2?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_stay_more",{variables:{amount_earned_total:k}})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_make_another_booking")):r===i?x.title=o?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_earned_last",{variables:Ye({amount_earned_total:k},v)})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:Ye({amount_to_earn_total:b},v)})):t.index>S?x.subtitle=u>2&&f&&2===i?e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_num_booking_to_earn",{variables:{amount_earned_total:k}})):e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_num_booking_to_earn",{variables:{num_booking_more:s},num_exception:s})):x.title=e.trans((0,P.t)(_?"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_5_percent":"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_10_percent",{variables:Ye({num_booking_more:s},v),num_exception:s})),1===n&&S===t.index&&r>0&&(x.subtitle=e.trans((0,P.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}})))}))}var O=(E?N.slice(-1):N.filter((function(e){return e.isStarted&&!e.ringProps.rewardsSent}))).map((function(n){if(0===n.index&&n.ringProps.bookingsCount<n.ringProps.maxCount)return n;var a={content:e.trans((0,P.t)("genius_vip_challenge_bnu_round_num",{variables:{num_round:n.index+1}})),gap:2,textProps:{variant:t?"small_1":"body_2",color:"white"}};return Ye(Ye({},n),{},{ringProps:Ye(Ye({},n.ringProps),{},{additionalText:a})})}));return x.bookAndUnlockRounds=g?void 0:O,x.endDate=x.subtitle?"":y,x}},Je={view:{welcome:b.MODAL_VIEW,reminding:b.REMINDER_MODAL_VIEW,login:b.LOGIN_MODAL_VIEW},click:{welcome:b.MODAL_CTA_CLICK,reminding:b.REMINDER_MODAL_CTA_CLICK,login:b.LOGIN_MODAL_CTA_CLICK},dismiss:{welcome:b.MODAL_DISMISS,reminding:b.REMINDER_MODAL_DISMISS}};var Qe=function(e,t,n,a){var r;"click"!==(r=n)&&"dismiss"!==r&&"view"!==r?ge.eventBus.publish(n,{campaign:e,actionName:t}):a&&Je[n][a]&&ge.eventBus.publish(Je[n][a],{campaign:e,actionName:t})};function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,ne.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=e.actionArray,n=e.isMdot,a=e.modalCategory,r=e.programType,o=e.actionName,l=e.onCtaClick,c=e.onClose;if(!t||!t.length)return null;var u=function(){l&&l(),r&&Qe(r,o,"click",a)},m=function(){c&&c()},g=t.sort((function(e,t){return e.actionDismiss&&!t.actionDismiss?1:!e.actionDismiss&&t.actionDismiss?-1:0})).map((function(e){return{text:e.text,actionString:e.actionString?Te(e.actionString||"",o,et({modal:o,type:a},e.actionParams)):"",actionDismiss:e.actionDismiss}}));return i().createElement(i().Fragment,null,g.map((function(e,t){return i().createElement(d.Button,(0,s.Z)({key:"cta_".concat(e.text)},function(e,t){var a=e.actionString,r=(e.actionDismiss,{text:e.text,size:n?"large":"medium",wide:n,variant:t?"tertiary":"primary"});return et(et({},r),{},a?{onClick:u,attributes:{href:a}}:{onClick:m})}(e,t)))})))}var nt={vipBold:"ccf424a5ad",extraPadding:"d04c5d2f03",doubleExtraPadding:"a91e8e5f9d",mdotActionBar:"cfcd3b7a79","mdotActionBar--noPaddingBottom":"eafe9db2fe"},at=function(e){switch(e){case N.BookAndUnlock:case N.InstantDiscount:return{width:"248px",height:"228px"};case N.InstantCredit:case N.SpendAndUnlock:return{width:"208px",height:"176px"};case N.OneOffVoucher:return{width:"256px",height:"256px"};default:return{width:"208px",height:"176px"}}};var rt,it=function(e){var t,n=e.uiData,a=e.isMdot,r=e.programType,o=e.actionName,s=e.modalCategory,l=e.onClose,c=tt({actionArray:n.cta,isMdot:a,modalCategory:s,programType:r,actionName:o,onClose:l});if(!r||!Object.keys(n).length)return null;var u=at(r),m=2===(null===(t=n.cta)||void 0===t?void 0:t.length);return i().createElement(we.df,{triggerOnce:!0,onChange:function(e){e&&Qe(r,o,"view",s)}},i().createElement(d.Box,{padding:a?4:6,className:ve()(a&&nt.extraPadding,a&&m&&nt.doubleExtraPadding)},i().createElement(d.Stack,{gap:6,alignItems:"center"},i().createElement(d.Stack.Item,null,i().createElement(d.Image,{src:n.asset,width:u.width,height:u.height,contentMode:"fit",fallback:null})),i().createElement(d.Stack.Item,null,i().createElement(d.Stack,{gap:4},i().createElement(d.Stack.Item,null,i().createElement(d.Text,{variant:"headline_2",align:"center"},n.title)),i().createElement(d.Stack.Item,null,i().createElement(d.Text,{variant:a?"body_1":"featured_3",align:"center"},Ne(n.subtitle,{"vip-bold":nt.vipBold}))))),i().createElement(d.Stack.Item,{className:ve()(a&&nt.mdotActionBar,a&&m&&nt["mdotActionBar--noPaddingBottom"])},i().createElement(d.Stack,{gap:a?0:3},n.cta&&c)))))},ot=n("af1e2b38"),st=(0,r.createContext)({programType:N.InstantCredit});function lt(e){var t=e.bannerData,n=e.modalData,a=e.dismissModal,o=e.dismissed,s=e.modalCategory,l=(0,ot.Z)().isMDOT,d=(0,r.useContext)(st).programType,u=(0,r.useContext)(c),m=u.isOpen,g=u.toggle,p=u.setContent,_=it({uiData:n,isMdot:l,programType:d,actionName:"index",modalCategory:s,onClose:g});return(0,r.useEffect)((function(){!o&&n&&(p(_),!m&&Object.keys(n).length&&(g(),a()))})),l?i().createElement(Ke,t):i().createElement(We,t)}function dt(){var e,t,n,s,l,d,c,u,b=(0,ot.Z)().isMDOT,y=function(){var e,t=(0,r.useRef)({localStorageKey:"default_key",localStorageValue:Date.now()+"",modalCategory:"",vipIndex:null}),n=null===(e=(0,o.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,i=(0,o.getRequestContext)().getBasePageUrl().searchParams,s=Q(),l=!Boolean(n)||!(!i.get(I)||!s),d=i.get(O);(0,f.trackExperiment)((0,f.exp)(X||(X=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))));var c=(0,_.useQuery)(h,{variables:{input:{enableEnroll:!0,page:x.INDEX,isFromEmail:Boolean(d)}},skip:l}),u=c.loading,m=c.error,g=c.data;if(m||u||l||!g)return m&&((0,f.trackExperimentStage)((0,f.exp)(Y||(Y=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),5),(0,v.reportWarning)("Genius VIP index query error ".concat(m.message))),t.current;var p=g.geniusVipEnrolledProgram;if(p&&"GeniusVipEnrolledProgram"===p.__typename&&k(p,["metadata","reward","geniusVipUIs"])){(0,f.trackExperimentStage)((0,f.exp)(q||(q=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),3);var b=p.geniusVipUIs.indexModal;b&&(0,f.trackExperimentStage)((0,f.exp)(J||(J=(0,a.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),4);var y="";p.metadata.programType===N.OneOffVoucher&&"reminding"!==(null===b||void 0===b?void 0:b.modalCategory)&&d?y=d:b&&k(b,["modalCategory","uniqueKey"])&&(y=b.modalCategory+b.uniqueKey),t.current={vipIndex:p,localStorageKey:(n||d)+"",localStorageValue:y,modalCategory:b&&b.modalCategory||""}}return t.current}(),E=y.localStorageKey,C=y.localStorageValue,P=y.vipIndex,T=y.modalCategory,w=(0,Ge.T)(E,C),D=w.closeDismissibleItem,A=w.dismissed,L=(0,g.useI18n)(),R=null===(e=(0,o.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,F=(0,o.getRequestContext)().getBasePageUrl(),M=null===F||void 0===F?void 0:F.searchParams,B=null===P||void 0===P||null===(t=P.metadata)||void 0===t?void 0:t.programType,U=He((null===P||void 0===P||null===(n=P.geniusVipUIs)||void 0===n?void 0:n.indexModal)||{});if(!B&&!R&&M.get(I)===N.OneOffVoucher&&(0,p.isFeatureRunning)((0,p.feature)(rt||(rt=(0,a.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLae"]))))){var j=$(M,L);U=j.indexModal,T=j.modalCatgory,B=N.OneOffVoucher}var Z=He((null===y||void 0===y||null===(s=y.vipIndex)||void 0===s||null===(l=s.geniusVipUIs)||void 0===l?void 0:l.indexBanner)||{});B===N.BookAndUnlock&&P&&k(P,["metadata","reward","userProgress"])&&(Z=qe(L,b,P.metadata,P.reward,P.userProgress)||{});var V=0===Object.keys(U).length,W=0===Object.keys(Z).length;if((0,r.useEffect)((function(){B!==N.OneOffVoucher||V||T!==S.LOGIN&&T!==S.EXPIRE||!F||(F.searchParams.set("offlineModalShown","1"),window.history.pushState({},"",F))}),[B,V,F,T]),!B)return null;if(W&&V)return null;if(B===N.BookAndUnlock&&null!==P&&void 0!==P&&null!==(d=P.userProgress)&&void 0!==d&&d.maxRewardsReached)return null;var G=null;if("SpendAndUnlockProgramMetadata"===(null===P||void 0===P||null===(c=P.metadata)||void 0===c?void 0:c.__typename)&&"SpendAndUnlockReward"===(null===(u=P.reward)||void 0===u?void 0:u.__typename)){var K,z,H,ee,te=P.metadata,ne=null===(K=P.reward.amountTotalUserSpent)||void 0===K?void 0:K.amount,ae=null===(z=te.upperLimit)||void 0===z?void 0:z.amount,re=null===(H=te.threshold)||void 0===H?void 0:H.amount;if(ne&&ae&&re&&te.rewardPercent&&null!==(ee=Z.progressBar)&&void 0!==ee&&ee.indicators){var ie,oe,se=null===(ie=Z)||void 0===ie||null===(oe=ie.progressBar)||void 0===oe?void 0:oe.indicators.map((function(e){return{value:(null===e||void 0===e?void 0:e.value)||0,formattedValue:(null===e||void 0===e?void 0:e.formattedValue)||""}}));G={progress:ne,upperLimit:ae/((null===te||void 0===te?void 0:te.rewardPercent)/100),threshold:re,indicators:se,size:b?"small":"medium"}}}Object.assign(Z,{progressBar:G});var le={isMdot:b,openOnLoad:!1,onAfterClose:function(){B&&Qe(B,"index","dismiss",T)},sheetContainerProps:{fill:!0,onAfterOpen:function(){(0,f.trackGoalWithValue)("js_sheet_container_displayed",1)}}};return i().createElement(st.Provider,{value:{programType:B}},i().createElement(m,le,i().createElement(lt,{bannerData:Z,modalData:U,dismissModal:D,dismissed:A,modalCategory:T})))}},"91e54883":function(e,t,n){"use strict";n.d(t,{c:function(){return S},T:function(){return E}});var a=n("51373183"),r=n("ead71eb0"),i=n("129c48b3"),o=n.n(i),s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=function(e){return"string"===typeof e&&s.test(e)},d=[],c=0;c<256;++c)d.push((c+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};var m=function(e){if(!l(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var g="6ba7b810-9dad-11d1-80b4-00c04fd430c8",p="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function v(e,t){return e<<t|e>>>32-t}var f=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var r=0;r<a.length;++r)e.push(a.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o),l=0;l<o;++l){for(var d=new Uint32Array(16),c=0;c<16;++c)d[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];s[l]=d}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<o;++u){for(var m=new Uint32Array(80),g=0;g<16;++g)m[g]=s[u][g];for(var p=16;p<80;++p)m[p]=v(m[p-3]^m[p-8]^m[p-14]^m[p-16],1);for(var f=n[0],h=n[1],k=n[2],b=n[3],y=n[4],S=0;S<80;++S){var E=Math.floor(S/20),N=v(f,5)+_(E,h,k,b)+y+t[E]+m[S]>>>0;y=b,b=k,k=v(h,30)>>>0,h=f,f=N}n[0]=n[0]+f>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]},h=function(e,t,n){function a(e,a,r,i){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof a&&(a=m(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(a),o.set(e,a.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,r){i=i||0;for(var s=0;s<16;++s)r[i+s]=o[s];return r}return u(o)}try{a.name=e}catch(r){}return a.DNS=g,a.URL=p,a}("v5",80,f),k=h;function b(e){return k(e+"","78f09b1c-730c-49ff-8e0f-23315c42a5b7")}function y(e,t){var n=(0,r.useState)(!0),i=(0,a.Z)(n,2),s=i[0],l=i[1];return o()((function(){try{var n=window.localStorage.getItem(e);n&&t(n)?l(!0):l(!1)}catch(a){}})),[s,l]}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5,n=b(e),r=y(n,(function(e){return Date.now()-+e<=t})),i=(0,a.Z)(r,2),o=i[0],s=i[1];return{closeDismissibleItem:function(){s(!0),window.localStorage.setItem(n,JSON.stringify(Date.now()))},dismissed:o,encryptLocalStorageKey:n}}function E(e,t){var n=b(e),i=y(n,(function(e){return e===t})),o=(0,a.Z)(i,2),s=o[0],l=o[1];return{closeDismissibleItem:(0,r.useCallback)((function(){l(!0),window.localStorage.setItem(n,t)}),[n,l,t]),dismissed:s,encryptLocalStorageKey:n}}},"107a8bb5":function(e,t,n){"use strict";n.d(t,{p6:function(){return j}});var a=n("730a5a32"),r=n("abab1afe");function i(e,t,n){void 0===t&&(t=2),void 0===n&&(n="0");for(var a=(e||"").toString(),r=a.length;r<t;)a=n+a,r++;return a}function o(e){return e instanceof Date&&!isNaN(e.getTime())}function s(e){return{dayOfMonth:e.getDate(),day:(t=e.getDay(),0===t?7:t),month:e.getMonth()+1,year:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()};var t}function l(e){return void 0===e&&(e={}),Object.keys(e).reduce((function(t,n){var a=e[n];return null!==a&&"undefined"!==typeof a&&("string"===typeof a?t[n]=a:"number"!==typeof a||isNaN(a)||(t[n]=a.toString(10))),t}),{})}function d(e,t){var n;if(!e)throw new Error("No i18n object provided");var d=function(e){var t=o(e)?e:new Date("2019-01-01T"+e);if(o(t)){var n=s(t);return{hour:n.hours,minutes:n.minutes,seconds:n.seconds}}throw new Error("formatting/time: invalid time provided \u2014 "+e)}(t.time),c=(d.hour<12?"AM":"PM")+"_symbol",u=(0,a.pi)({AM_PM:e.trans((0,r.t)("time_format",c,"name",{variables:{}}))},function(e,t){var n=e.hour,a=t?n:e.hour,r=0===e.hour||12===e.hour?12:e.hour%12;return l({hour_24h_no0:e.hour,hour_24h:i(e.hour),hour_24h_show24:i(n),hour_24h_until24:i(a),hour_12h:i(r),minutes_no0:e.minutes,minutes:i(e.minutes),hour_12h_no0:r,hour_24h_show24_no0:n,hour_24h_until24_no0:a})}(d,null!==(n=t.until)&&void 0!==n&&n));return e.trans((0,r.t)("time_format","time","name",{variables:u}))}(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name"));var c="name";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","genitive_lc"));var u="genitive_lc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","genitive_uc"));var m="genitive_uc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_only"));var g="name_only";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_in"));var p="name_in";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_from"));var _="name_from";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_to"));var v="name_to";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_def_article_lc"));var f="name_def_article_lc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","in_month_lc"));var h="in_month_lc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","name_lc"));var k="name_lc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","to_month_lc"));var b="to_month_lc";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","short_name"));var y="short_name";(0,r.registerDynamicTags)((0,r.t)("month_for_formatted_date","fakeIndex","short_name_uc"));var S="short_name_uc",E=n("171cecd0");(0,r.registerDynamicTags)((0,r.t)("weekday_formatted_date","fakeIndex","name_on"));var N="name_on";(0,r.registerDynamicTags)((0,r.t)("weekday_formatted_date","fakeIndex","name_from"));var x="name_from";(0,r.registerDynamicTags)((0,r.t)("weekday_formatted_date","fakeIndex","name_to"));var O="name_to";(0,r.registerDynamicTags)((0,r.t)("weekday_formatted_date","fakeIndex","short"));var I="short";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_from"));var C="day_from";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_on"));var P="day_on";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_other"));var T="day_other";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_until"));var w="day_until";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","name"));var D="name";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_1"));var A="day_1";(0,r.registerDynamicTags)((0,r.t)("day_for_formatted_date","fakeIndex","day_2"));var L="day_2";function R(e){var t=(0,a.CR)(/^(\d{2}):(\d{2})(:(\d{2}))?/.exec(e)||[],5),n=t[1],r=t[2],o=t[4],s=void 0===o?"0":o;return new Date("2020-01-01T"+i(n)+":"+i(r)+":"+i(s))}function F(e){var t=(0,a.CR)(e.split(/[\sT]/),2),n=t[0],r=t[1];if(n||r){var o=new Date;if(n&&(o=function(e){var t=(0,a.CR)(/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e)||[],4),n=t[1],r=t[2],o=t[3];return new Date(n+"-"+i(r)+"-"+i(o)+"T00:00")}(n)),r){var l=R(r),d=s(o),c=d.year,u=d.month,m=d.dayOfMonth,g=s(l),p=g.hours,_=g.minutes,v=g.seconds;o=new Date(c,u-1,m,p,_,v)}return o}return null}function M(e,t){var n=o(e)?e:F(e),a=t?o(t)?t:R(t):void 0;if(!n)throw new Error("No date provided \u2014 '"+e+"' '"+t+"'");if(o(a)&&o(e)){var r=s(e),i=r.year,l=r.month,d=r.dayOfMonth,c=s(a),u=c.hours,m=c.minutes,g=c.seconds;n=new Date(i,l-1,d,u,m,g)}if(!o(n))throw new Error("invalid date provided \u2014 '"+e+"' '"+t+"'");return n}function B(e,t,n,a,i){return void 0===i&&(i={}),Object.keys(i).reduce((function(o,s){return o[s+t]=e.trans((0,r.t)(n,a.toString(),i[s])),o}),{})}function U(e,t,n){var o,l;void 0===n&&(n="");var R=s(t),F=R.month,M=R.year,U=R.dayOfMonth,j=R.day,Z=F.toString(),V=(0,a.pi)((0,a.pi)((0,a.pi)(((o={})["full_year"+n]=M.toString(),o["month"+n]=Z,o["day_of_month"+n]=U.toString(),o["month_name_with_year_only"+n]=e.trans((0,r.t)("month_for_formatted_date",Z,"name_with_year_only")),o["time"+n]=d(e,{time:t}),o),B(e,n,"day_for_formatted_date",U,{day_name_from:C,day_name_on:P,day_name_other:T,day_name_till:w,day_name_1:D,day_other:T,day_name:D,day_1:A,day_of_month:D,day_2:L})),B(e,n,"month_for_formatted_date",F,{month_1:c,month_2:c,month_name_1:c,month_name_2:c,month_name:c,month_name_genitive_lc:u,month_name_genitive_uc:m,month_name_nom:g,month_name_in:p,month_name_from:_,month_name_to:v,month_genitive_uc:m,month_name_def_article_lc:f,month_name_genitive:u,month_name_in_lc:h,month_name_lc:k,month_name_to_lc:b,month_name_with_year_only:g,short_month_name:y,short_month_name_uc:S})),B(e,n,"weekday_formatted_date",j,{weekday:E.Z,weekday_nom:N,weekday_from:x,weekday_to:O,short_weekday:I}));return(0,a.pi)(((l={})["year"+n]=V.full_year,l["day_name_0"+n]=i(V.day_of_month),l["day_name_1"+n]=V.day_of_month,l["month_name_0"+n]=i(V.month),l["month_name_1"+n]=V.month,l["day_name_from_0"+n]=i(V["day_name_from"+n]),l["day_name_on_0"+n]=i(V["day_name_on"+n]),l["day_name_other_0"+n]=i(V["day_name_other"+n]),l["day_name_till_0"+n]=i(V["day_name_till"+n]),l),V)}function j(e,t){if(!e)throw new Error("No i18n object provided");var n=t.time,i=t.timeUntil,o=t.beginMarker,s=void 0===o?"(":o,c=t.endMarker,u=void 0===c?")":c,m=t.form,g=t.date,p=t.dateUntil,_=(0,a.pi)({begin_marker:s,end_marker:u},U(e,M(g,n)));return p&&(_=(0,a.pi)((0,a.pi)({},_),U(e,M(p,i),"_until"))),n&&(_.time=d(e,{time:n})),i&&(_.time_until=d(e,{time:i})),m?e.trans((0,r.t)("date_format","1",m,{variables:l(_)})):e.trans((0,r.t)("date_format","1","short_date",{variables:l(_)}))}},"171cecd0":function(e,t,n){"use strict";var a=n("abab1afe");(0,a.registerDynamicTags)((0,a.t)("weekday_formatted_date","fakeIndex","name")),t.Z="name"},"8521b397":function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var o=r.apply(null,n);o&&e.push(o)}else if("object"===i)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},"58a2abd5":function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n("f5a638cf");function r(e,t){if(null==e)return{};var n,r,i=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},32100371:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n("d03db783");var r=n("f502ffc6");function i(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/f5d0e2e7.c2328236.chunk.js.map