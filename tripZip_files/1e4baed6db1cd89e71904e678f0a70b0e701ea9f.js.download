var _i_=this._i_||function(){},_r_=this._r_||function(e){return e};booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.searchbox={loaded:!0,run:!1}),B.define("caret",function(){_i_("4ab:50a5d6aa");return _r_({getPosition:function(e){var t;if(_i_("4ab:1399bc4f"),!e)return _r_();if(document.selection)return e.focus(),(t=document.selection.createRange()).moveStart("character",-e.value.length),_r_(t.text.length);if(e.selectionStart||0===e.selectionStart)return _r_(e.selectionStart);return _r_(0)},setPosition:function(e,t){var i;if(_i_("4ab:536e7091"),!e)return _r_();document.selection?(e.focus(),(i=document.selection.createRange()).moveStart("character",-e.value.length),i.moveStart("character",t),i.moveEnd("character",0),i.select()):(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=t,e.focus()),_r_()},setSelection:function(e,t,i){var a;if(_i_("4ab:b3966198"),!e)return _r_();document.selection?(e.focus(),(a=document.selection.createRange()).moveStart("character",-e.value.length),a.moveStart("character",t),a.moveEnd("character",i-t),a.select()):(e.selectionStart||0===e.selectionStart)&&(e.selectionStart=t,e.selectionEnd=i,e.focus()),_r_()},getSelectionLength:function(e){var t;if(_i_("4ab:735a2def"),!e)return _r_();if(document.selection)return e.focus(),t=document.selection.createRange(),_r_(t.text.length||0);if(e.selectionStart||0===e.selectionStart)return _r_(e.selectionEnd-e.selectionStart);return _r_(0)}})}),B.define("click-out",function(e,t,i){"use strict";_i_("4ab:fff452bb");var s={},a=!1;function n(e){_i_("4ab:ad210c4a");var t,i=Object.keys(s),a={},n=!1;if(i.length)for(t=e.target||e.srcElement;t&&(i.forEach(function(e){_i_("4ab:efe0fbc1"),s[e].element===t&&(a[e]=!0,1==i.length&&(n=!0)),_r_()}),!n);)t=t.parentNode;i.forEach(function(e){_i_("4ab:bf144444"),!a[e]&&s[e]&&(s[e].callback.call(!1),o(e)),_r_()}),_r_()}function o(e){_i_("4ab:e16b90f5"),s[e]&&delete s[e],_r_()}t.addMonitor=function(e,t){_i_("4ab:4eea37e7"),_i_("4ab:c17566ca"),a||(a=!0,document.documentElement.addEventListener?document.documentElement.addEventListener("click",n):document.documentElement.attachEvent&&document.documentElement.attachEvent("onclick",n)),_r_();var i=Math.random();return"string"==typeof e.jquery&&(e=e[0]),setTimeout(function(){_i_("4ab:9952e084"),s[i]={element:e,callback:t},_r_()},4),_r_(i)},t.removeMonitor=o,t.forceClickOut=function(){_i_("4ab:d4e2fa88"),Object.keys(s).forEach(function(e){_i_("4ab:ffe354e3"),s[e].callback.call(!1),o(e),_r_()}),_r_()},_r_()}),B.define("deny-focus",function(e,t,i){"use strict";return _i_("4ab:c105dfa2"),_r_({_focusAttributes:{tabindex:-1,"aria-hidden":!0},_denyFocusOn:[],_get:function(t){return _i_("4ab:49251ead"),_r_(this._denyFocusOn.filter(function(e){if(_i_("4ab:5bd98b23"),e.el===t)return _r_(!0);return _r_(!1)})[0])},_add:function(e){_i_("4ab:3560760b");var t=this._getFocusableElements(e),i={el:e,focusable:t,focusableOriginalAttributes:this._buildAttributesObject(t)};return this._denyFocusOn.push(i),_r_(i)},_update:function(e){_i_("4ab:3e71e8fe");var t=this._getFocusableElements(e.el);e.focusable=t,e.focusableOriginalAttributes=this._buildAttributesObject(t),_r_()},_buildAttributesObject:function(e){return _i_("4ab:9f219c08"),_r_(e.map(function(t){_i_("4ab:48092da2");var i={};return Object.keys(this._focusAttributes).forEach(function(e){_i_("4ab:42b3beef"),i[e]=t.getAttribute(e),_r_()}),_r_(i)}.bind(this)))},_getFocusableElements:function(e){_i_("4ab:5fdb8c82");var t=e.querySelectorAll("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]");return _r_(Array.prototype.slice.call(t))},deny:function(e){if(_i_("4ab:71875e1f"),!e||!e instanceof Node)return console.log("Please provide a valid DOMElement to deny focus for"),_r_(!1);var t=this._get(e);t?this._update(t):t=this._add(e),t.focusable.forEach(function(t){_i_("4ab:ead5a0b7"),Object.keys(this._focusAttributes).forEach(function(e){_i_("4ab:f3a3f028"),t.setAttribute(e,this._focusAttributes[e]),_r_()}.bind(this)),_r_()}.bind(this)),_r_()},allow:function(e){if(_i_("4ab:1c780576"),!e||!e instanceof Node)return console.log("Please provide a valid DOMElement to deny focus for"),_r_(!1);var t=this._get(e);return t?(t.focusable.forEach(function(i,e){_i_("4ab:79cd96c7");var a=t.focusableOriginalAttributes[e];Object.keys(a).forEach(function(e){_i_("4ab:6f949722");var t=a[e];null==t?i.removeAttribute(e):i.setAttribute(e,a[e]),_r_()}),_r_()}),_r_(!0)):_r_(!1)}})}),B.define("keycodes",[],function(){"use strict";_i_("4ab:80bc84b5");var a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,delete:46,navigation:[9].concat(e(33,40)),deletion:[8,46],arrow:e(37,40),number:e(48,57).concat(e(96,105)),backquoteNumeric:192,alphabetic:e(65,90),modifier:e(16,18)};function e(e,t){_i_("4ab:83a52ba4");for(var i=[],a=0;a<=t-e;a++)i.push(e+a);return _r_(i)}function n(e,t){if(_i_("4ab:768b926a"),Array.isArray(a[e])&&-1!==a[e].indexOf(t))return _r_(!0);if(a[e]===t)return _r_(!0);return _r_(!1)}function i(e,t){return _i_("4ab:bf671d22"),_r_(n(t,e))}a=function(e){_i_("4ab:0fefaabc");var i=65;return _r_("abcdefghijklmnopqrstuvwxyz".split("").reduce(function(e,t){return _i_("4ab:d3ccc5bc"),e[t]=i++,_r_(e)},e))}(a);var s={getTypes:function(t){_i_("4ab:ad5c6319");var i=[];return Object.keys(a).forEach(function(e){_i_("4ab:8fc15c2d"),n(e,t)&&i.push(e),_r_()}),_r_(i)},isKeycodeType:i};return Object.keys(a).forEach(function(t){var e;_i_("4ab:484ba84e"),s["is"+(e=t,_i_("4ab:2984a907"),_r_(e.slice(0,1).toUpperCase()+e.slice(1)))]=function(e){return _i_("4ab:4209f82c"),_r_(i(e,t))},_r_()}),_r_(s)}),B.define("read-data-options",function(e,t,i){_i_("4ab:b2e7a21d"),i.exports=function(n,s){_i_("4ab:9b133c1b");var o={};return n.jquery&&(n=n[0]),Object.keys(s).forEach(function(e){_i_("4ab:dcce8877");var t=s[e],i="data-"+e,a=null;if("function"==typeof t&&(t={type:t}),"string"==typeof t.name&&(i="data-"+t.name),!n.attributes[i]){if(t.hasOwnProperty("defaultValue"))o[e]=t.defaultValue;else if(t.hasOwnProperty("required"))throw new Error("read-data-options: missing required "+i+" attribute");return _r_()}a=n.getAttribute(i);if(t.type===Boolean)a=!/^0|false|no|off$/.test(a);else if(t.type===String)a=a||t.defaultValue;else{if(t.type!==Number)throw new Error("data-options: Invalid option type for "+e);a=parseFloat(a,10),isNaN(a)&&(a=t.defaultValue)}o[e]=a,_r_()}),_r_(o)},_r_()}),B.define("calendar-base",function(e,t,i){function m(e){_i_("4ab:eadb8bc9"),e=e||{},this.startDate=e.startDate,this.endDate=e.endDate,this.siblingMonths=e.siblingMonths,this.weekNumbers=e.weekNumbers,this.weekStart=e.weekStart,void 0===this.weekStart&&(this.weekStart=0),_r_()}_i_("4ab:75a1be19"),m.prototype.getCalendar=function(e,t){_i_("4ab:af5a1508");var i=new Date(Date.UTC(e,t,1,0,0,0,0));e=i.getUTCFullYear(),t=i.getUTCMonth();for(var a,n,s,o,r,_=[],l=i.getUTCDay(),d=-(7-this.weekStart+l)%7,h=m.daysInMonth(e,t),c=(h-d)%7,u=m.daysInMonth(e,t-1),f=d,b=h-f+(0!=c?7-c:0)+d,p=null;f<b;)a=((f<1?7+f:f)+l)%7,(n=f+1)<1||h<n?this.siblingMonths?(n<1?(r=e,(o=t-1)<0&&(o=11,r--),n=u+n):h<n&&(r=e,11<(o=t+1)&&(o=0,r++),n=f-h+1),s={day:n,weekDay:a,month:o,year:r,siblingMonth:!0}):s=!1:s={day:n,weekDay:a,month:t,year:e},s&&this.weekNumbers&&(null===p?p=m.calculateWeekNumber(s):1==a&&52==p?p=1:1==a&&p++,s.weekNumber=p),s&&this.startDate&&(s.selected=this.isDateSelected(s)),_.push(s),f++;return _r_(_)},m.prototype.isDateSelected=function(e){if(_i_("4ab:15796b9b"),e.year==this.startDate.year&&e.month==this.startDate.month&&e.day==this.startDate.day)return _r_(!0);if(this.endDate){if(e.year==this.startDate.year&&e.month==this.startDate.month&&e.day<this.startDate.day)return _r_(!1);if(e.year==this.endDate.year&&e.month==this.endDate.month&&e.day>this.endDate.day)return _r_(!1);if(e.year==this.startDate.year&&e.month<this.startDate.month)return _r_(!1);if(e.year==this.endDate.year&&e.month>this.endDate.month)return _r_(!1);if(e.year<this.startDate.year)return _r_(!1);if(e.year>this.endDate.year)return _r_(!1);return _r_(!0)}return _r_(!1)},m.prototype.setStartDate=function(e){_i_("4ab:b46bd485"),this.startDate=e,_r_()},m.prototype.setEndDate=function(e){_i_("4ab:5e5b3f69"),this.endDate=e,_r_()},m.prototype.setDate=m.prototype.setStartDate,m.diff=function(e,t){return _i_("4ab:bd7e1bb7"),e=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),t=new Date(Date.UTC(t.year,t.month,t.day,0,0,0,0)),_r_(Math.ceil((e.getTime()-t.getTime())/864e5))},m.interval=function(e,t){return _i_("4ab:5f59974d"),_r_(Math.abs(m.diff(e,t))+1)},m.compare=function(e,t){if(_i_("4ab:93d77961"),"object"!=typeof e||"object"!=typeof t||null===e||null===t)throw new TypeError("dates must be objects");if(e.year<t.year)return _r_(-1);if(e.year>t.year)return _r_(1);if(e.month<t.month)return _r_(-1);if(e.month>t.month)return _r_(1);if(e.day<t.day)return _r_(-1);if(e.day>t.day)return _r_(1);return _r_(0)},m.daysInMonth=function(e,t){return _i_("4ab:d478bc66"),_r_(new Date(e,t+1,0).getDate())},m.isLeapYear=function(e){return _i_("4ab:7e93f3c0"),_r_(e%4==0&&e%100!=0||e%400==0)},m.calculateWeekNumber=function(e){_i_("4ab:7a7ad21e");var t=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0)),i=new Date(t.valueOf()),a=(t.getUTCDay()+6)%7;i.setUTCDate(i.getUTCDate()-a+3);var n=i.valueOf();return i.setUTCMonth(0,1),4!=i.getUTCDay()&&i.setUTCMonth(0,1+(4-i.getUTCDay()+7)%7),_r_(1+Math.ceil((n-i)/6048e5))},i.exports={Calendar:m},_r_()}),B.define("morphdom",function(e,t,i){_i_("4ab:e2c86c4b"),function(e){if(_i_("4ab:ab944764"),"object"==typeof t&&void 0!==i)i.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).morphdom=e()}_r_()}(function(){var e,F;_i_("4ab:6ef9ef9c"),e={exports:{}};var N,t="undefined"!=typeof document?document.body||document.createElement("div"):{},j="http://www.w3.org/1999/xhtml";function T(e){for(var t in _i_("4ab:ace7a10f"),e)if(e.hasOwnProperty(t))return _r_(!1);return _r_(!0)}N=t.hasAttributeNS?function(e,t,i){return _i_("4ab:eade7059"),_r_(e.hasAttributeNS(t,i))}:t.hasAttribute?function(e,t,i){return _i_("4ab:48b626c7"),_r_(e.hasAttribute(i))}:function(e,t,i){return _i_("4ab:b1b897cf"),_r_(!!e.getAttributeNode(i))};var I={OPTION:function(e,t){_i_("4ab:766a26cf"),e.selected=t.selected,e.selected?e.setAttribute("selected",""):e.removeAttribute("selected",""),_r_()},INPUT:function(e,t){_i_("4ab:8ce9f1cf"),e.checked=t.checked,e.checked?e.setAttribute("checked",""):e.removeAttribute("checked"),e.value!==t.value&&(e.value=t.value),N(t,null,"value")||e.removeAttribute("value"),e.disabled=t.disabled,e.disabled?e.setAttribute("disabled",""):e.removeAttribute("disabled"),_r_()},TEXTAREA:function(e,t){_i_("4ab:fafa0a75");var i=t.value;e.value!==i&&(e.value=i),e.firstChild&&e.firstChild.nodeValue!==i&&(e.firstChild.nodeValue=i),_r_()}};function A(){}var O=function(e,t){return _i_("4ab:ee20f945"),_r_(e.nodeName===t.nodeName&&e.namespaceURI===t.namespaceURI)};function L(e){return _i_("4ab:dc0a4ac8"),_r_(e.id)}return e.exports=function(e,t,i){if(_i_("4ab:af448acf"),i||(i={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName){var a=t;(t=document.createElement("html")).innerHTML=a}else n=t,_i_("4ab:6e64c2c2"),!F&&document.createRange&&(F=document.createRange()).selectNode(document.body),F&&F.createContextualFragment?s=F.createContextualFragment(n):(s=document.createElement("body")).innerHTML=n,t=_r_(s.childNodes[0]);var n,s,p={},m={},g=i.getNodeKey||L,M=i.onBeforeNodeAdded||A,v=i.onNodeAdded||A,y=i.onBeforeElUpdated||A,B=i.onElUpdated||A,o=i.onBeforeNodeDiscarded||A,r=i.onNodeDiscarded||A,C=i.onBeforeElChildrenUpdated||A,_=!0===i.childrenOnly,x=[];function l(e){if(_i_("4ab:5e13d614"),1===e.nodeType)for(var t=e.firstChild;t;)g(t)||(r(t),l(t)),t=t.nextSibling;_r_()}function D(e,t,i){if(_i_("4ab:f34545d8"),!1===o(e))return _r_();t.removeChild(e),i?g(e)||(r(e),l(e)):function e(t,i){_i_("4ab:17cb2e51");var a=g(t);if(a?p[a]=t:i||r(t),1===t.nodeType)for(var n=t.firstChild;n;)e(n,i||a),n=n.nextSibling;_r_()}(e),_r_()}function k(e,t,i,a){_i_("4ab:cb66c668");var n=g(t);if(n&&delete p[n],!a){if(!1===y(e,t))return _r_();if(function(e,t){_i_("4ab:3c17c39e");var i,a,n,s,o,r,_=t.attributes;for(i=_.length-1;0<=i;i--)n=(a=_[i]).name,o=a.value,(s=a.namespaceURI)?(n=a.localName||n,r=e.getAttributeNS(s,n)):r=e.getAttribute(n),r!==o&&(s?("xmlns"===a.prefix&&(n=a.name),e.setAttributeNS(s,n,o)):e.setAttribute(n,o));for(i=(_=e.attributes).length-1;0<=i;i--)!1!==(a=_[i]).specified&&(n=a.name,s=a.namespaceURI,N(t,s,s?n=a.localName||n:n)||e.removeAttributeNode(a));_r_()}(e,t),B(e),!1===C(e,t))return _r_()}if("TEXTAREA"!==e.nodeName){var s,o,r,_,l,d=t.firstChild,h=e.firstChild;e:for(;d;){for(r=d.nextSibling,s=g(d);h;){var c=g(h);if(o=h.nextSibling,!i&&c&&(l=m[c])){l.parentNode.replaceChild(h,l),k(h,l,i),h=o;continue}var u=h.nodeType;if(u===d.nodeType){var f=!1;if(1===u?(O(h,d)&&(c||s?s===c&&(f=!0):f=!0),f&&k(h,d,i)):3!==u&&8!=u||(f=!0,h.nodeValue=d.nodeValue),f){d=r,h=o;continue e}}D(h,e,i),h=o}s&&((_=p[s])?(k(_,d,!0),d=_):m[s]=d),!1!==M(d)&&(e.appendChild(d),v(d)),1===d.nodeType&&(s||d.firstChild)&&x.push(d),d=r,h=o}for(;h;)o=h.nextSibling,D(h,e,i),h=o}var b=I[e.nodeName];b&&b(e,t),_r_()}var d,h,c=e,u=c.nodeType,f=t.nodeType;if(!_)if(1===u)1===f?O(e,t)||(r(e),c=function(e,t){_i_("4ab:6593b9e4");for(var i=e.firstChild;i;){var a=i.nextSibling;t.appendChild(i),i=a}return _r_(t)}(e,(d=t.nodeName,h=t.namespaceURI,_i_("4ab:b9ab9e43"),_r_(h&&h!==j?document.createElementNS(h,d):document.createElement(d))))):c=t;else if(3===u||8===u){if(f===u)return c.nodeValue=t.nodeValue,_r_(c);c=t}if(c===t)r(e);else{k(c,t,!1,_);var b=function(e){_i_("4ab:07e8f038");for(var t=e.firstChild;t;){var i=t.nextSibling,a=g(t);if(a){var n=p[a];if(n&&O(t,n)){if(t.parentNode.replaceChild(n,t),k(n,t,!0),t=i,T(p))return _r_(!1);continue}}1===t.nodeType&&b(t),t=i}_r_()};if(!T(p))e:for(;x.length;){var w=x;x=[];for(var $=0;$<w.length;$++)if(!1===b(w[$]))break e}for(var E in p)if(p.hasOwnProperty(E)){var S=p[E];r(S),l(S)}}return!_&&c!==e&&e.parentNode&&e.parentNode.replaceChild(c,e),_r_(c)},_r_(e.exports)}),_r_()}),booking.browserStorageHandler=function(d,e,h,c){_i_("4ab:a11e61ce");var u=!1;try{(u=!(!d.localStorage||!d.sessionStorage))&&d.localStorage.setItem("btest","1")}catch(e){u=!1}var a={_readCookie:function(e){_i_("4ab:51d0b270");var t={};try{"undefined"!=typeof JSON&&(t=JSON.parse(c.cookie(e))||{})}catch(e){}return _r_(t)},_modifySingleValue:function(e,t,i,a,n){if(_i_("4ab:22c7266b"),!t||!i)return _r_(!1);if(u&&!n){var s="session"===e?d.sessionStorage:d.localStorage;if("delete"===t)s.removeItem(i);else try{s.setItem(i,a)}catch(e){}}else{var o,r,_,l;"session"===e?o="bs":(o="b",l=30),r=this._readCookie(o),"delete"===t?delete r[i]:r[i]=a,_=c.isEmptyObject(r)?null:JSON.stringify(r),c.cookie(o,_,{expires:l,path:"/",domain:h.b_domain_end})}_r_()},_getValue:function(e,t,i){if(_i_("4ab:f1ea0118"),!t)return _r_(void 0);if(u&&!i){var a="session"===e?d.sessionStorage:d.localStorage;return _r_(a.getItem(t))}var n,s;return n="session"===e?"bs":"b",s=this._readCookie(n),_r_(s[t])}};return _r_({addSessionValue:function(e,t,i){return _i_("4ab:b380b492"),_r_(a._modifySingleValue("session","add",e,t,i))},deleteSessionValue:function(e,t){return _i_("4ab:d61f09c2"),_r_(a._modifySingleValue("session","delete",e,void 0,t))},getSessionValue:function(e,t){return _i_("4ab:d6b8f5d6"),_r_(a._getValue("session",e,t))},addPermanentValue:function(e,t,i){return _i_("4ab:fe0aaa49"),_r_(a._modifySingleValue("permanent","add",e,t,i))},deletePermanentValue:function(e,t){return _i_("4ab:99a942db"),_r_(a._modifySingleValue("permanent","delete",e,void 0,t))},getPermanentValue:function(e,t){return _i_("4ab:07d7aebb"),_r_(a._getValue("permanent",e,t))},isLocalStorageSupported:function(){return _i_("4ab:1bca3a3a"),_r_(u)}})}(window,document,booking.env,window.jQuery),booking.define&&booking.define("browser-storage-handler",booking.browserStorageHandler),B.define("search/modules/flags",function(e,t,i){_i_("4ab:5add769b"),i.exports={parse:function(e){_i_("4ab:67450727");var s={};if("string"!=typeof e)throw new TypeError("First argument must be a string");if(""===(e=e.trim()))return _r_(s);return e.split(/\s+/).forEach(function(e){_i_("4ab:77d12fd8");var t,i=e,a=!0,n=e.indexOf(":");-1!==n&&(i=e.substr(0,n),(a=e.substr(n+1))||(a=0),t=a,_i_("4ab:cf893a7a"),_r_(!isNaN(parseFloat(t))&&isFinite(t))&&(a=parseInt(a,10))),s[i]=a,_r_()}),_r_(s)}},_r_()}),B.define("search/modules/search-date",function(e,t,i){_i_("4ab:11f50899");var a=e("calendar-base").Calendar;function n(e){_i_("4ab:4575f3c6"),this.year=null,this.month=null,this.day=null,this.complete=!1,"number"==typeof e.year&&(this.year=e.year),"number"==typeof e.month&&(this.month=e.month),"number"==typeof e.day&&(this.day=e.day),null!==this.month&&(this.month<0?this.month=0:11<this.month&&(this.month=11)),null!==this.day&&(this.day<0?this.day=0:this.day>s(this.year,this.month)&&(this.day=s(this.year,this.month))),this.complete=null!==this.year&&null!==this.month&&null!==this.day,_r_()}function s(e,t){return _i_("4ab:1b292207"),_r_("number"==typeof e&&"number"==typeof t?a.daysInMonth(e,t):3==t||5==t||8==t||10==t?30:1==t?29:31)}n.prototype={toString:function(){if(_i_("4ab:f1f54d20"),!this.complete)return _r_("");var e=this.month+1;return _r_(this.year+"-"+(e<10?"0":"")+e+"-"+(this.day<10?"0":"")+this.day)},toNative:function(){if(_i_("4ab:7bbffa6e"),!this.complete)return _r_(new Date(NaN));return _r_(new Date(Date.UTC(this.year,this.month,this.day,0,0,0,0)))},valueOf:function(){return _i_("4ab:c9d65c1a"),_r_(this.toNative().valueOf())}},n.create=function(e){var t;if(_i_("4ab:52ce28b2"),"string"==typeof e&&3==(t=e.split("-")).length&&(e={year:parseInt(t[0],10),month:parseInt(t[1],10)-1,day:parseInt(t[2],10)}),"object"!=typeof e||null===e)throw new TypeError("date must be an object");return _r_(new n(e))},n.createFromString=function(e){if(_i_("4ab:97e2ad54"),"string"!=typeof e)throw new TypeError("dateString must be a string");var t=e.split(/-/g),i={year:parseInt(t[0],10),month:parseInt(t[1],10)-1,day:parseInt(t[2],10)};return _r_(n.create(i))},n.createFlexible=function(e){if(_i_("4ab:2760f620"),"object"!=typeof e||null===e)throw new TypeError("date must be an object");if("number"!=typeof e.year||"number"!=typeof e.month||"number"!=typeof e.day)throw new TypeError("invalid date");var t=new Date(Date.UTC(e.year,e.month,e.day,0,0,0,0));return e={year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate()},_r_(n.create(e))},n.isStrictlyValid=function(e){_i_("4ab:8ee76032");var t=n.create(e);return _r_(e.year===t.year&&e.month===t.month&&e.day===t.day)},n.compare=function(e,t){if(_i_("4ab:ef4f5cae"),!(e instanceof n&&t instanceof n))throw new TypeError("dates must be an instance of SearchDate");if(e.year<t.year)return _r_(-1);if(e.year>t.year)return _r_(1);if(e.month<t.month)return _r_(-1);if(e.month>t.month)return _r_(1);if(e.day<t.day)return _r_(-1);if(e.day>t.day)return _r_(1);return _r_(0)},i.exports={SearchDate:n},_r_()}),B.define("component/autocomplete-core",function(e,t,i){_i_("4ab:62e893cf");var a=e("jquery"),n=e("component"),s=e("read-data-options");i.exports=n.extend({init:function(){_i_("4ab:bebc96f6"),this.highlightedIndex=-1,this.isDeletion=!1,this.items=[],this.keyDownCount=0,this.keysDown={},this.listHeight=0,this.listVisible=!1,this.preventBlurClose=!1,this.selectedIndex=-1,this.selectedValue=null,this.valueBuffer=null,this.clickOutController=e("click-out"),this.clickOutMonitorId=null,this.highlightClass="-highlighted",this.$input=this.$el.find('[data-input=""]'),this.input=this.$input[0],this.$list=this.$el.find('[data-list=""]'),this.$items=a("[data-list-item]",this.$list),this.optionsSpec=this.optionsSpec||{},this.optionsSpec=a.extend(this.optionsSpec,{openFocus:{name:"open-focus",type:Boolean},highlightFirst:{name:"highlight-first",type:Boolean},forceHighlight:{name:"highlight-force",type:Boolean},focusOnItemSelect:{name:"focus-on-item-select",type:Boolean}}),this.options=s(this.$el,this.optionsSpec),this.supportsInputEvent=this.input&&"oninput"in this.input,this.addInputEventListeners(),this.addListEventListeners(),this.addItemsEventListeners(),this.calculateListHeight(),this.$input.attr("autocomplete","off"),_r_()},addInputEventListeners:function(){_i_("4ab:ddce441a");var e=this.$input.component("keyboard");e.on("keydown:Escape",this.inputEscape.bind(this)),e.on("keydown:ArrowUp",this.inputArrowUp.bind(this)),e.on("keydown:ArrowDown",this.inputArrowDown.bind(this)),e.on("keydown:Enter",this.inputEnter.bind(this)),e.on("keydown:Tab",this.inputTab.bind(this)),this.$input.on("click",this.inputClick.bind(this)),this.$input.focus(this.inputFocus.bind(this)),this.$input.blur(this.inputBlur.bind(this)),this.$input.keydown(this.inputKeyDown.bind(this)),this.$input.bind("input",this.inputInput.bind(this)),this.$input.keyup(this.inputKeyUp.bind(this)),_r_()},addListEventListeners:function(){_i_("4ab:16de6562"),this.$list.mousedown(this.listMouseDown.bind(this)),this.$list.mouseup(this.listMouseUp.bind(this)),this.$list.on("click",'[data-list-item=""]',this.listItemClick.bind(this)),_r_()},addItemsEventListeners:function(){_i_("4ab:7a96b5f0"),this.$items.click(this.listItemClick.bind(this)),_r_()},addClickOutEventListener:function(){_i_("4ab:578e273f"),this.clickOutMonitorId=this.clickOutController.addMonitor(this.el,this.clickOut.bind(this)),_r_()},removeClickOutEventListener:function(){_i_("4ab:be8a451d"),this.clickOutController.removeMonitor(this.clickOutMonitorId),_r_()},calculateListHeight:function(){_i_("4ab:69d19d36"),this.listHeight=this.$list.outerHeight(),_r_()},inputClick:function(e){},inputFocus:function(e){_i_("4ab:50598299"),this.options.openFocus&&(this.listShow(),this.autocomplete({fromFocus:!0})),_r_()},inputBlur:function(e){_i_("4ab:bb9f2bdf"),setTimeout(this.inputBlurSync.bind(this),4),_r_()},inputBlurSync:function(){_i_("4ab:1be76dc3"),!this.preventBlurClose&&this.listVisible&&(this.highlightReset(),this.reset()),_r_()},inputKeyDown:function(e){_i_("4ab:4b6b6451");var t=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey,i=8==e.which||46==e.which;this.isDeletion=i,this.taintedKeyDown=t,_r_()},inputInput:function(e){_i_("4ab:ae080a97"),this.autocomplete(),_r_()},inputKeyUp:function(e){_i_("4ab:6eb2190a");var t=this.taintedKeyDown||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||16<=e.which&&e.which<=18||91==e.which,i=32==e.which||48<=e.which,a=37<=e.which&&e.which<=40;t||((a||i)&&this.listShow(),!this.isDeletion&&!i||this.supportsInputEvent||this.autocomplete(),i&&this.keyDownCount++),_r_()},inputEscape:function(e){_i_("4ab:a63e3a5c"),this.listVisible&&(e.originalEvent.preventDefault(),this.highlightReset(),this.reset()),_r_()},inputArrowUp:function(e){_i_("4ab:71605c6e"),e.originalEvent.preventDefault(),this.listVisible?this.highlightPrevious():this.listShow(),_r_()},inputArrowDown:function(e){_i_("4ab:b3fa5988"),e.originalEvent.preventDefault(),this.listVisible?this.highlightNext():this.listShow(),_r_()},inputEnter:function(e){_i_("4ab:0c057b22"),this.listVisible&&-1!=this.highlightedIndex&&(e.originalEvent.preventDefault(),this.choose(this.highlightedIndex)),_r_()},inputTab:function(e){_i_("4ab:80ac1b01"),this.inputEnter.apply(this,arguments),_r_()},listItemClick:function(e){_i_("4ab:afab041c");var t=a(e.currentTarget);this.options.focusOnItemSelect&&this.input.focus(),this.choose(t.data("i")),_r_()},listMouseDown:function(e){_i_("4ab:9568a986"),this.preventBlurClose=!0,_r_()},listMouseUp:function(e){_i_("4ab:d660fe51"),this.preventBlurClose=!1,_r_()},clickOut:function(){_i_("4ab:095cbd45"),this.listVisible&&(this.highlightReset(),this.reset()),_r_()},setValue:function(e){_i_("4ab:9ee5cf87"),this.input.value=e,_r_()},listShow:function(){_i_("4ab:7f0b6848"),this.listVisible||this._loading||(this.$list.addClass("-visible"),this.listVisible=!0,this.addClickOutEventListener(),this.$list[0].scrollTop=1,setTimeout(function(){_i_("4ab:e08d76c5"),this.$list[0].scrollTop=0,_r_()}.bind(this),10)),_r_()},listHide:function(){_i_("4ab:44a78ebb"),this.listVisible&&(this.$list.removeClass("-visible"),this.resetFlags(),this.removeClickOutEventListener()),_r_()},highlightPrevious:function(){_i_("4ab:5af5b819");for(var e=this.highlightedIndex;-1==e?e=this.items.length-1:e--,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightNext:function(){_i_("4ab:57b7aad5");for(var e=this.highlightedIndex;e==this.items.length-1?e=-1:e++,-1!=e&&this.items[e].hidden;);this.highlightFromNavigation(e),_r_()},highlightFromNavigation:function(e,t,i){if(_i_("4ab:1de2a5d2"),(-1==this.highlightedIndex||t)&&(this.valueBuffer=this.input.value),-1==e)this.highlightReset({preserveFocus:!0});else if(this.supportsInputEvent)if(this.valueBuffer&&0==this.items[e].valueLowerCase.indexOf(this.valueBuffer.toLowerCase())){var a=this.valueBuffer.length,n=this.items[e].value.length,s=this.valueBuffer+this.items[e].value.substring(a);if(this.input.value==s||i||this.setValue(s),this.input.setSelectionRange)this.input.setSelectionRange(n,n);else if(this.input.createTextRange){var o=this.input.createTextRange();o.collapse(!0),o.moveStart("character",a),o.moveEnd("character",n),o.select()}else void 0!==this.input.selectionStart&&(this.input.selectionStart=a,this.input.selectionEnd=n)}else i||(this.setValue(this.items[e].value),this.fixIEFocusLoss());this.highlight(e),_r_()},highlightFromAutocomplete:function(){_i_("4ab:fe992877");var e=this.input.value,t=this.getListFirstIndex();-1!==t&&this.options.highlightFirst&&!this.isDeletion&&e&&0===this.items[t].valueLowerCase.indexOf(e.toLowerCase())||this.options.forceHighlight?this.highlightFromNavigation(t,!0):this.highlight(-1),_r_()},highlight:function(e){_i_("4ab:afe25219"),this.listShow(),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),-1!=e&&this.$items.eq(e).addClass(this.highlightClass),this.highlightedIndex=e,this.highlightScroll(),_r_()},highlightReset:function(e){_i_("4ab:1ee32de1"),e=e||{},null===this.valueBuffer||e.preserveInputValue||(this.setValue(this.valueBuffer),e.preserveFocus&&this.fixIEFocusLoss()),-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.highlightedIndex=-1,_r_()},highlightScroll:function(){_i_("4ab:9a9e1dd1");var e=!1,t=this.$list[0].scrollTop;if(-1!=this.highlightedIndex){var i=this.$items.eq(this.highlightedIndex),a=(1==i.length&&i.position().top)+t,n=i.outerHeight();a+n>this.listHeight+t?e=a+n-this.listHeight:a<t&&(e=a)}else e=0;!1!==e&&e!=t&&(this.$list[0].scrollTop=e),_r_()},getListLength:function(){return _i_("4ab:257516ce"),_r_(this.items.length)},getListFirstIndex:function(){return _i_("4ab:bd23caef"),0===this.items.length?_r_(-1):_r_(0)},autocomplete:function(){_i_("4ab:26e661c0"),this.postAutocomplete(),_r_()},postAutocomplete:function(){_i_("4ab:b9fe1f74"),this.listShow(),this.calculateListHeight(),this.highlightFromAutocomplete(),_r_()},choose:function(e){_i_("4ab:6ae9c094"),this.selectedIndex=e,B.env.fe_s_prprtyt?this.selectedValue=this.items[e].valueWithPropertyType?this.items[e].valueWithPropertyType:this.items[e].value:this.selectedValue=this.items[e].value,this.setValue(this.selectedValue),this.reset(),_r_()},reset:function(e){_i_("4ab:a458ad8e"),e=e||{},-1!=this.highlightedIndex&&this.$items.eq(this.highlightedIndex).removeClass(this.highlightClass),this.listHide(),e.hard&&(this.resetFlags(),this.selectedIndex=-1,this.selectedValue=null,this.setValue("")),_r_()},resetFlags:function(){_i_("4ab:ad386500"),this.highlightedIndex=-1,this.isDeletion=!1,this.keyDownCount=0,this.keysDown={},this.listVisible=!1,this.preventBlurClose=!1,this.valueBuffer=null,_r_()},fixIEFocusLoss:function(){if(_i_("4ab:0430c723"),this.input.createTextRange){var e=this.input.createTextRange();e.moveStart("character",this.input.value.length),e.collapse(),e.select()}_r_()}}),_r_()}),B.define("component/core/input-placeholder",function(e,t,i){"use strict";_i_("4ab:4f7a488e");var a=e("component"),n=e("read-data-options");return _r_(a.extend({init:function(){if(_i_("4ab:da9a7aaa"),this.browserSupported())return _r_();this.options=n(this.$el,{placeholderClass:{name:"placeholder-class",type:String},placeholderColor:{name:"placeholder-color",type:String,defaultValue:"#7C90A6"}});var e="input, textarea",t=this.$el.find(e);this.$el.is(e)&&(t=t.add(this.$el)),t.filter(function(e,t){return _i_("4ab:bbabec74"),_r_(!!$(t).attr("placeholder"))}).each(function(e,t){_i_("4ab:c0314b00"),this.setupPlaceholder($(t)),_r_()}.bind(this)),_r_()},browserSupported:function(){_i_("4ab:b8571c30");var e=$('input[type="text"]')[0]||$('<input type="text">')[0];return _r_(!!("placeholder"in e))},setupPlaceholder:function(e){_i_("4ab:04be5dbd");var t=$("<label />").text(e.attr("placeholder")).css({width:e.width()+"px",height:e.height()+"px",paddingTop:e.css("padding-top"),paddingLeft:e.css("padding-left"),paddingRight:e.css("padding-right"),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),color:this.options.placeholderColor,overflow:"hidden",cursor:"text",position:"absolute"});this.options.placeholderClass&&t.addClass(this.options.placeholderClass),t.insertBefore(e),t.click(function(){_i_("4ab:8b3ebc9a"),e.focus(),_r_()}),e.focus(function(){_i_("4ab:d2d65377"),t.hide(),_r_()}).blur(function(){_i_("4ab:9fa6d3f0"),t[e.val().length?"hide":"show"](),_r_()}),e.get(0)===document.activeElement?e.triggerHandler("focus"):e.triggerHandler("blur"),_r_()}}))}),B.define("component/keyboard",function(e,t,i){_i_("4ab:d840ae1d");var a=e("component"),n=e("event-emitter"),s={8:"Backspace",46:"Delete",9:"Tab",13:"Enter",32:"Space",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z"};function o(i,a){return _i_("4ab:c305199b"),_r_(function(e){_i_("4ab:89331456");var t="";e.which&&void 0!==s[e.which.toString()]&&(e.originalEvent.altKey&&(t+=":alt"),e.originalEvent.ctrlKey&&(t+=":ctrl"),e.originalEvent.metaKey&&(t+=":meta"),e.originalEvent.shiftKey&&(t+=":shift"),t+=":"+s[e.which],i.trigger(a+t,{keys:a+t,originalEvent:e})),_r_()})}i.exports=a.extend({init:function(){_i_("4ab:70caa689"),n.extend(this),this.$el.bind("keydown",o(this,"keydown")).bind("keyup",o(this,"keyup")),_r_()}}),_r_()}),B.define("component/tooltip-loc",function(e,t,i){"use strict";_i_("4ab:0e7aa0e2");var a=e("component"),o=e("jquery");i.exports=a.extend({DEFAULTS:{template:'<div class="component-tooltip off" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',placement:"top",alignment:"center",trigger:"hover focus",animation:"true"},init:function(){_i_("4ab:4b79859f"),this._buildOptions(),this._createTooltip(),this._attachEvents(),this.$el.trigger("ready.B.tooltip",[this.$tip]),_r_()},_buildOptions:function(){_i_("4ab:2003d6d2"),this.options=o.extend({},this.DEFAULTS,this.$el.data()),this.options.intangible="intangible"in this.options,this.options.target&&(this.options.target=o(this.options.target).first()),this.options.content||(this.options.content=this.options.title||this.el.title),_r_()},_createTooltip:function(){_i_("4ab:f0d24a5f");var e="tooltip-"+this.options.placement+" tooltip-align-"+this.options.alignment;this.options.extraClass&&(e=e+" "+this.options.extraClass),"true"===this.options.animation&&(e+=" tooltip-animate"),this.$tip=o(this.options.template),this.$tip.addClass(e),this._attachContent(),this.$tip.appendTo(o("body")),this.$el.trigger("inserted.B.tooltip",[this.$tip]),_r_()},_attachContent:function(){_i_("4ab:edb36e3b");var e=this.$tip.find(".tooltip-inner");this.options.target?e.append(this.options.target.clone()):(this.options.target=[],e.text(this.options.content)),_r_()},_positionTooltip:function(){_i_("4ab:55a3c39d"),this._defineAlignmentVars(),this._placeTooltip(),this._alignTooltip(),this.$tip.css({left:this.left,top:this.top,right:"auto"}),_r_()},_defineAlignmentVars:function(){_i_("4ab:ba6d432e"),this.elOffset=this.$el.offset(),this.position="left",this.dimension="outerWidth",this.options.placement.match(/top|bottom/)&&(this.position="top",this.dimension="outerHeight"),_r_()},_accountForRTL:function(e){if(_i_("4ab:3680d328"),!B.env.rtl)return _r_(e);if("left"===e)return _r_("right");if("right"===e)return _r_("left");return _r_(e)},_placeTooltip:function(){_i_("4ab:eefd1cb5");var e=this._accountForRTL(this.position),t=this.dimension;this._accountForRTL(this.options.placement)===e?this[e]=this.elOffset[e]-this.$tip[t]():this[e]=this.elOffset[e]+this.$el[t](),_r_()},_alignTooltip:function(){var e,t;switch(_i_("4ab:d3b34b71"),"left"===this.position?(e="top",t="outerHeight"):(e="left",t="outerWidth"),this._accountForRTL(this.options.alignment)){case e:this[e]=this.elOffset[e];break;case"center":this[e]=this.$el[t]()/2+this.elOffset[e]-this.$tip[t]()/2;break;default:this[e]=this.elOffset[e]+this.$el[t]()-this.$tip[t]()}_r_()},_attachEvents:function(){if(_i_("4ab:f9224418"),this.options.trigger.match(/manual/))return _r_();var e,t,i,a=this.options.trigger.split(" "),n=a.length,s=this.$el.add(this.$tip);for(this.options.intangible&&(s=this.$el);n--;)"click"===(e=a[n])?this.$el.on("click",o.proxy(this.toggle,this)):(t="hover"==e?"mouseenter":"focusin",i="hover"==e?"mouseleave":"focusout",s.on(t,o.proxy(this.show,this)),s.on(i,o.proxy(this.hide,this)));_r_()},_trackTransitionEnd:function(t){_i_("4ab:7d5873ec");var i=this.$el;this.$tip.one("transitionend",function(e){_i_("4ab:a241ca33"),i.trigger(t,[this]),_r_()}),_r_()},show:function(){_i_("4ab:1e6fbd16"),this.$el.trigger("show.B.tooltip",[this.$tip]),this._trackTransitionEnd("shown.B.tooltip"),this.$el.attr("aria-describedby",this.el.id),this._positionTooltip(),this.$tip.addClass("on").removeClass("off"),_r_()},hide:function(){_i_("4ab:0ab21ba6"),this.$el.trigger("hide.B.tooltip",[this.$tip]),this._trackTransitionEnd("hidden.B.tooltip"),this.$el.removeAttr("aria-describedby"),this.$tip.removeClass("on").addClass("off"),_r_()},toggle:function(){_i_("4ab:1e6fe6da"),this.$tip.is(".on")?this.hide():this.show(),_r_()}}),_r_()}),B.define("component/search/destination/input-placeholder",function(e,t,i){_i_("4ab:edea91f1");var a=B.require("component/core/input-placeholder"),n=e("search/searchbox/model");return _r_(a.extend({init:function(){_i_("4ab:95a0ca80"),this.model=n.getInstance(this.$el.data("sb-id")),a.prototype.init.apply(this,arguments),_r_()}}))}),B.define("component/search/destination/input",function(e,t,i){"use strict";_i_("4ab:a2da73a9"),booking.jstmpl("search_destination_autocomplete_results",function(){_i_("4ab:5d33643e");var f,b=["\n        ","\n\n    ","\n\t","\n       \n\n        ",'\n            <li\n                class="',"c-autocomplete__item sb-autocomplete__item ","sb-autocomplete__item--cjk "," ",'"\n                >\n                <div class="sb-autocomplete__section-title-wrapper">\n                    <div class="sb-autocomplete__section-title">\n                        ','\n                            <i class="bicon bicon-','"></i>\n                        ',"\n                        <span>","</span>\n                    </div>\n                </div>\n            </li>\n        ",'\n        <li\n            class="',"c-autocomplete__item sb-autocomplete__item sb-autocomplete__item-with_photo sb-autocomplete__item__item--elipsis ","sb-autocomplete__item--icon_revamp ","sb-autocomplete__item--airport ","sb-autocomplete__item--city ","sb-autocomplete__item--country ","sb-autocomplete__item--district ","sb-autocomplete__item--hotel ","sb-autocomplete__item--landmark ","sb-autocomplete__item--region ","sb-autocomplete__item--theme ","sb-autocomplete__item--with-title ","sb-autocomplete__item--with-two-lines ","sb-autocomplete__item--regioncity ","sb-autocomplete__item--theme-expanded ","first_theme ","1","smaller_theme_wrapper ","sb-autocomplete__item--tabbed ","sb-autocomplete__item--single-line ",'"\n            role="option"\n            data-list-item\n            data-i="','"\n            data-value="','"\n            ','\n                data-label="',"\n            >\n            \n            ",'\n                <a href="','" target="_blank">\n            ',"\n            \n            ","",'<span class="sb-autocomplete--photo">',"24","streamline/bed","</span>","streamline/sports_winter_free_skiing","streamline/sports_snowboard","streamline/landmark","streamline/transport_airplane_depart","streamline/history_recent","streamline/geo_pin",'<img alt="','" src="','" class="sb-autocomplete--photo">','<span class="sb-autocomplete--photo"></span>','<div class="',"sb_passion_highlight_wrapper smaller_theme ",'">\n                        <p class="sb_passion_highlight_inner">',"</strong>\n                        </p>\n                    </div>",'<span class="searchbox__region__subcity__item">',",",'<span class="sb-autocomplete__badge sb-autocomplete__badge--popular">',"/private/search_top_50_badge/name",'<span class="airport-code">','<span class="search_hl_name">',"&nbsp;(",")","&nbsp;•&nbsp;",'<span class="sb-autocomplete__bf-badge">',"<br>",",&nbsp;",'<h4 class="bui-card__subtitle">',"/private/loc_character_number_range/name","/private/loc_character_comma/name","/private/groups_max_occupancy_people/name","</h4>",'<span class="sb-autocomplete__item__extra">','<span class="sb-autocomplete__item__highlight">',"<span>","\n        \n        ","\n            </a>\n        ","\n        \n        </li>\n\t","\n\n\t",'\n\t\t<li class="sb-autocomplete__google"></li>\n\t',"\n","\n    "],p=["total_index","results","lc","section_title_class","section_title_icon","section_title","fe_icon_revamp","dest_type","search_config","group_config","flags","is_first_theme","labels","index","value","label","date","fe_sb_use_new_ski_icon","photo_uri","fe_xpi_show_flights","flags_markup","b_region_city_endorsements","iata","search_propertytype_destination","property_in_label","black_friday_item","b_lang_is_rtl","fe_occupancy","additional_label","fe_items_are_multiline","label_blocks","highlighted","text","label_highlighted","is_powered_by_google"];return _r_(function(c){_i_("4ab:107b896e");var e="",u=this.fn;return e=function(e){if(_i_("4ab:9ed4a46a"),u.MD(p[1])){e+=b[1],u.MN("index",0),e+=b[2],u.MN(p[0],u.F.entities(u.MI(u.array_length(u.MB(p[1])))-u.MI(1))),e+=b[2];var t=u.MC(p[1])||[];c.unshift(null);for(var i=1,a=t.length;i<=a;i++){if(c[0]=t[i-1],e+=b[3],u.MJ(u.MB(p[5]))&&(e+=b[4],e+=b[5],u.MJ(/zh|xt|ja|ko/.test(u.MB(p[2])))&&(e+=b[6]),u.MD(p[3])&&(e+=[u.F.entities(u.MC(p[3])),b[7]].join("")),e+=b[8],u.MD(p[4])&&(e+=[b[9],u.MC(p[4]),b[10]].join("")),e+=[b[11],u.MC(p[5]),b[12]].join("")),e+=b[13],e+=b[14],u.MD(p[6])&&(e+=b[15]),u.MJ(/zh|xt|ja|ko/.test(u.MB(p[2])))&&(e+=b[6]),u.MJ(u.MB(p[7])+""=="airport")?e+=b[16]:u.MJ(u.MB(p[7])+""=="city")?e+=b[17]:u.MJ(u.MB(p[7])+""=="country")?e+=b[18]:u.MJ(u.MB(p[7])+""=="district")?e+=b[19]:u.MJ(u.MB(p[7])+""=="hotel")?e+=b[20]:u.MJ(u.MB(p[7])+""=="landmark")?e+=b[21]:u.MJ(u.MB(p[7])+""=="region")?e+=b[22]:u.MJ(u.MB(p[7])+""=="theme")?e+=b[23]:e+=b[18],u.MD(p[5])&&(e+=b[24]),u.MJ(u.MB(p[8]))&&u.MJ(u.MB(p[9]))&&(e+=b[25]),u.MJ(u.MB(p[10]))&&u.MJ(u.MC(p[10]).is_region_city)&&(e+=b[26]),u.MJ(u.MB(p[7])+""=="theme")&&(e+=b[27],u.MD(p[11])||(e+=b[28],u.MN(p[11],b[29])),e+=b[30]),u.MJ(u.MB(p[10]))&&u.MJ(u.MC(p[10]).tabbed)&&(e+=b[31]),(u.MK(u.MB(p[12]))||u.MJ(1==u.array_length(u.MB(p[12]))))&&(e+=b[32]),e+=[b[33],u.MC(p[13]),b[34],u.F.entities(u.MC(p[14])),b[35]].join(""),u.MD(p[15])&&(e+=[b[36],u.F.html(u.MC(p[15])),b[35]].join("")),e+=b[37],u.MJ(u.MB(p[7])+""=="recent-search")&&u.MJ(u.MB(p[16]))&&(e+=[b[38],u.F.entities((u.MC(p[16])||{}).b_url),b[39]].join("")),e+=b[40],e+=b[41],u.MD(p[6])?(e+=b[41],u.MJ(u.MB(p[7])+""=="hotel")?e+=[b[42],(c.unshift({color:"#6B6B6B",height:b[43],name:b[44],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[45]].join(""):u.MJ(u.MC(p[10]).ski_item)&&u.MJ(u.MB(p[7])+""=="landmark")?(e+=b[42],u.MD(p[17])?e+=[b[41],(c.unshift({color:"#6B6B6B",height:b[43],name:b[46],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[41]].join(""):e+=[b[41],(c.unshift({color:"#6B6B6B",height:b[43],name:b[47],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[41]].join(""),e+=b[45]):u.MJ(u.MB(p[7])+""=="landmark")?e+=[b[42],(c.unshift({color:"#6B6B6B",height:b[43],name:b[48],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[45]].join(""):u.MJ(u.MB(p[7])+""=="airport")?e+=[b[42],(c.unshift({color:"#6B6B6B",height:b[43],name:b[49],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[45]].join(""):u.MJ(u.MB(p[7])+""=="recent-search")?e+=[b[42],(c.unshift({color:"#6B6B6B",height:b[43],name:b[50],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[45]].join(""):e+=[b[42],(c.unshift({color:"#6B6B6B",height:b[43],name:b[51],width:b[43]}),f=u.HELPER("icon",c[0]),c.shift(),f),b[45]].join("")):(e+=b[41],u.MJ(u.MG((u.MC(p[10])||{}).ski_item_replace_image))?e+=[b[52],u.F.html(u.MC(p[15])),b[53],u.STATIC_HOSTNAME("/static/img/ski/ski.png",0,0,0,0),b[54]].join(""):u.MD(p[18])?e+=[b[52],u.F.html(u.MC(p[15])),b[53],u.STATIC_HOSTNAME(u.MB(p[18]),0,0,0,0),b[54]].join(""):(e+=b[41],u.MK(u.MB(p[19]))&&(e+=b[55]),e+=b[41])),e+=b[41],e+=b[41],u.MJ(u.MB(p[7])+""=="theme"))e+=b[56],e+=b[57],e+=[b[58],u.F.entities(u.MC(p[15])),b[59]].join("");else{e+=b[41];var n="";if(n+=b[41],u.MD(p[21])){n+=b[41];var s,o=i,r=t,_=a,l=s;for(t=u.MC(p[21])||[],c.unshift({endorsement:null}),i=1,a=t.length;i<=a;i++)c[0].endorsement=s=t[i-1],n+=[b[60],u.F.entities(s)].join(""),u.MJ(i!=t.length)&&(n+=b[61]),n+=b[45];c.shift(),i=o,t=r,a=_,s=l,n+=b[41]}if(n+=b[41],u.MJ(u.MC(p[10]).popular)&&(n+=[b[62],u.F.entities(u.ME(b[63],u.MB,u.MN,null)),b[45]].join("")),n+=b[41],u.MN(p[20],n),e+=b[41],u.MJ(u.MB(p[22]))&&u.MJ(u.MB(p[19]))&&(e+=[b[64],u.MC(p[22]),b[45]].join("")),e+=b[41],u.MJ(u.MB(p[12]))&&u.MJ(u.MB(p[29]))){e+=b[41],n="",n+=b[41],o=i,r=t,_=a;var d,h=d;for(t=u.MC(p[12])||[],c.unshift({fe_ae_label:null}),i=1,a=t.length;i<=a;i++)c[0].fe_ae_label=d=t[i-1],n+=b[41],u.MJ(1==i)?(n+=[b[65],u.F.entities((d||{}).text),b[41]].join(""),u.MJ(u.MG((d||{}).match))&&(n+=[b[66],u.F.entities((d||{}).match),b[67]].join("")),n+=b[41],u.MJ(u.MB(p[24]))&&(n+=b[68],u.MD(p[25])?n+=[b[69],u.MC(p[24]),b[45]].join(""):n+=[b[41],u.MC(p[24]),b[41]].join(""),n+=b[41]),n+=[b[45],u.MC(p[20]),b[70]].join("")):u.MK(u.MJ(d.type+""=="state"))&&(n+=b[41],u.MJ(2<i)&&(n+=b[71]),n+=b[41],u.MJ(u.MB(p[7])+""=="recent-search")&&u.MJ(u.MB(p[16]))?(n+=b[72],u.MJ(u.MC(p[16]).b_checkin)&&u.MJ(u.MC(p[16]).b_checkout)&&(n+=b[41],u.MD(p[26])?n+=[b[41],u.DATE(u.MC(p[16]).b_checkin,"numeric_date_range","","",u.MC(p[16]).b_checkout),b[41]].join(""):n+=[b[41],u.DATE(u.MC(p[16]).b_checkin,"short_date_without_year","","",""),b[41],u.ME(b[73],u.MB,u.MN,null),b[41],u.DATE(u.MC(p[16]).b_checkout,"short_date_without_year","","",""),b[41]].join(""),n+=[b[41],u.ME(b[74],u.MB,u.MN,null),b[41]].join("")),n+=b[41],u.MN("fe_occupancy",u.MI(u.MC(p[16]).b_total_adults)+u.MI(u.MC(p[16]).b_total_children)),n+=[b[41],(c.unshift({num_people:u.MB(p[27])}),f=u.ME(b[75],u.MB,u.MN,u.MO(u.MC(p[27]),null,b[75])),c.shift(),f),b[76]].join("")):n+=[b[41],u.F.entities((d||{}).text),b[41]].join(""),n+=b[41]),n+=b[41];c.shift(),i=o,t=r,a=_,d=h,n+=b[41],u.MD(p[28])&&(n+=[b[77],u.MC(p[28]),b[45]].join("")),n+=b[41],u.MN(p[23],n),e+=b[41]}else{if(e+=b[41],n="",n+=b[41],u.MD(p[30])){for(n+=b[41],o=i,r=t,_=a,t=u.MC(p[30])||[],c.unshift(null),i=1,a=t.length;i<=a;i++)c[0]=t[i-1],n+=b[41],u.MD(p[31])&&(n+=b[78]),n+=[b[41],u.F.entities(u.MC(p[32])),b[41]].join(""),u.MD(p[31])&&(n+=b[45]),n+=b[41];c.shift(),i=o,t=r,a=_,n+=b[41]}else u.MD(p[33])?n+=[b[41],u.MC(p[33]),b[41]].join(""):u.MD(p[15])&&(n+=[b[41],u.F.entities(u.MC(p[15])),b[41]].join(""));n+=b[41],u.MD(p[28])&&(n+=[b[77],u.F.entities(u.MC(p[28])),b[45]].join("")),n+=b[41],u.MN(p[23],n),e+=b[41]}e+=[b[79],u.MC(p[23]),b[45]].join(""),u.MJ(u.MB(p[12]))&&u.MJ(u.MB(p[29]))||(e+=[b[41],u.MC(p[20]),b[41]].join("")),e+=b[41]}e+=b[41],u.MN("index",u.MI(u.MB(p[13]))+u.MI(1)),e+=b[41],e+=b[80],u.MJ(u.MB(p[7])+""=="recent-search")&&u.MJ(u.MB(p[16]))&&(e+=b[81]),e+=b[82]}c.shift(),e+=b[83],u.MD(p[34])&&(e+=b[84]),e+=b[85]}return e+=b[85],_r_(e)}(e+=b[0]),e+=b[86],_r_(e)})}()),booking.jstmpl("search_destination_autocomplete_loading",function(){_i_("4ab:82995877");var l=["\n        ",'\n\n<ul class="c-autocomplete__list sb-autocomplete__list sb-autocomplete__list--loading">\n\t','\n\t\t<li class="c-autocomplete__item sb-autocomplete__item sb-autocomplete__item--city">\n\t\t\t','\n\t\t\t\t<span class="sb-autocomplete__item-placeholder-text js-placeholder-text"></span>\n\t\t\t',"\n\t\t</li>\n\t","\n</ul>\n","\n    "],d=["fe_sb_autocomplete_loading_items"];return _r_(function(r){_i_("4ab:d9585df0");var e="",_=this.fn;return e=function(e){_i_("4ab:2cc1f6cd"),_.MN("fe_sb_autocomplete_loading_items",5),e+=l[1];var t=_.seq(1,_.MB(d[0]))||[];r.unshift(null);for(var i=1,a=t.length;i<=a;i++){r[0]=t[i-1],e+=l[2];var n=i,s=t,o=a;for(t=_.seq(1,3)||[],r.unshift(null),i=1,a=t.length;i<=a;i++)r[0]=t[i-1],e+=l[3];r.shift(),i=n,t=s,a=o,e+=l[4]}return r.shift(),_r_(e+=l[5])}(e+=l[0]),_r_(e+=l[6])})}());var n=e("jquery"),s=e("component/autocomplete-core"),a=e("search/searchbox/model"),o=e("search/searchbox/analytics"),r=e("search/searchbox/events");i.exports=s.extend({init:function(){_i_("4ab:e263b5e8"),this.optionsSpec={delay:{name:"delay",type:Number,defaultValue:300},modelId:{name:"sb-id",type:String,required:!0},filterDestType:{name:"filter-dest-type",type:String},gpf:{name:"gpf",type:Boolean},gpOnly:{name:"gp-only",type:Boolean},minLength:{name:"minlength",type:Number,defaultValue:2},focusOnLoad:{name:"focus-on-load",type:Boolean},focusOnTyping:{name:"focus-on-typing",type:Boolean},isSticky:{name:"is-sticky",type:Boolean},required:{name:"required",type:Boolean},isOrigin:{name:"origin",type:Boolean},collapseACSingleAirport:{name:"collapse-ac-single-airport",type:Boolean},flags:{name:"flags",type:String,defaultValue:""}},n.extend(this.optionsSpec,this.extendOptions()),this.$errors=this.$el.find("[data-error-id]"),this.$clear=this.$el.find('[data-clear=""]'),this.$searchbox=this.$el.closest(".sb-searchbox__outer"),this.isA11yMessageReading=!1,this.$searchbox.length?this.$skiInput=this.$searchbox.find('input[name="is_ski_area"]'):this.$skiInput=n('form#frm input[name="is_ski_area"]'),this.$skiInput.length||(this.$el.after('<input type="hidden" name="is_ski_area" value="0">'),this.$skiInput=n('input[name="is_ski_area"]')),s.prototype.init.apply(this,arguments),this.model=a.getInstance(this.options.modelId),this.groupName=this.options.isOrigin?"origin":"destination",this.model.use(this.groupName),this.model.use("dates"),this.model.updateFlags(this.options.flags),this.inputUntouched=!0,this.model.on("change",this.modelChange.bind(this)),this.model.on("validation",this.modelValidation.bind(this)),this.destinationModel=this.options.isOrigin?this.model.origin:this.model.destination,this.options.isOrigin&&this.destinationModel.configure({groupName:"origin"}),this.options.required&&this.destinationModel.configure({validate:!0}),this.options.gpOnly&&this.destinationModel.configurePredictions({gpo:1}),this.options.gpf&&this.destinationModel.configure({gpf:1}),this.options.filterDestType&&this.destinationModel.configurePredictions({dest_type:this.options.filterDestType}),this.options.focusOnLoad&&this.focusOnLoad(),this.options.focusOnTyping&&this.options.isSticky&&(this.stickyController=e("search/searchbox/searchbox-sticky-controller").getController()),this.options.focusOnTyping&&this.enableFocusOnTyping(),this.$errors.filter(".-visible").length&&(this.destinationModel.valid=!1),this.templateResults=B.jstmpl("search_destination_autocomplete_results"),this.toggleClear(),this.modelInit(),this.renderLoadingElement(),window.history&&window.history.replaceState&&-1!==window.location.href.indexOf("errorc_searchstring_not_found=ss")&&window.history.replaceState(null,document.title,window.location.href.replace("errorc_searchstring_not_found=ss","")),_r_()},addInputEventListeners:function(){_i_("4ab:24e521ff"),s.prototype.addInputEventListeners.apply(this,arguments),this.$clear.length&&this.$clear.on("click",this.clearClick.bind(this)),_r_()},renderLoadingElement:function(){_i_("4ab:cc2eea09"),this.shouldShowLoadingState=!0;this.$loading=n(B.jstmpl("search_destination_autocomplete_loading").render({})),this.$loading.find(".js-placeholder-text").each(function(){_i_("4ab:c89d5b36"),n(this).width(65+parseInt(65*Math.random(),10)),_r_()}),this.$loading.insertAfter(this.$list),_r_()},showLoading:function(){_i_("4ab:96c0c99b"),this.shouldShowLoadingState&&(s.prototype.listHide.apply(this),this.$loading.addClass("-visible")),_r_()},hideLoading:function(){_i_("4ab:57a3a0b0"),this.shouldShowLoadingState&&this.$loading.removeClass("-visible"),_r_()},modelInit:function(){_i_("4ab:1c0c0ee5");var e={ss:this.input.value};this.destinationModel.init(e),_r_()},modelChange:function(e){if(_i_("4ab:b5cbe522"),e&&e.group&&e.group==this.groupName){var t=this.destinationModel.get();t.ss==this.input.value||this.isDeletion||(t.ss_modified&&B.env.fe_s_prprtyt?this.setValue(t.ss_modified):this.setValue(t.ss)),e.onlyCurrentCountry&&(this.$input.focus(),this.autocomplete()),this.inputUntouched=!1}_r_()},modelValidation:function(e){_i_("4ab:c7ade742"),e&&e.group==this.groupName&&(this.$errors.filter(".-visible").removeClass("-visible"),this.destinationModel.valid||(this.$el.find("#destination__error").addClass("-visible"),this.$errors.filter('[data-error-id="'+this.destinationModel.validationError+'"]').addClass("-visible"),o.send("[error] destination: "+this.destinationModel.validationError))),_r_()},inputClick:function(){_i_("4ab:956c29e8"),(""===this.input.value||this.inputUntouched)&&this.model.getFlag("with_recent_search")?this.showRecentSearchSuggestions():(""===this.input.value||this.inputUntouched)&&this.model.getFlag("on_click_suggestions")?this.showSuggestions():""===this.input.value&&(this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions"))&&this.showPopularNearbySuggestions(),s.prototype.inputClick.apply(this,arguments),_r_()},inputInput:function(){_i_("4ab:3ce47b6a"),this.isVisibleCalendar()&&this.hideCalendar();var e=this.input.value;this.destinationModel.setSearchString(e),this.inputUntouched=!1,this.metaMatchesOptionIsActive=!1,s.prototype.inputInput.apply(this,arguments),_r_()},inputKeyUp:function(e){_i_("4ab:3219e728"),s.prototype.inputKeyUp.apply(this,arguments),_r_()},inputBlur:function(){_i_("4ab:1cb9e383"),clearTimeout(this.timer),this.destinationModel.abortPredictions(),this.hideLoading();var e=this.destinationModel.get().ss_raw;if(e){var t=e.split(/\s+/).length;o.sendOnce("[interaction] autocomplete tokens typed ["+t+"]")}0===this.input.value.length&&this.model.getFlag("clear_input_on_click")&&this.input.value!==this.$input.data("cached-value")&&(this.input.value=this.$input.data("cached-value")||""),this.metaMatchesOptionIsActive&&this.metaMatchesOptionValue&&this.setValue(this.metaMatchesOptionValue),s.prototype.inputBlur.apply(this,arguments),this.suggestionsLocked=!1,_r_()},inputFocus:function(){return _i_("4ab:e2028d97"),this.metaMatchesOptionIsActive&&(this.metaMatchesOptionValue=this.input.value,this.setValue(this.metaMatchesOptionValue.split("•").join(""))),_r_(s.prototype.inputFocus.apply(this,arguments))},inputEnter:function(e){_i_("4ab:4cf5fa63"),o.send("[interaction] search input pressed enter"),s.prototype.inputEnter.apply(this,arguments),_r_()},onAutocompleteSearchStart:function(){_i_("4ab:93941720"),r.emit(r.SEARCHBOX_AUTOCOMPLETE_TRIGGERED),_r_()},clearClick:function(e){_i_("4ab:282114ce"),e.preventDefault(),this.reset({hard:!0}),this.input.focus(),this.model.getFlag("with_recent_search")&&this.showRecentSearchSuggestions(),_r_()},setValue:function(e){_i_("4ab:121e7d07"),s.prototype.setValue.apply(this,arguments),this.toggleClear(),_r_()},toggleClear:function(){_i_("4ab:514e2251"),this.$clear.length&&this.$clear.toggleClass("-visible",""!==this.input.value),_r_()},listShow:function(){_i_("4ab:f49b3588"),this.results&&this.results.filter(function(e){return _i_("4ab:13bfde30"),_r_(e.photo_uri||e.isPopularNearby||e.isRecentSearch)}).length?this.$list.addClass("sb-autocomplete__list-with_photos"):this.$list.removeClass("sb-autocomplete__list-with_photos"),0<this.items.length&&this.input.value.length>=this.options.minLength?s.prototype.listShow.apply(this,arguments):0<this.items.length&&(this.model.getFlag("on_click_suggestions")||this.model.getFlag("with_recent_search")||this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions"))&&s.prototype.listShow.apply(this,arguments),_r_()},autocomplete:function(e){_i_("4ab:f77e05de"),e=e||{},this.highlightReset({preserveInputValue:!0}),clearTimeout(this.timer),this.destinationModel.abortPredictions(),this.hideLoading(),this.toggleClear(),e.fromFocus||(this.isDeletion?this.destinationModel.reset():this.postAutocomplete(),this.input.value.length>=this.options.minLength&&(this._loading=!0),this.timer=setTimeout(function(){_i_("4ab:a9af8f9c"),this.input.value.length>=this.options.minLength&&(this.showLoading(),this.destinationModel.getPredictions(this.query(),this.render.bind(this)),this.onAutocompleteSearchStart()),_r_()}.bind(this),this.options.delay)),_r_()},query:function(){return _i_("4ab:2a33cf36"),_r_(this.input.value)},extendOptions:function(){return _i_("4ab:306d554b"),_r_({})},render:function(e,t){_i_("4ab:a6930317"),this.results=[],this.items=[],this.$items=n({}),this.on_click_suggestion=!1,this.hideLoading(),!e&&this.model.getFlag("on_click_suggestions_track")&&t.on_click_suggestion&&(this.on_click_suggestion=!0),this._loading=!1,!e||"service-booking-no-results"!=e.toString()&&-1===e.toString().indexOf("ZERO_RESULTS")||o.send("[context] autocomplete zero results search"),!e&&Array.isArray(t.results)?(o.send("[context] autocomplete suggestions ["+t.results.length+"]"),t.is_powered_by_google&&o.send("[context] autocomplete google place search"),B.env.fe_s_prprtyt&&t.results.map(function(e){_i_("4ab:69cfb297");var t=e.meta_matches;if(t&&0<t.length){var i=!1;e.property_in_label=e.meta_matches.map(function(e){return _i_("4ab:3cab0d47"),"blackfriday19_deals_upsorter"===e.id&&(i=!0),_r_(e.text)}).join(" • "),e.black_friday_item=i,e.property_in_id=e.meta_matches[0].id,e.isMetaMatchesItem=!0}e.flags&&"landmark"===e.dest_type&&e.flags.ski_item&&!e.property_in_label&&(e.fe_valueWithoutPropertyType=!0,e.property_in_label=B.jstmpl.translations("ski_autocomplete_ski_resort"),e.property_in_id=e.id),_r_()}),this.results=t.results,B.env.rtl&&(t.is_rtl=!0),this.model.getFlag("region_second_line")&&(t.fe_items_are_multiline=!0),this.model.getFlag("icon_revamp")&&(t.fe_icon_revamp=!0),B.env.fe_sb_use_new_ski_icon&&(t.fe_sb_use_new_ski_icon=!0),this.options.collapseACSingleAirport&&2==t.results.length&&"city"===t.results[0].dest_type&&"airport"===t.results[1].dest_type&&t.results[1].flags&&t.results[1].flags.tabbed&&(t.results[1].flags.tabbed=0,t.results.shift()),this.items=t.results.filter(function(e){return _i_("4ab:ac61c77f"),_r_(!!e.label)}).map(function(e){if(_i_("4ab:36887c13"),e.property_in_label&&!e.fe_valueWithoutPropertyType&&B.env.fe_s_prprtyt){var t="";return t=e.isMetaMatchesItem&&e.labels&&e.labels[0]?e.labels[0].text+" • "+e.property_in_label:B.jstmpl.translations("ss_search_box_search_property_type",null,{property_type:e.property_in_label,destination:e.ss}),_r_({value:e.label,valueLowerCase:e.label.toLowerCase(),valueWithPropertyType:t})}return _r_({value:e.label,valueLowerCase:e.label.toLowerCase()})}),this.$list.html(this.templateResults.render(t)),this.$items=this.$list.find('[data-list-item=""]'),this.model.getFlag("a11yinput")&&this.a11yAnnounceResults(t)):e||(this.$list.html(this.templateResults.render(t)),this.model.getFlag("a11yinput")&&this.a11yAnnounceResults(t)),this.postAutocomplete(),setTimeout(function(){_i_("4ab:2f456915"),this.$items.each(function(){_i_("4ab:00324166"),this.scrollWidth>this.offsetWidth&&this.setAttribute("data-title",this.getAttribute("data-label")),_r_()}),_r_()}.bind(this),500),_r_()},a11yAnnounceResults:function(e){if(_i_("4ab:ed896d16"),Array.isArray(e.results)&&0<e.results.length&&!this.isA11yMessageReading){this.isA11yMessageReading=!0;var t=setTimeout(function(){_i_("4ab:f93d45a5"),this.$el.find(".sb-a11y-announcement").show(),this.$el.find(".sb-a11y-announcement").html("<p>"+B.jstmpl.translations("a11y_index_autocomplete_suggested_destinations")+"</p>"),setTimeout(function(){_i_("4ab:444f6be7"),this.$el.find(".sb-a11y-announcement").html(""),this.$el.find(".sb-a11y-announcement").hide(),clearTimeout(t),this.isA11yMessageReading=!1,_r_()}.bind(this),500),_r_()}.bind(this),900)}_r_()},postAutocomplete:function(){_i_("4ab:4fadc203"),s.prototype.postAutocomplete.apply(this,arguments),this.a11yAnnounceResults(this),_r_()},choose:function(e){_i_("4ab:b1193676"),o.send("[interaction] autocomplete click position ["+e+"]"),o.send("[interaction] autocomplete click ["+this.results[e].dest_type+"]"),clearTimeout(this.timer),this.destinationModel.abortPredictions();var t=this.results[e];this.metaMatchesOptionIsActive=t.isMetaMatchesItem,this.destinationModel.set(this.results[e]),s.prototype.choose.apply(this,arguments);var i=this.results[e];B.env.fe_s_prprtyt&&(n(".property_in_filter").remove(),i.property_in_id&&n("form.sb-searchbox").append('<input class="property_in_filter" type="hidden" name="order_ht_id" value="'+i.property_in_id+'">')),i.flags&&i.flags.deals&&this.$el.after("<input type='hidden' name='em_ac_deal_option_clicked' value='1'>"),this.$skiInput&&this.$skiInput.length&&this.$skiInput.val(i.flags&&i.flags.ski_item),B.et.goal("autocomplete_option_selected"),"theme"==this.results[e].dest_type?B.et.goal("autocomplete_option_selected_theme"):"hotel"==this.results[e].dest_type?B.et.goal("autocomplete_option_selected_hotel"):this.results[e].place_id?B.et.goal("autocomplete_option_selected_google_places"):"query_finder"==this.results[e].result_type||B.et.goal("autocomplete_option_selected_destination"),this.results[e].place_id||B.et.goal("autocomplete_option_selected_brick"),"anywhere"==this.results[e].dest_type?this.model.setFields("drec_traffic",[{name:"dr_source",value:"sb_anywhere"}]):this.model.setFields("drec_traffic",[]),this.model.emit("change",{group:""}),"index"===B.env.b_action&&"www"===B.env.b_site_type&&"booking-home"===B.env.b_landingpage_theme&&(this.model.setFields("upsort_homes",[{name:"order",value:"upsort_bh"}]),this.model.emit("change",{group:""}));if(-1!==["landmark","airport","district"].indexOf(i.dest_type)){this.locationSelected=!0;var a=[];(this.model.getFlag("open_location_in_map")||this.model.getFlag("open_location_in_map_checkbox"))&&(this.model.getFlag("open_location_in_map")&&a.push({name:"map",value:1}),this.model.getFlag("open_location_in_map_checkbox")&&n(".sb-searchbox__map_trigger input").prop("checked","checked"),n(".sb-searchbox__map_trigger").removeClass("g-hidden"),this.destinationModel.setTrackingFields("map_trigger",a))}else(this.model.getFlag("open_location_in_map")||this.model.getFlag("open_location_in_map_checkbox"))&&(n(".sb-searchbox__map_trigger").addClass("g-hidden"),this.model.getFlag("open_location_in_map_checkbox")&&n(".sb-searchbox__map_trigger input").prop("checked",null),this.destinationModel.setTrackingFields("map_trigger",[]));this.model.getFlag("can_show_sb_entire_place_checkbox")&&(i.b_show_entire_homes_checkbox?n(".js-sb-entire-place-checkbox").removeClass("g-hidden"):n(".js-sb-entire-place-checkbox").addClass("g-hidden").find('input[name="sb_entire_place"]').prop("checked",!1).removeAttr("checked")),"theme"!=this.results[e].dest_type&&"theme_dest"!=this.results[e].result_type||this.model.submit(),r.emit(r.SEARCHBOX_DESTINATION_SELECTED,{destination:i}),this.showCalendarOnDesinationChange(),_r_()},showCalendarOnDesinationChange:function(){if(_i_("4ab:b4b21470"),!this.model.getFlag("calendar_on_destination_change")||this.model.dates.get().checkin)return _r_();this.showCalendar(),_r_()},showCalendar:function(){_i_("4ab:16fca7ef"),setTimeout(function(){_i_("4ab:0cdca124"),this.$searchbox.find(".xp__date-time:first").trigger("click"),_r_()}.bind(this)),_r_()},hideCalendar:function(){_i_("4ab:e21627eb"),setTimeout(function(){_i_("4ab:bea99b4c"),this.$searchbox.find(".c2-wrapper-s-checkin").trigger("hide"),this.$searchbox.find(".c2-wrapper-s-checkout").trigger("hide"),_r_()}.bind(this)),_r_()},isVisibleCalendar:function(){return _i_("4ab:431de88e"),_r_(this.$searchbox.find(".c2-calendar").is(":visible"))},showSuggestions:function(){if(_i_("4ab:443fd77a"),this.suggestionsLocked)return _r_();this.destinationModel.getSuggestions(this.render.bind(this)),this.suggestionsLocked=!0,_r_()},showPopularNearbySuggestions:function(){if(_i_("4ab:53d535d8"),this.suggestionsLocked)return _r_();var e=this.model.popularNearby.getPopularNearbySuggestions();e&&e.length&&(this.render(null,{results:this.model.popularNearby.getPopularNearbySuggestions()}),this.suggestionsLocked=!0),_r_()},showRecentSearchSuggestions:function(){if(_i_("4ab:23b4c269"),this.suggestionsLocked)return _r_();var e=this.model.recentSearch.getRecentSearchSuggestions();e&&e.length&&(this.render(null,{results:this.model.recentSearch.getRecentSearchSuggestions()}),this.suggestionsLocked=!0),_r_()},focusOnLoad:function(){_i_("4ab:ce00b1fb"),n(document).ready(function(){_i_("4ab:49e84ab1"),this.input.focus(),_r_()}.bind(this)),_r_()},enableFocusOnTyping:function(){_i_("4ab:6e04453b");var e=n(document),t=this.onKeyDown.bind(this);e.on("keydown.autofocus",t),this.$input.on("blur",function(){_i_("4ab:4a28701a"),e.on("keydown.autofocus",t),_r_()}.bind(this)).on("focus",function(){_i_("4ab:9df4e392"),e.off("keydown.autofocus",t),_r_()}.bind(this)),_r_()},onKeyDown:function(e){if(_i_("4ab:25a5d610"),B.env.copy_editor_enabled)return _r_();var t=this.$input.offset().top,i=e.keyCode,a=e.metaKey||e.ctrlKey;!(47<i&&i<58||64<i&&i<91||95<i&&i<112)||a||!document.activeElement||/INPUT|TEXTAREA|SELECT/.test(document.activeElement.nodeName)||n(".modal-mask:visible").length||(this.options.isSticky&&this.stickyController?this.stickyController.show():window.scrollY>t&&n("html, body").animate({scrollTop:t-5}),this.input.value&&this.setValue(""),this.$input.focus(),this.$input.trigger("focus_destionation_whilie_typing")),_r_()},reset:function(){_i_("4ab:f34c1d07"),this.selectedValue||this.destinationModel.reset(),s.prototype.reset.apply(this,arguments),_r_()},inputBlurSync:function(){_i_("4ab:cc183c13"),s.prototype.inputBlurSync.apply(this,arguments),_r_()},clickOut:function(){_i_("4ab:3f94e649"),s.prototype.clickOut.apply(this,arguments),_r_()}}),_r_()}),B.define("search/destination/model",function(e,t,i){"use strict";_i_("4ab:3a3a802c");var a=e("search/destination/service"),n=e("browser-storage-handler"),s=e("server-data");function o(e){_i_("4ab:0f458048"),this.model=e,this.data={ss:""},this.valid=!0,this.validationError="",this.options={groupName:"destination"},this.predicitonParameters={},this.searchInstance=null,this.skipValidation=!1,this.suggestionsCache={results:[]},this.ac={selected:!1,dataset:[]},_r_()}$.extend(o.prototype,{init:function(e){_i_("4ab:3ff1f2ec"),this.data=e;var t={};this.model&&this.model.getFlag&&(this.model.getFlag("on_click_suggestions")||this.model.getFlag("on_click_suggestions_anywhere"))&&(this.model.getFlag("on_click_suggestions_anywhere")&&(t.anywhere=!0),s.b_ac_search_history&&this.model.getFlag("on_click_suggestions")&&(t.searchHistory=!0),this.model.use("group"),this.model.on("init",function(e){_i_("4ab:46d69989"),"group"===e.group&&this.fetchSuggestions(t),_r_()}.bind(this))),this.model&&this.model.getFlag&&this.model.getFlag("with_recent_search")&&(this.model.use("recentSearch"),this.suggestionsCache&&this.suggestionsCache.results&&this.suggestionsCache.results.length||(this.suggestionsCache={results:this.model.recentSearch.getRecentSearchSuggestions()})),this.model&&this.model.getFlag&&(this.model.getFlag("with_popular_nearby_suggestions")||this.model.getFlag("sr_with_popular_destinations_suggestions"))&&(this.model.use("popularNearby"),this.suggestionsCache&&this.suggestionsCache.results&&this.suggestionsCache.results.length||(this.suggestionsCache={results:this.model.popularNearby.getPopularNearbySuggestions()})),this.emit("init"),_r_()},configure:function(e,t){_i_("4ab:66d50a77"),void 0!==t?this.options[e]=t:"object"==typeof e&&$.extend(this.options,e),_r_()},getOption:function(e){return _i_("4ab:07c3d404"),_r_(this.options[e])},get:function(){return _i_("4ab:867e130f"),_r_(this.data)},set:function(i){if(_i_("4ab:5c9c4913"),n.isLocalStorageSupported()&&i.dest_id&&i.dest_id!==n.getSessionValue("prev_destination_id")){var e=JSON.stringify(i);n.addSessionValue("prev_destination_id",i.dest_id,!1),n.addSessionValue("prev_destination_data",e,!1)}if(this.ac.selected=!0,this.searchInstance&&this.searchInstance.getResultDetails&&!i._details)return this.searchInstance.getResultDetails(i,function(e,t){_i_("4ab:871dc490"),(t=t||{})._details=!0,this.set(t),window.ga&&window.ga("send","event","ac_google_places",[i.place_types||"unknown",i.name].join("|"),this.data.ss_raw,i.position),_r_()}.bind(this)),_r_();this.data.ss=i.ss,this.data.dest_id=i.dest_id,this.data.dest_type=i.dest_type,this.data.city=i.city,this.data.iata=i.iata,i.property_in_label&&B.env.fe_s_prprtyt&&(i.isMetaMatchesItem&&i.labels&&i.labels[0]?this.data.ss_modified=i.labels[0].text+" • "+i.property_in_label:this.data.ss_modified=B.jstmpl.translations("ss_search_box_search_property_type",null,{property_type:i.property_in_label,destination:i.ss})),this.data.ac_flags={},this.data.max_los_data=i.b_max_los_data||{},i.nr_hotels&&(this.data.nr_hotels=i.nr_hotels),this.data.acc_type_id=i.acc_type_id,i.place_id&&i.latitude&&i.longitude?(this.data.place_id=i.place_id,this.data.latitude=i.latitude,this.data.longitude=i.longitude,this.data.place_types=i.place_types):(i.dest_id&&i.latitude&&i.longitude?(this.data.place_id="",this.data.latitude=i.latitude,this.data.longitude=i.longitude):(this.data.place_id="",this.data.latitude="",this.data.longitude=""),this.data.place_types=null),i._fa&&this.model.setFormAction(i._fa),i._ef=i._ef||[],this.data.dest_id&&i._ef.push({name:"dest_id",value:this.data.dest_id}),this.data.dest_type&&i._ef.push({name:"dest_type",value:this.data.dest_type}),this.data.iata&&i._ef.push({name:"iata",value:this.data.iata}),this.data.place_id&&i._ef.push({name:"place_id",value:this.data.place_id}),this.data.latitude&&i._ef.push({name:"place_id_lat",value:this.data.latitude}),this.data.longitude&&i._ef.push({name:"place_id_lon",value:this.data.longitude}),this.data.place_types&&Array.isArray(this.data.place_types)&&i._ef.push({name:"place_types",value:this.data.place_types.join(",")}),i.exp_tags&&i._ef.push({name:"ettar",value:i.exp_tags}),i._ef.push({name:"search_pageview_id",value:s.pageview_id}),i._ef.push({name:"search_selected",value:"true"}),"rentalcars"===i.type&&(this.data.type="rentalcars",this.data.placeKey=i.placeKey,this.data.rentalcarsItem=i,"origin"===this.options.groupName?this.model.setFields("rentalcars",i.fields.puFields):this.model.setFields("rentalcarsDrop",i.fields.doFields)),i.region_type&&i._ef.push({name:"region_type",value:i.region_type}),this.model.setFields("destinationNotSelected",[]),this.model.setFields("destinationSelected",i._ef),this.emit("change"),_r_()},setSearchString:function(e){_i_("4ab:1e7de1f8"),this.data.ss=e,this.data.ss_raw=e,"rentalcars"===this.model.getMode()||this.valid||this.validate(),_r_()},reset:function(){_i_("4ab:025738e6"),this.data.dest_id=null,this.data.dest_type=null,this.data.iata=null,this.data.place_id=null,this.data.latitude=null,this.data.longitude=null,this.model.setFormAction(null),this.model.setFields(this.options.groupName,[]),this.model.setFields("destinationNotSelected",[]),this.model.setFields("destinationSelected",[{name:"dest_id",value:""},{name:"dest_type",value:""},{name:"search_pageview_id",value:s.pageview_id},{name:"search_selected",value:"false"}]),"rentalcars"==this.data.type&&(this.ac.selected=!1,this.data.type=null,this.data.placeKey=null,this.data.rentalcarsItem=null,"origin"==this.options.groupName?this.model.setFields("rentalcars",[]):this.model.setFields("rentalcarsDrop",[])),this.emit("change"),_r_()},setTrackingFields:function(e,t){_i_("4ab:5cc022f5"),this.model.setFields(e,t),this.emit("change"),_r_()},validate:function(){_i_("4ab:9d1aa602");var e=!0,t="";if(!this.options.validate)return this.valid=e,this.validationError=t,_r_(e);return"rentalcars"===this.model.getMode()?(this.ac.selected&&""!==this.data.ss||(e=!1,t="search-string-empty"),e&&this.valid===e||(this.valid=e,this.validationError=t,this.emit("validation"))):(""===this.data.ss&&(e=!1,t="search-string-empty"),this.valid!==e&&(this.valid=e,this.validationError=t,this.emit("validation"))),_r_(e)},initPredictions:function(){(_i_("4ab:755389c7"),this.options.gpf)&&B.require("search/destination/service-atlas").init();_r_()},configurePredictions:function(e){_i_("4ab:2393882a"),$.extend(this.predicitonParameters,e),_r_()},getPredictions:function(e,n){_i_("4ab:f03551e7");var t=$.extend({},s.search_autocomplete_params,this.predicitonParameters);this.searchInstance&&this.searchInstance.abort(),this.ac={selected:!1,dataset:[]},t.ss=e,t.gpf=this.options.gpf,this.options.onlyCurrentCountry&&(t.e_acf_i=s.b_country_id,t.e_acf_t="country"),"rentalcars"==this.model.getMode()&&(t.bgo=1),this.searchInstance=a.search(t,function(e,i){_i_("4ab:090c5577");var a=arguments;if(i){if(this.model.setFields(this.options.groupName,i._ef),this.model.setFields("destinationNotSelected",i._efd),this.searchInstance&&this.searchInstance.getResultDetails&&i.results&&i.results[0]&&!i.results[0]._details)return this.searchInstance.getResultDetails(i.results[0],function(e,t){_i_("4ab:6b74c459"),e||(this.ac.dataset=i.results,this.ac.dataset[0]=t,this.ac.dataset[0]._details=!0),n.apply(null,a),_r_()}.bind(this)),_r_();this.ac.dataset=i.results}n.apply(null,a),_r_()}.bind(this)),this.model.setFields("destinationOriginal",[{name:"ss_raw",value:t.ss}]),this.model.setFields("destinationSelected",[{name:"search_pageview_id",value:s.pageview_id}]),_r_()},abortPredictions:function(){_i_("4ab:91e757d7"),this.searchInstance&&this.searchInstance.abort(),_r_()},getSuggestions:function(e,t){if(_i_("4ab:6ff8b2a0"),this.suggestionsCache.results.length)return setTimeout(function(){_i_("4ab:3c4c885b"),e(null,this.suggestionsCache),_r_()}.bind(this),0),_r_();this.model.one("destination:suggestions",function(){_i_("4ab:19d47861"),this.suggestionsCache.results.length&&e(null,this.suggestionsCache),_r_()}.bind(this)),_r_()},fetchSuggestions:function(e){if(_i_("4ab:78d48089"),this.suggestionsLoading)return _r_();var t=B.require("search/destination/service-booking");this.suggestionsInstance=t.getSuggestions(function(e,t){if(_i_("4ab:f6a6f946"),!e&&t&&t.results){t.on_click_suggestion=0<t.results.length;for(var i=0;i<t.results.length;i++)!t.results[i].ss&&t.results[i].label&&(t.results[i].ss=t.results[i].label);this.suggestionsCache=t}this.suggestionsLoading=!1,this.emit("destination:suggestions"),_r_()}.bind(this),e),this.suggestionsLoading=!0,_r_()},initOnlyCurrentCountry:function(e){_i_("4ab:1447d160"),this.options.onlyCurrentCountry=!!e,_r_()},getOnlyCurrentCountry:function(){return _i_("4ab:784bf933"),_r_(!!this.options.onlyCurrentCountry)},setOnlyCurrentCountry:function(e){_i_("4ab:0d6609ed"),this.options.onlyCurrentCountry=!!e,this.emit("change",{onlyCurrentCountry:!0}),_r_()},emit:function(e,t){_i_("4ab:7ff501a3"),t=t||{},this.model.emit(e,$.extend(t,{group:this.options.groupName})),_r_()},parseMltRecommendations:function(e){return _i_("4ab:a991c3a5"),e&&e.length&&e.forEach(function(e){_i_("4ab:c2deb740"),e.ss=e.label,e.dest_id=e.b_ufi,e.dest_type="city",e.photo_uri=e.picture_city?e.picture_city:e.b_image_url,e.mlt_recommendation=1,_r_()}),_r_(e)}}),i.exports=o,_r_()}),B.define("search/destination/service",function(i,e,t){"use strict";_i_("4ab:d520dd12");var a=i("search/destination/service-booking"),n=i("search/destination/service-carrier");function s(e,t,n){var i,a,s;_i_("4ab:b198d1c5");var o=[],r=[],_=[],l=0;B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_address_search_started",1);var d=function(e,t,i){if(_i_("4ab:bd577c95"),l++,o.length&&(t?r.push(t):_[e]=i,l==o.length))if(r.length==o.length)n.call(null,r[0],null),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_address_search_failed",1);else{var a=function(e,i,t,a){_i_("4ab:b5fdc80c");var n=t||6,s=a||3,o={results:[],_ef:[],_efd:[]};return e.forEach(function(t){if(_i_("4ab:2b30aba3"),!t)return _r_();if(t.results)if(o.results.length){i&&(t.results=t.results.filter(h)),t.results.splice(s);var e=n-t.results.length;o.results.splice(e),o.results=t.results.concat(o.results)}else o.results=t.results;["_ef","_efd"].forEach(function(e){_i_("4ab:dbb8c68e"),t[e]&&(o[e]=o[e].concat(t[e].filter(function(e){_i_("4ab:fb404d6b");var t={};return e.forEach(function(e){_i_("4ab:0a94a462"),t[e.name]=!0,_r_()}),_r_(function(e){return _i_("4ab:f2b14173"),_r_(!t[e.name])})}(o[e])))),_r_()}),o.is_powered_by_google=o.is_powered_by_google||t.results.length&&t.is_powered_by_google,_r_()}),o.results.forEach(function(e,t){var i,a,n;_i_("4ab:dda6d81b"),e._ef=(i=e._ef,a="ac_position",n=t,_i_("4ab:921e8421"),(i=i.filter(function(e){return _i_("4ab:88e16264"),_r_(e.name!==a)})).push({name:a,value:n}),_r_(i)),_r_()}),o.city=o.results,o.__js_upa__=o.is_powered_by_google,_r_(o)}(_,!0);n.call(null,null,a),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_address_search_succeeded",1)}_r_()};for(i=0;i<e.length;i++)(a=e[i].search.call(e[i],$.extend({},t),d.bind(null,i))).getResultDetails&&(s=a.getResultDetails),o.push(a);return _r_({abort:function(){for(_i_("4ab:ff00001c"),i=0;i<o.length;i++)o[i].abort();_r_()},getResultDetails:s})}function h(e){return _i_("4ab:05edf08f"),_r_(-1!=["route","postal_code","street_address"].indexOf(e.place_type))}function o(e,t,i){var a;_i_("4ab:d5d9fff2");var n={};return a=e.search.call(e,$.extend({},t),function(e,t){_i_("4ab:ca016df2"),setTimeout(function(){_i_("4ab:f23dea16"),e?i.call(null,e,null):i.call(null,e,t),_r_()},0),_r_()}),n.abort=function(){_i_("4ab:c33745771"),a&&a.abort(),_r_()},_r_(n)}t.exports={search:function(e,t){if(_i_("4ab:ce851a88"),!e||!e.ss||"function"!=typeof t)throw new Error("Invalid arguments");if(e.bgo)return _r_(i("search/destination/service-rentalcars").search(e,t));if(e.useAutoCompleteService)return _r_(i("search/destination/service-autocomplete").search(e,t));if(/^[,\s]+$/.test(e.ss))return t(new Error("Invalid search string"),null),_r_();return e.gpo?_r_(n.search(e,t)):e.fesp_acf_i||e.fesp_acf_i_regions||e.fesp_acf_i_cities?_r_(o(a,e,t)):e.gpf&&e.ss.match(/[0-9]/)?_r_(s([a,n],e,t)):e.gpr?_r_(function(e,t,i){var a;_i_("4ab:d6437204");var n=[],s=[],o=function(e,t){if(_i_("4ab:6cc59e93"),n.length)if(e)s.push(e),s.length==n.length&&i.call(null,e,t);else for(i.call(null,e,t),a=0;a<n.length;a++)n[a].abort();_r_()};for(a=0;a<e.length;a++)n.push(e[a].search.call(e[a],$.extend({},t),o));return _r_({abort:function(){for(_i_("4ab:ff00001c1"),a=0;a<n.length;a++)n[a].abort();_r_()}})}([a,n],e,t)):e.gpf?_r_(function(i,t,a){var n;_i_("4ab:fea3cf15");var s,o={},r=function(e,t){_i_("4ab:c982a5db"),setTimeout(function(){_i_("4ab:213670df"),e&&i.length?s():a.call(null,e,t),_r_()},0),_r_()};return(s=function(){_i_("4ab:21088902");var e=i.shift();n=e.search.call(e,$.extend({},t),r),o.getResultDetails=n.getResultDetails,_r_()})(),o.abort=function(){_i_("4ab:c3374577"),n&&n.abort(),_r_()},_r_(o)}([a,n],e,t)):_r_(o(a,e,t))}},_r_()}),B.define("search/destination/service-atlas",function(e,t,i){"use strict";_i_("4ab:36da66c3");var a=e("event-emitter"),s=e("server-data"),o=s.b_map_center_latitude||s.b_latitude||void 0,r=s.b_map_center_longitude||s.b_longitude||void 0,n=["ChIJNy0jzGPMUQ4RWpboPw0ztMY","ChIJ2xJC2SwmsUcRBqiHnUEubtY","ChIJT-IyeGHurw0Rx89nUEaYTPM","ChIJk_Swujrurw0R7yS_X2BSuD4","ChIJv02k1k9oWQ0RWvhKDOLvTWA","ChIJEdjOLYEU9x4RSanYNmYyKNE"],_={administrative_area_level_1:"region",administrative_area_level_2:"region",administrative_area_level_3:"region",administrative_area_level_4:"region",administrative_area_level_5:"region",region:"region",airport:"airport",country:"country",locality:"city",point_of_interest:"landmark",poi:"landmark",route:"region",street_address:"region",postal_code:"region",sublocality:"district"},l="zh"===s.b_lang||"xt"===s.b_lang||"ja"===s.b_lang||"ko"===s.b_lang,d="cn"===s.b_guest_country,h=!s.b_enable_mapbox_fallback||!d;function c(){return _i_("4ab:89516b0b"),_r_(!!B.atlas)}function u(a,e,t){_i_("4ab:156b06e0");var i={city:[]};i.__upa__=e.filter(f).slice(0,5).map(function(e,t){_i_("4ab:b3066125"),e=e.get("data");var i={upa:!0,nr_hotels:0,nr_hotels_25:0,ss_raw:a.ss,dest_id:e.id,place_id:e.id,dest_type:_[e.types&&e.types[0]]||"landmark",place_type:e.types&&e.types[0],place_types:e.types,ss:e.description,label:e.description,label_blocks:function(n,s){_i_("4ab:b6d1e31f");var o=[];if(!s||0===s.length)return _r_([{text:n}]);s[0].offset&&o.push({text:n.substr(0,s[0].offset)});return s.forEach(function(e,t){_i_("4ab:85db203c");var i=e.offset+e.length,a=(s[t+1]&&s[t+1].offset||n.length)-i;o.push({highlighted:!0,text:n.substr(e.offset,e.length)}),a&&o.push({text:n.substr(i,a)}),_r_()}),_r_(o)}(e.description,e.matched_substrings),label_highlighted:function(e,t,i){_i_("4ab:694baa63");var a="";if(i=i||{},!t||0===t.length)return _r_(e);for(var n=t.map(function(e){return _i_("4ab:3513ad06"),_r_(e.offset)}),s=t.map(function(e){return _i_("4ab:5c09a709"),_r_(e.offset+e.length-1)}),o=0;o<e.length;o++)-1!=n.indexOf(o)&&(a+="<b>"),a+=e.charAt(o),-1!=s.indexOf(o)&&(a+="</b>");i.encode&&(a=(a=(a=B.jstmpl.fn.FILTERS.entities(a)).replace(/&lt;b&gt;/g,"<b>")).replace(/&lt;&#47;b&gt;/g,"</b>"));return _r_(a)}(e.description,e.matched_substrings,{encode:a.gpf_encode}),label_multiline:"<span><b>"+e.description+"</b></span>",hotels:0,lc:s.b_lang,position:t,is_google_result:h,_ef:[],cjk:l};return d&&(i.is_mapbox_result=!0,i.longitude=e.longitude,i.latitude=e.latitude,i._details=!0),i._ef.push({name:"ac_position",value:t}),i._ef.push({name:"ac_click_type",value:"g"}),_r_(i)}),i.results=i.__upa__,i._ef=[],i._ef.push({name:"search_pageview_id",value:s.pageview_id}),window.google&&(i.is_powered_by_google=0<i.results.length,i.__js_upa__=i.is_powered_by_google),t(null,i),_r_()}function f(e){_i_("4ab:6b568dc3");var t=e.get("data");return _r_(-1===n.indexOf(t.id))}function b(n,s){if(_i_("4ab:22cb1394"),!n.place_id)return s(null,n),_r_();this.atlas.getGeocodeDetails({placeId:n.place_id},function(e){var t,i,a;_i_("4ab:e4a4ff55"),t=n,i=e,a=s,_i_("4ab:eb6b72d6"),(t=t||{}).id=i.id||i.place_id,t.place_id=t.id,t.name=i.name||i.formatted_address,t.latitude=i.geometry.location.lat(),t.longitude=i.geometry.location.lng(),t.place_types=i.types,t.dest_type=_[i.types&&i.types[0]]||"landmark",t._ef=t._ef||[],t._ef.push({name:"ss_short",value:i.name}),a(null,t),_r_(),_r_()}),_r_()}i.exports=a.extend({init:function(e,a){_i_("4ab:9de5d2b8"),e=e||{};var n=this;if(!c())throw"service-atlas: B.atlas is not available";if(this.initialized)return a&&this.atlas&&this.atlas.done(a),_r_();this.initialized=!0;B.require(["async-loader"],function(e){_i_("4ab:c9c4fa5f"),e.load({js:"async_atlas_places_js"}).then(function(){_i_("4ab:2e3caf82"),function(e){_i_("4ab:236c5df3");var t=document.createElement("div"),i="provider-google-places";s.b_enable_mapbox_fallback&&(i=d?"provider-mapbox-places":"provider-google-places"),n.atlas=new e({provider:i,modules:["autocomplete","places"],options:{domNode:t,channel:"booking-places"}}),a&&n.atlas.done(a),_r_()}(B.atlas.require("atlas-places")),_r_()}),_r_()}),_r_()},search:function(t,i){if(_i_("4ab:d874a779"),!t||!t.ss||"function"!=typeof i)throw new Error("service-atlas-invalid-arguments");if(t.ss.length<2)return setTimeout(function(){_i_("4ab:ea38fa68"),i(new Error("service-atlas-too-short-search-string"),{}),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});if(!c())return setTimeout(function(){_i_("4ab:c4866534"),i(new Error("service-atlas-no-atlas"),null),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});var a=!1,e={query:t.ss};o&&r&&(e.lat=o,e.lon=r,e.radius=3e4);var n=function(e){_i_("4ab:bbd056dd"),a||(e&&Array.isArray(e)?u(t,e,i):i(new Error("service-atlas-invalid-results"),null)),_r_()},s=function(e){_i_("4ab:ac1377c8"),a||i(new Error("service-atlas-error "+e),null),_r_()};this.init(t,function(){_i_("4ab:016a77f1"),this.atlas.autocomplete(e,n,s),_r_()}.bind(this));return _r_({getResultDetails:b.bind(this),abort:function(){_i_("4ab:e8b984fb"),a=!0,_r_()}})}}),_r_()}),B.define("search/destination/service-booking",function(e,t,i){"use strict";_i_("4ab:b3b6d687");var a=e("event-emitter"),s=B.env.b_sb_autocomplete_predictions_url,o=B.env.b_sb_autocomplete_predictions_method||"GET";function r(a,e,t){_i_("4ab:8055be59"),a&&a.city?a.__upa__||0!==a.city.length||a.bbtoollocations&&0!==a.bbtoollocations.length||a.theme&&0!==a.theme.length||a.searches&&0!==a.searches.length?(a.city=a.city.map(function(e,t){var i;return _i_("4ab:2ca133ad"),!e.label&&e.labels&&(e.label=(i=e.labels,_i_("4ab:18745e16"),_r_(i.map(function(e){return _i_("4ab:ec1c0c2e"),_r_(e.text)}).join(", ")))),!e.labels||"zh"!==e.lc&&"xt"!==e.lc&&"ja"!==e.lc&&"ko"!==e.lc||(e.label_blocks=function(e){_i_("4ab:dad77360");var i=[];return e.forEach(function(e,t){_i_("4ab:c4f7dab7"),0<t&&i.push({text:", "}),i.push({highlighted:!!e.hl,text:e.text}),_r_()}),_r_(i)}(e.labels)),e.ss=e.label,e.label_highlighted=e.label_highlighted||e.label,e.position=t,e._ef=e._ef||[],e._ef.push({name:"ac_position",value:t}),e._ef.push({name:"ac_langcode",value:e.lc}),e._ef.push({name:"ac_click_type",value:"b"}),e.roundtrip&&e._ef.push({name:"ac_meta",value:e.roundtrip}),a.__did_you_mean__&&(e._ef.push({name:"suggested_term",value:a.__did_you_mean__.suggestion}),e._ef.push({name:"suggestion_clicked",value:1})),e._t&&e._ef.push({name:"_t",value:e._t}),_r_(e)}),a.results=a.city,a.bbtoollocations&&(a.results=a.bbtoollocations.map(function(e,t){return _i_("4ab:52311848"),e.name=B.jstmpl.fn.FILTERS.html(e.name),e.address=B.jstmpl.fn.FILTERS.html(e.address),void 0!==e.label&&(e.label=B.jstmpl.fn.FILTERS.html(e.label)),void 0!==e.label_highlighted&&(e.label_highlighted=B.jstmpl.fn.FILTERS.html(e.label_highlighted)),e.label_blocks=[{highlighted:1,text:e.name},{text:", "},{text:e.address}],e.ss=e.name,e.latitude=e.place_id_lat,e.longitude=e.place_id_lon,e.position=t,e._ef=e._ef||[],e._ef.push({name:"bbtoollocation",value:"1"}),_r_(e)}).concat(a.results)),a.theme&&(a.theme=a.theme.map(function(e,t){return _i_("4ab:bda296e8"),e.ss=e.label,e._ef=e._ef||[],e._ef.push({name:"ac_position",value:t+a.city.length}),e._ef.push({name:"ac_click_type",value:"b"}),_r_(e)}),a.theme.length&&e.limitOneTheme&&(a.theme=[a.theme[0]]),a.results=a.results.concat(a.theme)),a._ef=a._ef||[],a._ef.push({name:"search_pageview_id",value:B.env.pageview_id}),a._ef.push({name:"ac_suggestion_list_length",value:a.city.length}),a._ef.push({name:"ac_suggestion_theme_list_length",value:a.theme?a.theme.length:0}),a._efd=a._efd||[],t(null,a),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_brick_search_succeeded",1)):(B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_brick_search_failed",1),t(new Error("service-booking-no-results"),a)):(B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_brick_search_failed",1),t(new Error("service-booking-data-invalid"),null)),_r_()}i.exports=a.extend({search:function(a,n){if(_i_("4ab:d7a84ba8"),!a||!a.ss||"function"!=typeof n)throw new Error("Invalid arguments");var e,t=(e=a,_i_("4ab:62ef0a47"),e.term=e.ss,delete e.ss,_r_(e));this.emit("beforeajax",a,t),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_brick_search_started",1);var i=$.ajax({type:o,url:s,data:t,success:function(e,t,i){_i_("4ab:216ba6f0"),r(e,a,n),_r_()}.bind(this),error:function(e,t,i){_i_("4ab:58b05c50"),function(e,t,i){if(_i_("4ab:6b5a73c9"),"error"===t&&403===e.status){var a=window.location.href;if(a.indexOf("page_reload")<0){var n=2e3;"mdot"===B.env.b_site_type&&(n=1e3);var s=B.jstmpl.translations("search_sbox_abandoned_search_open_tab_message"),o=B.jstmpl.translations("search_sbox_abandoned_search_open_tab_message_refresh_cta");-1<a.indexOf("#")?($("body").append($("<div class='sb-lightbox-brick-error'><p>"+s+"<br><br><a class='btn btn-primary'>"+o+"</a></p></div>").on("click","a",function(){_i_("4ab:f47fa620"),window.location.reload(!0),_r_()})),setTimeout(function(){_i_("4ab:6339201f"),window.location.reload(!0),_r_()},n)):(-1<a.indexOf("?")?a+="&page_reload=1":a+="?page_reload=1",$("body").append($("<div class='sb-lightbox-brick-error'><p>"+s+"<br><br><a class='btn btn-primary' href='"+a+"'>"+o+"</a></p></div>")),setTimeout(function(){_i_("4ab:56a1f835"),window.location.href=a,_r_()},n))}}_r_()}(e,t),_r_()}.bind(this)});return _r_({abort:function(){_i_("4ab:492fa66a"),i&&i.abort&&i.abort(),_r_()}})},getSuggestions:function(a,e){_i_("4ab:33d04881");var t=B.env.search_autocomplete_params,i="";if(e&&e.searchHistory&&B.env.b_ac_search_history)return a(!1,{results:B.env.b_ac_search_history}),_r_();"searchresults"===B.env.b_action&&(i="valid"===(i=B.search.dates("checkin")).type?i.toString():""),t=Object.assign({},t,{ttype:0,checkin:i});var n=$.ajax({type:"get",url:"/search_history_and_suggestions",data:t,success:function(e,t,i){_i_("4ab:14a99cd2"),a(null,e),_r_()},error:function(e,t,i){if(_i_("4ab:05646750"),"abort"===t)return _r_();a(new Error("service-booking-error "+i),null),_r_()}});return _r_({abort:function(){_i_("4ab:492fa66a1"),n&&n.abort&&n.abort(),_r_()}})}}),_r_()}),B.define("search/destination/service-carrier",function(e,t,i){"use strict";_i_("4ab:b0c820c6");var a=e("event-emitter"),n="/dml/graphql",o="POST",r="GooglePlacesAutocomplete",_="query GooglePlacesAutocomplete($input: GooglePlacesInput!, $fetchOnlyFirst: Boolean) {\n  googlePlaces(input: $input) {\n    results {\n      destType\n        googlePlaceId\n        placeType\n      label\n      languageCode\n     position\n      languageCode\n     place(fetchOnlyFirst: $fetchOnlyFirst) {\n        address\n        location {\n          latitude\n          longitude\n        }\n      }\n    }\n  }\n}\n",s={operationName:"googlePlaceDetails",query:"query googlePlaceDetails($input: PlaceDetailsInput!) {\n  googlePlaceDetails(input: $input) {\n    results {\n      place {\n        location {\n          latitude\n          longitude\n        }\n      }\n    }\n  }\n}\n"};function l(i,a){if(_i_("4ab:2ec029f7"),!i.place_id)return a(null,i),_r_();!function(e,a){if(_i_("4ab:c7d2f04a"),!e)return _r_();e={operationName:s.operationName,query:s.query,variables:{input:{placeId:e.place_id}}},$.ajax({type:o,url:n,data:JSON.stringify(e),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,t){if(_i_("4ab:bd7fef72"),e&&e.data&&e.data.googlePlaceDetails&&e.data.googlePlaceDetails.results&&e.data.googlePlaceDetails.results[0]){var i=e.data.googlePlaceDetails.results[0];e=i.place&&i.place.location?{latitude:i.place.location.latitude,longitude:i.place.location.longitude}:{}}a(t,e),_r_()}.bind(this),error:function(e,t,i){_i_("4ab:3f50e38d"),"abort"!==t&&a(t,new Error("service-booking-error "+i)),_r_()}.bind(this)}),_r_()}({place_id:i.place_id},function(e,t){if(_i_("4ab:0337a9b6"),"success"!=e)return a(null,i),_r_();(i=i||{}).latitude=t.latitude,i.longitude=t.longitude,a(null,i),_r_()}),_r_()}i.exports=a.extend({search:function(e,s){if(_i_("4ab:b6270344"),!e||!e.ss||"function"!=typeof s)throw new Error("service-carrier-invalid-arguments");if(e.ss.length<2)return setTimeout(function(){_i_("4ab:ff6ee0e6"),s(new Error("service-carrier-too-short-search-string"),{}),_r_()},4),_r_({getDetails:$.noop,abort:$.noop});B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_carrier_search_started",1);var t={operationName:r,variables:{input:{searchString:e.ss,sessionToken:B.env.pageview_id},fetchOnlyFirst:!0},query:_};this.emit("beforeajax",e,t);var i=$.ajax({type:o,url:n,data:JSON.stringify(t),xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,t,i){var a,n;_i_("4ab:216ba6f01"),a=e,n=s,_i_("4ab:9bbb7b1c"),a&&a.data&&a.data.googlePlaces&&a.data.googlePlaces.results&&a.data.googlePlaces.results.length?(n(null,{results:a=a.data.googlePlaces.results.map(function(e){_i_("4ab:2d7cb2f7");var t={_ef:[{name:"ac_position",value:e.position},{value:"g",name:"ac_click_type"}],dest_type:e.destType.toLowerCase(),is_google_result:!0,label:e.label,lc:e.languageCode,place_id:e.googlePlaceId,place_type:e.placeType,position:e.position,ss:e.label};return e.place&&e.place.location&&(t._details=!0,t.latitude=e.place.location.latitude,t.longitude=e.place.location.longitude),_r_(t)}),is_powered_by_google:1}),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_carrier_search_succeeded",1)):(n(new Error("service-carrier-invalid-results"),null),B.env.fe_m_sb_index_track_goals&&B.et.goalWithValue("js_mobile_index_sb_carrier_search_failed",1)),_r_(),_r_()}.bind(this),error:function(e,t,i){_i_("4ab:b4644f9f"),"abort"!==t&&s(new Error("service-booking-error "+i),null),_r_()}.bind(this)});return _r_({getResultDetails:l.bind(this),abort:function(){_i_("4ab:492fa66a2"),i&&i.abort&&i.abort(),_r_()}})},getSuggestions:function(a,e){_i_("4ab:33d048811");var t=B.env.search_autocomplete_params,i="";if(e&&e.searchHistory&&B.env.b_ac_search_history)return a(!1,{results:B.env.b_ac_search_history}),_r_();"searchresults"===B.env.b_action&&(i="valid"===(i=B.search.dates("checkin")).type?i.toString():""),t=Object.assign({},t,{ttype:0,checkin:i});var n=$.ajax({type:"get",url:"/search_history_and_suggestions",data:t,success:function(e,t,i){_i_("4ab:14a99cd21"),a(null,e),_r_()},error:function(e,t,i){if(_i_("4ab:056467501"),"abort"===t)return _r_();a(new Error("service-booking-error "+i),null),_r_()}});return _r_({abort:function(){_i_("4ab:492fa66a3"),n&&n.abort&&n.abort(),_r_()}})}}),_r_()}),B.define("component/search/travel-purpose/checkbox",function(e,t,i){"use strict";_i_("4ab:67e1bb56");var a=e("component"),n=e("search/searchbox/model");i.exports=a.extend({init:function(){_i_("4ab:a669d18e"),this.$form=this.$el.closest("form"),this.$checkbox=this.$el.find("[name=sb_travel_purpose]"),this.profileSplitAccounts=B.env.b_connected_user_accounts,this.formAction=this.$form.attr("action"),this.model=n.getInstance(this.$form.attr("data-sb-id")),this.searchedBusiness=!1,this.$checkbox.length&&"checked"===this.$checkbox[0].getAttribute("checked")&&(this.searchedBusiness=!0),this.updateRedirectFormFieldsOnModelChange=!1,(this.searchedBusiness||this.profileSplitAccounts)&&this.bindEvents(),_r_()},bindEvents:function(){_i_("4ab:94f4c6a6"),this.$checkbox.on("change",this.handleCheckboxChange.bind(this)),this.model.on("change",function(e){_i_("4ab:48f1f1ce"),!this.updateRedirectFormFieldsOnModelChange||e&&e.redirectFormFields||this.createRedirectFormFields(),_r_()}.bind(this)),_r_()},handleCheckboxChange:function(){_i_("4ab:a853bf4c"),this.$checkbox.prop("checked")?this.$hidden&&(this.$hidden.remove(),this.$checkbox[0].setAttribute("name","sb_travel_purpose")):(this.$hidden=$('<input name="sb_travel_purpose" value="leisure" type="hidden" />').appendTo(this.$el),this.$checkbox[0].setAttribute("name","h_sb_travel_purpose")),this.createRedirectFormFields(),_r_()},createRedirectFormFields:function(){if(_i_("4ab:9f95f63a"),!this.profileSplitAccounts||!this.profileSplitAccounts.length||!B.env.feature_profile_split_sb_checkbox)return _r_();this.model.setFields("bnss",[]),this.model.trigger("change",{redirectFormFields:!0});var e=this.findAccountType(this.$checkbox.prop("checked")),t=this.formAction,i=B.env.b_secure_domain+this.$el.attr("data-profile-switch-url");-1===t.indexOf(B.env.b_nonsecure_hostname)&&(t=B.env.b_nonsecure_hostname+t),-1===t.indexOf("?")?t+=+this.$form.serialize():t+="&"+this.$form.serialize(),this.model.setFields("bnss",[{type:"hidden",name:"redirect_url",value:t},{type:"hidden",name:"switch_to_user_id",value:e.b_user_id}]),this.$form.attr("method","POST"),this.model.setFormAction(i),this.model.trigger("change",{redirectFormFields:!0}),this.updateRedirectFormFieldsOnModelChange=!0,_r_()},findAccountType:function(e){var t,i,a;for(_i_("4ab:4b27ed34"),t=0,i=this.profileSplitAccounts.length;t<i;++t)"business"===this.profileSplitAccounts[t].b_type&&e?a=this.profileSplitAccounts[t]:"business"===this.profileSplitAccounts[t].b_type||e||(a=this.profileSplitAccounts[t]);return _r_(a)}}),_r_()}),B.define("component/search/dates/date-field",function(e,t,i){"use strict";_i_("4ab:1d1783c9");var h=e("caret"),a=e("component"),c=e("formatting/date"),n=e("keycodes"),s=e("read-data-options"),o=e("ga-tracker"),r=e("search/searchbox/model");i.exports=a.extend({init:function(){_i_("4ab:3eac4c07"),this.options=s(this.el,{forceInitRender:{name:"force-init-render",type:Boolean,defaultValue:!1},modelId:{name:"sb-id",type:String,required:!0},modelMode:{name:"mode",type:String,defaultValue:"single"},validators:{name:"validators",type:String,defaultValue:""}});var e=this.options.validators.split(",");this.model=r.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("change",this.modelChange.bind(this)),this.model.dates.configure({noValidation:!0,allowMaxLos:!0,notEmpty:0<=e.indexOf("not-empty")}),this.$display=this.$el.find("[data-display]"),this.$inputs=this.$el.find("[data-input]"),this.$inputYear=this.$inputs.filter('[data-input-fragment="year"]'),this.$inputMonth=this.$inputs.filter('[data-input-fragment="month"]'),this.$inputDay=this.$inputs.filter('[data-input-fragment="day"]'),this.$controls=this.$el.find("[data-controls]"),this.$iconDay=this.$el.find("[data-icon-day]"),this.$field=this.$el.find("[data-field]"),this.$controls.on("mousedown",this.controlsMouseDown.bind(this)),this.$inputs.on("focus",this.inputFocus.bind(this)),this.$inputs.one("focus",this.inputFocusTrack.bind(this)),this.$inputs.on("blur",this.inputBlur.bind(this)),this.$inputs.on("keydown",this.inputKeyDown.bind(this)),this.$inputs.on("keyup",this.inputKeyUp.bind(this)),this.$inputs.on("keypress",this.inputKeyPress.bind(this)),B.eventEmitter.on("CALENDAR:shown CALENDAR:closed",this.updateFocusClass.bind(this)),this.previousState={},this.state={editing:!1,currentField:null},this.checkDateFields(),this.initModel(),_r_()},checkDateFields:function(){var e,t;_i_("4ab:b79e53cf"),this.$inputYear.length&&this.$inputMonth.length&&this.$inputDay.length||(e=this.model.dates.getFallbackDates(this.options.modelMode),0===this.$inputYear.length&&(t=e.year||"",this.$inputYear=this.createDateInputField(this.options.modelMode+"_year",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:05cd2402"),Error("Date input field year was not found in "+B.env.b_action+" action")},0)),0===this.$inputMonth.length&&(t=e.month||"",this.$inputMonth=this.createDateInputField(this.options.modelMode+"_month",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:01a0e5f0"),Error("Date input field month was not found in "+B.env.b_action+" action")},0)),0===this.$inputDay.length&&(t=e.day||"",this.$inputDay=this.createDateInputField(this.options.modelMode+"_monthday",t).appendTo(this.el),setTimeout(function(){throw _i_("4ab:53fd85ba"),Error("Date input field day was not found in "+B.env.b_action+" action")},0))),_r_()},createDateInputField:function(e,t){return _i_("4ab:b9c402e3"),_r_($("<input>").attr({type:"hidden",name:e,value:t}).val(t))},initModel:function(){_i_("4ab:2d14df86");var e=!1,t=this.$inputYear.val(),i=this.$inputMonth.val(),a=this.$inputDay.val();t&&i&&a?(e=this.model.dates.initDate(this.options.modelMode,{year:+t,month:+i-1,day:+a}),this.$field.hasClass("-empty")&&"index"===B.env.b_action&&this.render()):e=this.model.dates.initDate(this.options.modelMode,null),e&&!this.options.forceInitRender||this.render(),_r_()},modelChange:function(e){if(_i_("4ab:c5a8b8ab"),"dates"!==e.group||!e[this.options.modelMode])return _r_();this.render(),_r_()},controlsMouseDown:function(e){_i_("4ab:6e48dd53"),this.inputBlurPrevented=!0,setTimeout(function(){_i_("4ab:334cc6cc"),this.inputBlurPrevented=!1,_r_()}.bind(this)),_r_()},inputFocus:function(e){_i_("4ab:9c58a474"),clearTimeout(this.inputBlurTimer),this.state.editing=!0,this.state.currentField=e.target.getAttribute("data-input-fragment"),this.startEditing(),this.updateFocusClass(),_r_()},inputFocusTrack:function(){_i_("4ab:7630c5c4"),o.trackEvent(o.SearchBoxTracker,"Keyboard Focus",this.options.modelMode+" field"),_r_()},inputBlur:function(e){_i_("4ab:4a0c1d36");var t=e.target,i=t.getAttribute("data-input-fragment");this.inputBlurPrevented||(this.state.editing=!1,this.state.currentField=null),this.setDateFragment(i,t.value),this.inputBlurTimer=setTimeout(function(){_i_("4ab:fcd041df"),this.apply(),this.updateFocusClass(),_r_()}.bind(this)),_r_()},inputKeyDown:function(e){_i_("4ab:2f088557");var t=e.target,i=t.getAttribute("data-input-fragment");if(n.isModifier(e.which))return _r_();n.isUpArrow(e.which)?(this.adjustDateFragment(i,t.value,1),e.preventDefault()):n.isDownArrow(e.which)?(this.adjustDateFragment(i,t.value,-1),e.preventDefault()):n.isLeftArrow(e.which)||n.isBackspace(e.which)?this.inputMoveAdjacent(e,-1,{backspace:n.isBackspace(e.which)}):n.isRightArrow(e.which)&&this.inputMoveAdjacent(e,1),_r_()},inputKeyUp:function(e){_i_("4ab:edc2be24");var t=e.target;if(n.isModifier(e.which))return _r_();!n.isNavigation(e.which)&&!n.isDeletion(e.which)&&t.value.length>=Math.floor(t.getAttribute("maxlength"))&&this.inputMoveAdjacent(e,1,{automatic:!0}),_r_()},inputMoveAdjacent:function(e,t,i){_i_("4ab:e7adcbb3");var a,n,s=e.target,o=this.$inputs.length,r=h.getPosition(s),_=0,l=this.$inputs.filter(s).index(),d=o-1;i=i||{};if(0<t&&(_=s.value.length,d=0),i.automatic&&l==o-1)return _r_();if(!i.force&&h.getSelectionLength(s))return _r_();(i.force||r==_)&&(((l+=t)<0||o-1<l)&&(l=d),a=this.$inputs.get(l),i.automatic&&a.value.length?a.select():(n=0<t?0:a.value.length,h.setPosition(a,n),i.backspace||e.preventDefault())),_r_()},inputKeyPress:function(e){_i_("4ab:0c3eb8b9"),e.keyCode&&n.isNavigation(e.keyCode)||!(e.which<48||57<e.which)||(this.inputMoveAdjacent(e,1,{automatic:!0,force:!0}),e.preventDefault()),_r_()},startEditing:function(){_i_("4ab:63355040"),setTimeout(function(){_i_("4ab:98e6ffec"),this.model.dates.startEditing(),_r_()}.bind(this)),this.render(),_r_()},setDateFragment:function(e,t){_i_("4ab:f17b1283"),t=""===t?null:+t,"month"===e&&null!==t&&(t-=1),this.model.dates.setEditingFragment(this.options.modelMode,e,t),_r_()},adjustDateFragment:function(e,t,i){_i_("4ab:d7ec0590"),t=""===t?0:+t,"month"===e&&(t-=1),this.model.dates.adjustEditingFragment(this.options.modelMode,e,t,i),_r_()},apply:function(){_i_("4ab:5697e3f5"),this.model.dates.applyEditing(this.options.modelMode),_r_()},render:function(){_i_("4ab:8d02f233");var e=this.$field.hasClass("-editing"),t=this.model.dates.get(),i=this.$inputYear.val(),a=this.$inputMonth.val(),n=this.$inputDay.val(),s=t[this.options.modelMode],o=t["editing_"+this.options.modelMode]||{},r=o.year,_=o.month,l=o.day,d="date_with_weekday";i=""===i?null:+i,a=""===a?null:+a,n=""===n?null:+n,r="number"==typeof r?r:null,_="number"==typeof _?_+1:null,l="number"==typeof l?l:null,e!=this.state.editing&&(e=this.state.editing,this.$field.toggleClass("-editing",e)),i!==r&&(this.$inputYear.val(r),"year"===this.state.currentField&&this.$inputYear.select()),a!==_&&(this.$inputMonth.val(_),"month"===this.state.currentField&&this.$inputMonth.select()),n!==l&&(this.$inputDay.val(l),"day"===this.state.currentField&&this.$inputDay.select()),e||s||(this.$field.addClass("-empty"),this.$display.html(this.$display.attr("data-placeholder")),this.$iconDay.html(this.$iconDay.attr("data-placeholder"))),!e&&s&&(this.$field.removeClass("-empty"),d=this.$display.data("date-format")||d,this.$display.html(c.format(s,d)),this.$iconDay.html(c.format(s,"{day_of_month}"))),_r_()},updateFocusClass:function(){_i_("4ab:2f80354a"),setTimeout(function(){_i_("4ab:91b5f950");var e=this.$el.parent(),t=this.state.editing,i=!e.hasClass("c2-wrapper-s-hidden");t||i?this.$el.addClass("-focus"):this.$el.removeClass("-focus"),_r_()}.bind(this),100),_r_()}}),_r_()}),B.define("search/dates/util",function(e,t,i){_i_("4ab:f21d06d7"),i.exports={formatDate:function(e){_i_("4ab:3326735c");var t=new Date(e),i=""+(t.getMonth()+1),a=""+t.getDate(),n=t.getFullYear();return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),_r_([n,i,a].join("-"))},addDay:function(e){_i_("4ab:41edee44");var t=new Date(e);return t.setDate(t.getDate()+1),_r_(t)},substractDay:function(e){_i_("4ab:13bbe474");var t=new Date(e);return t.setDate(t.getDate()-1),_r_(t)},daysBetween:function(e,t){_i_("4ab:3af11de9"),e=new Date(e),t=new Date(t);var i=e.getTime(),a=t.getTime(),n=Math.abs(i-a);return _r_(Math.round(n/864e5))}},_r_()}),B.define("component/search/dates/dates-errors",function(e,t,i){"use strict";_i_("4ab:7d6a11b5");var a=e("component"),n=e("jstmpl"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=a.extend({init:function(){_i_("4ab:79968b04"),this.options=s(this.el,{modelId:{name:"sb-id",type:String,required:!0},sbFacelift:{name:"sb-facelift",type:Number},sbNoDatesMessage:{name:"sb-no-dates-message",type:Boolean}}),this.model=o.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("validation",this.modelValidation.bind(this)),this.template=n("fe_search_dates_errors"),_r_()},modelValidation:function(e){if(_i_("4ab:f33c3697"),"dates"!==e.group)return _r_();var t=s(this.el,{viewId:{name:"view-id",type:String,defaultValue:""}});e.valid?this.$el.html(""):this.$el.html(this.template.render({fe_error:e.validationError,fe_new:!0,fe_view:t.viewId,fe_sb_facelift:this.options.sbFacelift,fe_use_dynamic_copy:B.env.BHDTJdReLGMeEcYPffcVDZBZMO,fe_max_los:this.model.dates.getOption("maxLos"),fe_sb_no_dates_message:this.options.sbNoDatesMessage})),_r_()}}),_r_()}),booking.jstmpl("search_dates_length_of_stay",function(){_i_("4ab:d32728b5");var n,s=["\n\t\t","\n\n","\n\n    ","\n        ","\n    ",'\n\n    <div\n      class="sb-dates__los\n      '," sb-dates__los--bold\n      ",'\n      ">\n\n      \n      ','\n          <i class="bicon bicon-halfmoon sb_dates__los__icon"></i>\n          <span class="sb-dates__los__text">\n      ',"\n\n        ","\n          ","/private/bh_sbox_general_dates_num_weeks/name","/private/bh_gf_sbox_general_dates_num_nights_1/name","/private/sbox_general_dates_num_nights_1/name","\n      ","\n         </span>\n      ","\n    </div>\n",'\n    <div class="sb-dates--los-placeholder"></div>\n',"\n"],o=["b_action","fe_sb_los_bold","fe_sb_state_length_of_stay_in_weeks","fe_sb_state_length_of_stay","fe_is_family","b_search_config"];return _r_(function(e){_i_("4ab:efd0f5b9");var t,i="",a=this.fn;return i+=s[0],t=i,_i_("4ab:d8cbdf90"),t+=s[1],a.MJ(a.MB(o[3]))?(t+=s[2],a.MJ(a.MB(o[1])+""=="")&&(t+=s[3],a.MN("fe_sb_los_bold",a.MJ(a.MC(o[0])+""=="hotel")&&a.track_experiment("AEJPOTIKSBOEQC")),t+=s[4]),t+=s[5],a.MD(o[1])&&(t+=s[6]),t+=s[7],a.MD(o[1])&&(t+=s[8]),t+=s[9],a.MD(o[2])?t+=[s[10],(e.unshift({num_weeks:a.MB(o[2])}),n=a.ME(s[11],a.MB,a.MN,a.MO(a.MC(o[2]),null,s[11])),e.shift(),n),s[3]].join(""):a.MJ(a.MB(o[4]))||a.MJ(a.MC(o[5]))&&a.MJ(a.MC(o[5]).b_children_total)?t+=[s[10],(e.unshift({num_nights:a.MB(o[3])}),n=a.ME(s[12],a.MB,a.MN,a.MO(a.MC(o[3]),null,s[12])),e.shift(),n),s[3]].join(""):t+=[s[10],(e.unshift({num_nights:a.MB(o[3])}),n=a.ME(s[13],a.MB,a.MN,a.MO(a.MC(o[3]),null,s[13])),e.shift(),n),s[3]].join(""),t+=s[14],a.MD(o[1])&&(t+=s[15]),t+=s[16]):t+=s[17],t+=s[18],i=_r_(t),i+=s[4],_r_(i)})}()),B.define("component/search/dates/length-of-stay",function(e,t,i){_i_("4ab:8d6a1489");var a=e("calendar-base").Calendar,n=e("component"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=n.extend({init:function(){_i_("4ab:f03f89b9"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},isAvailability:{name:"is-availability",type:Boolean}}),this.model=o.getInstance(this.options.modelId),this.model.use("dates"),this.model.use("group"),this.model.on("change",this.modelChange.bind(this)),this.state={},"hotel"===B.env.b_action&&B.et.track("AEJPOTIKSBOEQC")&&(this.state.fe_sb_los_bold=1),this.template=B.jstmpl("search_dates_length_of_stay"),_r_()},modelChange:function(e){if(_i_("4ab:62afab30"),!e||"dates"!=e.group&&"group"!=e.group)return _r_();this.render(),_r_()},render:function(){_i_("4ab:d8f5d444");var e=this.model.dates.get(),t=this.model.group.get();this.state.fe_is_family=t.children_ages&&0<t.children_ages.length?1:0,this.state.fe_is_availability=this.options.isAvailability,this.state.fe_sb_state_length_of_stay=!e.editing&&e.checkin&&e.checkout&&0<a.diff(e.checkout,e.checkin)?a.interval(e.checkin,e.checkout)-1:"";var i=this.state.fe_sb_state_length_of_stay;this.state.fe_sb_state_length_of_stay_in_weeks=i&&7<=i&&!(i%7)?i/7:0,this.$el.html(this.template.render(this.state)),_r_()}}),_r_()}),B.define("search/dates/model",function(e,t,i){"use strict";_i_("4ab:587afbcd");var _=e("calendar-base").Calendar,l=e("search/modules/search-date").SearchDate,a=e("server-data"),n=B.env.b_timestamp,s=B.env.sunday_first,o=B.env.b_search_max_months||13,r=a.b_max_los_data_for_prefilled_dest||{};function d(e){_i_("4ab:844b22c3"),this._model=e,this._data={initialized:!1,checkin:null,checkinTime:null,checkout:null,checkoutTime:null,firstValidDay:null,lastValidDay:null,editing:!1,editing_checkin:null,editing_checkout:null,length_of_stay:null,week_start:s?0:1,extendedDate:null,longTermFlexibleDate:null},this._valid=!0,this._validationError="",this._options={maxLos:r.max_allowed_los||30,maxMonths:o,syncLegacy:!B.env.fe_xpi_no_legacy_sync,allowZeroLos:!1};var t=new Date(1e3*(n-39600));this._data.firstValidDay=l.create({year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate()}),this._data.lastValidDay=l.createFlexible({year:t.getUTCFullYear(),month:t.getUTCMonth()+this._options.maxMonths,day:0}),this._data.firstValidCheckoutDay=l.create({year:t.getUTCFullYear(),month:t.getUTCMonth(),day:t.getUTCDate()+1}),this._options.syncLegacy&&(this.boundLegacyDateChange=this.legacyDateChange.bind(this),B.eventEmitter.on(B.Search.Events.DATE_CHANGED,this.boundLegacyDateChange)),_r_()}$.extend(d.prototype,{init:function(e){_i_("4ab:bef83fce");var t=l.create(e.checkin),i=l.create(e.checkout);this.validateDate("checkin",t).valid&&this.validateDate("checkout",i,{checkin:t}).valid&&(this.setDate("checkin",t,{init:!0}),this.setDate("checkout",i,{init:!0}),this.emit("init")),_r_()},configure:function(e,t){_i_("4ab:2e70fbcb");var i=this._options.maxMonths,a=this._options.syncLegacy;void 0!==t?this._options[e]=t:"object"==typeof e&&$.extend(this._options,e),i!=this._options.maxMonths&&(this._data.lastValidDay=l.createFlexible({year:this._data.firstValidDay.year,month:this._data.firstValidDay.month+this._options.maxMonths,day:0})),a!==this._options.syncLegacy&&B.eventEmitter[this._options.syncLegacy?"on":"off"](B.Search.Events.DATE_CHANGED,this.boundLegacyDateChange),_r_()},getOption:function(e){return _i_("4ab:e91d2a9f"),_r_(this._options[e])},get:function(){return _i_("4ab:1a04a75e"),_r_(this._data)},getValidationError:function(){return _i_("4ab:9f837e6c"),_r_(this._validationError)},initDate:function(e,t,i){_i_("4ab:81301438");var a=!((i=i||{}).init=!0);if(this._data.initialized)return _r_(!1);return t&&(a=this.setDate(e,t,i)),this._data[e+"Time"]={hours:10,minutes:0},this["initialized"+e]=!0,this.initializedcheckin&&this.initializedcheckout&&(this.emit("init"),this._data.initialized=!0),_r_(a)},setDate:function(e,t,i){var a,n,s;_i_("4ab:37e4004b"),i=i||{};var o={type:e};if(t=l.create(t),!this._options.noValidation&&!this.validateDate(e,t,{loose:!0}).valid)return _r_(!1);if("checkin"==e)this._data.checkin=t,n=!0,l.compare(this._data.checkin,this._data.firstValidDay)<0&&(this._data.checkin=l.create(this._data.firstValidDay)),0<l.compare(this._data.checkin,this._data.lastValidDay)&&(this._data.checkin=l.createFlexible({year:this._data.lastValidDay.year,month:this._data.lastValidDay.month,day:this._data.lastValidDay.day-1})),this._data.checkout?(a=_.diff(this._data.checkout,t))<=0?(this._data.checkout=l.createFlexible({year:t.year,month:t.month,day:t.day+1}),s=!0):!this._options.allowMaxLos&&a>this._options.maxLos&&(this._data.checkout=l.createFlexible({year:t.year,month:t.month,day:t.day+this._options.maxLos}),s=!0):(this._data.checkout=l.createFlexible({year:t.year,month:t.month,day:t.day+1}),s=!0);else{if("checkout"!=e)return _r_(!1);var r;this._data.checkout=t,s=!0,0<l.compare(this._data.checkout,this._data.lastValidDay)&&(this._data.checkout=l.create(this._data.lastValidDay)),0==l.compare(this._data.checkout,this._data.firstValidDay)&&(r=this._options.allowZeroLos?0:1,this._data.checkin=l.create(this._data.firstValidDay),this._data.checkout=l.createFlexible({year:this._data.firstValidDay.year,month:this._data.firstValidDay.month,day:this._data.firstValidDay.day+r}),s=!0),this._data.checkin&&(a=_.diff(t,this._data.checkin))<=0&&(this._data.checkin=null),this._data.checkin||(r=this._options.allowZeroLos?0:1,this._data.checkin=l.createFlexible({year:t.year,month:t.month,day:t.day-r}),n=!0)}return n&&(this._options.syncLegacy&&B.search.setDate_("checkin",this._data.checkin.toString(),{referrer:"search/dates/model"}),this._data.editing_checkin=this._data.checkin,o.checkin=!0),s&&(this._options.syncLegacy&&B.search.setDate_("checkout",this._data.checkout.toString(),{referrer:"search/dates/model"}),this._data.editing_checkout=this._data.checkout,o.checkout=!0),(n||s)&&(this._data.length_of_stay=this._data.checkin&&this._data.checkout&&_.interval(this._data.checkin,this._data.checkout)-1),this._data.editing=!1,i.init||this.emit("change",o),_r_(!0)},startEditing:function(){if(_i_("4ab:f6cec567"),this._data.editing)return _r_();this._data.editing=!0,this.emit("change",{editing:!0}),_r_()},setEditingFragment:function(e,t,i){if(_i_("4ab:156acdc4"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");if("day"!==t&&"month"!==t&&"year"!==t)throw new TypeError("invalid fragment");if("number"!=typeof i&&null!==i)throw new TypeError("invalid value");var a=this._data["editing_"+e]||{},n={year:a.year,month:a.month,day:a.day},s={editing:!0};return n[t]=i,this._data.editing=!0,this._data["editing_"+e]=l.create(n),s[e]=!0,this.emit("change",s),_r_(!0)},adjustEditingFragment:function(e,t,i,a){if(_i_("4ab:080bf90d"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");if("day"!==t&&"month"!==t&&"year"!==t)throw new TypeError("invalid fragment");var n=1,s=i+a;return"month"==t?n=0:"year"==t&&(n=this._data.firstValidDay.year),s<n&&(s=n),_r_(this.setEditingFragment(e,t,s))},applyEditing:function(e){if(_i_("4ab:bce3aab4"),"checkin"!==e&&"checkout"!==e)throw new TypeError("invalid type");return this._data["editing_"+e].complete?_r_(this.setDate(e,this._data["editing_"+e])):(this.clearDates(),_r_(!0))},clearDates:function(){_i_("4ab:f4728cb2"),this._data.checkin=null,this._data.checkout=null,this._data.editing=!1,this._data.editing_checkin=null,this._data.editing_checkout=null,this._data.length_of_stay=null,this._options.syncLegacy&&(B.search.setDate_("checkin","",{referrer:"search/dates/model"}),B.search.setDate_("checkout","",{referrer:"search/dates/model"})),this.emit("change",{checkin:!0,checkout:!0}),_r_()},validate:function(e){_i_("4ab:824801f5"),e=e||{};var t,i=!0,a="";(!i||!e.notEmpty||this._data.checkin&&this._data.checkout||(i=!1,a="missing-dates"),i&&!this._data.checkin&&this._data.checkout&&(i=!1,a="missing-checkin"),i&&this._data.checkin&&!this._data.checkout&&(i=!1,a="missing-checkout"),i&&this._data.checkin)&&((t=this.validateDate("checkin",this._data.checkin)).valid||(i=t.valid,a=t.validationError));i&&this._data.checkout&&((t=this.validateDate("checkout",this._data.checkout)).valid||(i=t.valid,a=t.validationError));if(i&&e.validateTime){var n=new Date(1e3*B.env.b_timestamp),s=n.getUTCDate(),o=n.getUTCMonth(),r=n.getUTCFullYear(),_=n.getHours()+2;(!this._data.checkin||this._data.checkin.year===r&&this._data.checkin.month===o&&this._data.checkin.day==s)&&this._data.checkinTime<=_&&(i=!1,a="past-time")}return(e.force||!e.checkOnly&&this._valid!=i)&&(this._valid=i,this._validationError=a,this.emit("validation",{valid:i,validationError:a})),_r_(i)},validateDate:function(e,t,i){_i_("4ab:06814dd1"),(i=i||{}).checkin=i.checkin||this._data.checkin;var a=null;if(!e||"checkin"!=e&&"checkout"!=e)return _r_({valid:!1,validationError:"invalid-data"});if(!t||void 0===t.year||void 0===t.month||void 0===t.day||isNaN(t.year)||isNaN(t.month)||isNaN(t.day))return _r_({valid:!1,validationError:"invalid-data"});if("checkin"==e&&l.compare(t,this._data.firstValidDay)<0||"checkout"==e&&0==l.compare(t,this._data.firstValidDay))return _r_({valid:!1,validationError:"past"});if("checkout"==e&&i.checkin&&(a=_.diff(t,i.checkin)),null!==a){if(0==a&&!this._options.allowZeroLos)return _r_({valid:!1,validationError:"more-than-one-day"});if(a<0)return _r_({valid:!1,validationError:"negative-period"});if(this.emit("validation:lengthOfStay",{lengthOfStay:a,maxLengthOfStay:this._options.maxLos}),a>this._options.maxLos)return _r_({valid:!1,validationError:"exceeds-max-los"})}return _r_({valid:!0,validationError:""})},legacyDateChange:function(e,t){var i,a;if(_i_("4ab:98f43f37"),"search/dates/model"==t.referrer)return _r_();i="checkin"==t.type?"checkin":"checkout",a=l.createFromString(t.value.toString()),this.setDate(i,a),_r_()},emit:function(e,t){_i_("4ab:c019a7c4"),t=t||{},this._model.emit(e,$.extend(t,{group:"dates"})),_r_()},getFallbackDates:function(e){var t,i;return _i_("4ab:7009f80e"),(i="checkin"===e?B.env.b_checkin_date:B.env.b_checkout_date)&&(i=i.split("-"),t={year:parseInt(i[2],10),month:parseInt(i[1],10),day:parseInt(i[0],10)}),_r_(t||{})},setExtendedDate:function(e){_i_("4ab:d589e1c7"),this._data.extendedDate=e,this.emit("change",{extendeDate:e}),_r_()},setLongTermFlexibleDate:function(e){_i_("4ab:8e8bc398"),this._data.longTermFlexibleDate=e,this.emit("change",{longTermFlexibleDate:e}),_r_()}}),i.exports=d,_r_()}),booking.jstmpl("fe_search_dates_errors",function(){_i_("4ab:3a3d4b11");var n,s=["\n\t","\n\n\t\t","\n\t\t\t","\n\t\t\t\t","/error/checkout_date_invalid/name","/error/checkin_date_invalid/name","/private/sbox_error_checkin_future/name","/error/checkin_date_to_far_in_the_future/name","/private/sbox_error_checkout_after/name","\n\t\t    \n\t\t\t\n\t\t\t","/private/sbox_error_45_night_res/name","\n\t\t\t\n\t\t\t","/private/sbox_error_30_night_res/name","\n                ","\n                    ","/private/sbox_error_num_night_res/name","/private/lp_hp_no_dates_selected_error/name","\n\t\t","\n\t\t\t\t\t","/private/iq_sbox_error_flights_return_date_invalid/name","/private/iq_sbox_error_flights_departure_date_invalid/name","/private/iq_sbox_error_dates/name","/private/iq_sbox_error_flights_departure_date_too_far_future/name","/private/iq_sbox_error_flights_return_after_departure/name","/private/iq_sbox_error_cars_arrival_date_invalid/name","/private/iq_sbox_error_cars_departure_date_invalid/name","/private/iq_sbox_error_cars_departure_date_too_far_future/name","/private/iq_sbox_error_cars_arrival_after_departure/name","/private/iq_sbox_error_cars_1_hour_future/name",'\n\t\t\t<div class="bui-alert bui-u-bleed@small bui-alert--error" role="status">\n\t\t\t\t<span class="bui-alert__icon">\n\t\t\t\t\t',"","20","streamline/warning",'\n\t\t\t\t</span>\n\t\t\t\t<div class="bui-alert__description">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t","\n\n\n\n\n\n\n","\n\n    ","\n        ","data-",'="','"',"\n    "," data-",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__"," ","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','id="','" ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message"> '," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ',"\n","\n\n\n\n","\n\n","0","red"],o=["fe_error_message","fe_error","s_raw_param_errorc_checkout_date_invalid","s_raw_param_errorc_checkin_date_invalid","s_raw_param_errorc_checkin_date_in_the_past","s_raw_param_errorc_checkin_date_to_far_in_the_future","s_raw_param_errorc_checkout_date_not_after_checkin_date","fe_use_dynamic_copy","fe_max_los","s_raw_param_errorc_checkout_date_more_than_30_days_after_checkin","b_max_los_data","fe_max_number_of_nights_error_message","fe_sb_no_dates_message","fe_view","fe_sb_facelift","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__btn_include","fe_banner__title_text","fe_banner__message_text","fe_banner__banners_count"];return _r_(function(i){_i_("4ab:0e932193");var e="",a=this.fn;return e=function(e){if(_i_("4ab:14c12523"),a.MJ(a.MB(o[1]))||a.MJ(a.MC(o[2]))||a.MJ(a.MC(o[3]))||a.MJ(a.MC(o[4]))||a.MJ(a.MC(o[5]))||a.MJ(a.MC(o[6]))||a.MJ(a.MC(o[9]))){e+=s[1];var t="";t+=s[2],a.MJ(a.MB(o[1])+""=="missing-checkout")||a.MJ(a.MC(o[2]))?t+=[s[3],a.ME(s[4],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[1])+""=="missing-checkin")||a.MJ(a.MC(o[3]))?t+=[s[3],a.ME(s[5],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[1])+""=="past")||a.MJ(a.MC(o[4]))?t+=[s[3],a.ME(s[6],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[1])+""=="checkin_date_to_far_in_the_future")||a.MJ(a.MC(o[5]))?t+=[s[3],a.ME(s[7],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[1])+""=="negative-period")||a.MJ(a.MC(o[6]))?t+=[s[3],a.ME(s[8],a.MB,a.MN,null),s[9]].join(""):a.MK(a.MB(o[7]))&&a.MJ(a.MB(o[1])+""=="exceeds-max-los")&&a.MJ(45==a.MB(o[8]))?t+=[s[3],a.ME(s[10],a.MB,a.MN,null),s[11]].join(""):a.MK(a.MB(o[7]))&&(a.MJ(a.MB(o[1])+""=="exceeds-max-los")||a.MJ(a.MC(o[9])))?t+=[s[3],a.ME(s[12],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[7]))&&(a.MJ(a.MB(o[1])+""=="exceeds-max-los")||a.MJ(a.MC(o[9])))?(t+=s[13],a.MN("fe_max_number_of_nights_error_message",0),t+=s[13],a.MD(o[8])?(t+=s[14],a.MN("fe_max_number_of_nights_error_message",a.MB(o[8])),t+=s[13]):a.MJ(a.MC(o[9]))&&a.MJ(a.MC(o[10]))&&a.MJ(a.MC(o[10]).max_allowed_los)&&(t+=s[14],a.MN("fe_max_number_of_nights_error_message",a.MG((a.MC(o[10])||{}).max_allowed_los)),t+=s[13]),t+=[s[13],(i.unshift({num:a.MB(o[11])}),n=a.ME(s[15],a.MB,a.MN,a.MO(a.MC(o[11]),null,s[15])),i.shift(),n),s[2]].join("")):a.MJ(a.MB(o[1])+""=="missing-dates")&&a.MJ(a.MB(o[12]))?t+=[s[3],a.ME(s[16],a.MB,a.MN,null),s[2]].join(""):a.MJ(a.MB(o[1]))&&(t+=[s[3],a.ME(s[5],a.MB,a.MN,null),s[2]].join("")),t+=s[17],a.MN(o[0],t),e+=s[1],a.MJ(a.MB(o[13])+""=="flights")&&(e+=s[2],t="",t+=s[3],a.MJ(a.MB(o[1])+""=="missing-checkout")?t+=[s[18],a.ME(s[19],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="missing-checkin")?t+=[s[18],a.ME(s[20],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="past")?t+=[s[18],a.ME(s[21],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="checkin_date_to_far_in_the_future")?t+=[s[18],a.ME(s[22],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="negative-period")?t+=[s[18],a.ME(s[23],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="missing-dates")?t+=[s[18],a.ME(s[20],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1]))&&(t+=[s[18],a.ME(s[20],a.MB,a.MN,null),s[3]].join("")),t+=s[2],a.MN(o[0],t),e+=s[17]),e+=s[1],a.MJ(a.MB(o[13])+""=="rentalcars")&&(e+=s[2],t="",t+=s[3],a.MJ(a.MB(o[1])+""=="missing-checkout")?t+=[s[18],a.ME(s[24],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="missing-checkin")?t+=[s[18],a.ME(s[25],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="past")?t+=[s[18],a.ME(s[21],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="checkin_date_to_far_in_the_future")?t+=[s[18],a.ME(s[26],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="negative-period")?t+=[s[3],a.ME(s[27],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="missing-dates")?t+=[s[18],a.ME(s[25],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1])+""=="past-time")?t+=[s[18],a.ME(s[28],a.MB,a.MN,null),s[3]].join(""):a.MJ(a.MB(o[1]))&&(t+=[s[18],a.ME(s[25],a.MB,a.MN,null),s[3]].join("")),t+=s[2],a.MN(o[0],t),e+=s[17]),e+=s[1],a.MD(o[14])?e+=[s[29],(i.unshift({class:s[30],height:s[31],name:s[32],width:s[31]}),n=a.HELPER("icon",i[0]),i.shift(),n),s[33],a.MC(o[0]),s[34]].join(""):(e+=s[2],i.unshift({fe_banner__close_button:s[77],fe_banner__color_scheme:s[78],fe_banner__message_text:a.MB(o[0])}),e=function(e){if(_i_("4ab:25afd159"),e+=["",s[35]].join(""),a.MD(o[42])){e+=s[36],a.MD(o[16])&&(e+=s[37],a.MN(o[15],[s[38],a.MB(o[16]),s[39],a.MB(o[17]),s[40]].join("")),e+=s[41]),e+=s[36],a.MD(o[18])&&(e+=s[37],a.MN(o[15],[a.MB(o[15]),s[42],a.MB(o[18]),s[39],a.MB(o[19]),s[40]].join("")),e+=s[41]),e+=s[36],a.MD(o[20])&&(e+=s[37],a.MN(o[15],[a.MB(o[15]),s[42],a.MB(o[20]),s[39],a.MB(o[21]),s[40]].join("")),e+=s[41]),e+=s[36],a.MD(o[22])&&(e+=s[37],a.MN(o[15],[a.MB(o[15]),s[42],a.MB(o[22]),s[39],a.MB(o[23]),s[40]].join("")),e+=s[41]),e+=s[36],a.MD(o[24])&&(e+=s[37],a.MN(o[15],[a.MB(o[15]),s[42],a.MB(o[24]),s[39],a.MB(o[25]),s[40]].join("")),e+=s[41]),e+=s[36],a.MD(o[26])&&(e+=s[43]),e+=s[44];var t=a.MB(o[27]);a.MJ(t+""=="small")&&(e+=s[45]),(a.MJ(a.MB(o[28]))||a.MJ(a.MB(o[29]))||a.MJ(a.MB(o[30])))&&(e+=s[46]),a.MD(o[31])&&(e+=s[47]),a.MJ(a.MB(o[32]))&&(e+=[s[48],a.F.entities(a.MC(o[32])),a.F.entities(a.MC(o[33])),s[49]].join("")),a.MJ(a.MB(o[28]))&&a.MJ(a.MB(o[34]))&&(e+=[s[50],a.F.entities(a.MC(o[34])),s[49]].join("")),(a.MJ(a.MC(o[35])+""=="book")||a.MJ(a.MC(o[35])+""=="tpi_book"))&&(e+=s[51]),e+=[a.F.entities(a.MC(o[36])),s[52]].join(""),a.MD(o[37])&&(e+=[s[53],a.F.entities(a.MC(o[37])),s[54]].join("")),a.MD(o[15])&&(e+=[a.MC(o[15]),s[49]].join("")),a.MD(o[38])&&(e+=s[55]),e+=s[56],a.MD(o[28])?e+=[s[57],a.F.entities(a.MC(o[28])),s[58]].join(""):a.MD(o[29])?e+=[s[59],a.F.entities(a.MC(o[29])),s[60]].join(""):a.MD(o[30])&&(e+=s[61],a.MD(o[39])?e+=a.F.entities(a.MC(o[39])):e+=s[62],e+=[s[60],a.MC(o[30]),s[63]].join("")),a.MD(o[40])&&(e+=s[64]),a.MD(o[41])&&(e+=[s[65],a.MC(o[41]),s[66]].join("")),a.MD(o[42])&&(e+=[s[67],a.MC(o[42]),s[68]].join("")),a.MD(o[40])&&(e+=[s[69],a.MC(o[40]),s[68]].join("")),a.MD(o[40])&&(e+=s[70]),a.MD(o[31])&&(e+=[s[71],a.ME(s[72],a.MB,a.MN,null),s[73]].join("")),e+=s[70],a.MD(o[26])&&(e+=s[70]),e+=s[74]}return e+=s[75],a.MN(o[32],void 0),e+=s[74],a.MN(o[28],void 0),e+=s[74],a.MN(o[29],void 0),e+=s[74],a.MN(o[30],void 0),e+=s[74],a.MN(o[34],void 0),e+=s[74],a.MN(o[41],void 0),e+=s[74],a.MN(o[42],void 0),e+=s[74],a.MN(o[40],void 0),e+=s[74],a.MN(o[31],void 0),e+=s[74],a.MN(o[37],void 0),e+=s[74],a.MN(o[36],void 0),e+=s[74],a.MN(o[27],void 0),e+=s[76],a.MN(o[16],void 0),e+=s[74],a.MN(o[17],void 0),e+=s[74],a.MN(o[18],void 0),e+=s[74],a.MN(o[19],void 0),e+=s[74],a.MN(o[20],void 0),e+=s[74],a.MN(o[21],void 0),e+=s[74],a.MN(o[22],void 0),e+=s[74],a.MN(o[23],void 0),e+=s[74],a.MN(o[24],void 0),e+=s[74],a.MN(o[25],void 0),e+=s[76],a.MN(o[33],void 0),e+=s[76],a.MN(o[15],void 0),e+=s[74],a.MN("fe_banner__banners_count",a.MI(a.MB(o[43]))+a.MI(1)),e+=s[76],a.MJ(a.MC(o[35])+""=="book")&&a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=s[74]:a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=s[74]),e+=[s[76],"",s[74]].join(""),_r_(e)}(e),i.shift(),e+=s[17]),e+=s[76]}return e+=s[74],_r_(e)}(e+=s[0]),e+=s[74],_r_(e)})}()),B.define("component/search/destination/country-only",function(e,t,i){"use strict";_i_("4ab:aebf70e1");var a=e("component"),n=e("search/searchbox/model"),s=e("read-data-options");i.exports=a.extend({init:function(){_i_("4ab:b3871297"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0}}),this.model=n.getInstance(this.options.modelId),this.model.use("destination"),this.model.on("change",this.modelChange.bind(this)),this.$onlyCurrentCountry=this.$el.find("[data-input]"),this.$onlyCurrentCountry.bind("change",this.onlyCurrentCountryChange.bind(this)),this.modelInit(),_r_()},modelInit:function(){_i_("4ab:e2255259");var e=this.$onlyCurrentCountry.is(":checked");this.model.destination.initOnlyCurrentCountry(e),_r_()},modelChange:function(e){if(_i_("4ab:9b8a0610"),!e||!e.onlyCurrentCountry)return _r_();var t=this.$onlyCurrentCountry.is(":checked"),i=this.model.destination.getOnlyCurrentCountry();t!=i&&this.$onlyCurrentCountry.prop("checked",i),_r_()},onlyCurrentCountryChange:function(){_i_("4ab:f25dc638"),this.model.destination.setOnlyCurrentCountry(this.$onlyCurrentCountry.is(":checked")),_r_()}}),_r_()}),B.define("component/search/group/group",function(t,e,i){_i_("4ab:5801d550"),booking.jstmpl("search_group_group_html",function(){_i_("4ab:edc4b85c");var p,m=["\n\t\t","\n\n\n\n\n","\n"," \n\n\n\n","\n    ",'\n        <div class="sb-searchbox-children-tooltip">\n            <span class="fly-dropdown-close fly-dropdown-close-icon"></span>\n            <h4 class="sb-searchbox-children-tooltip__title">',"/private/gs_index_model_header_family/name",'</h4>\n            <p class="sb-searchbox-children-tooltip__text">',"/private/gs_index_model_desc_family/name","</p>\n        </div>\n    ","\n\n\n\n",'\n        <div>\n            <span class="fly-dropdown-close fly-dropdown-close-icon"></span>\n            <p>',"/private/bh_mup_sr_sb_obp_tooltip_right_price/name","\n\n\n","\n\n",'\n\n\n\n<div class="u-clearfix" data-render>\n  ','\n    <div class="sb-custom-wrapper">\n  ',"\n\n  ","\n      ","\n        ","\n  ",'\n    <div class="sb-group__field sb-group__field-rooms">\n      ',"/private/sbox_rooms/name",'\n  <div class="bui-stepper" data-bui-component="InputStepper">\n    <div class="bui-stepper__title-wrapper">\n      <label class="bui-stepper__title" for="','">',"</label>\n      ",'\n        <span class="bui-stepper__subtitle">',"</span>\n      ","\n    </div>\n    ",'\n      <div class="bui-stepper__wrapper sb-group__stepper-a11y">\n        <input\n          style="display: none"\n          type="number"\n          class="bui-stepper__input"\n          data-bui-ref="input-stepper-field"\n          id="','"\n          name="','"\n          min="','"\n          max="','"\n          value="','"\n          ',' \n        />\n        <button\n          class="bui-button bui-button--secondary bui-stepper__subtract-button ',"sb-group__stepper-button-disabled",'"\n          data-bui-ref="input-stepper-subtract-button"\n          type="button"\n          aria-label="',"/private/a11y_sb_decrease_button_aria/name",'"\n          aria-describedby="','_desc"\n        >\n          <span class="bui-button__text">&minus;</span>\n        </button>\n        <span class="bui-stepper__display" data-bui-ref="input-stepper-value" aria-hidden="true">','</span>\n        <button \n          class="bui-button bui-button--secondary bui-stepper__add-button ','"\n          data-bui-ref="input-stepper-add-button"\n          type="button"\n          aria-label="',"/private/a11y_sb_increase_button_aria/name",'_desc"\n        >\n          <span class="bui-button__text">+</span>\n        </button>\n        <span class="bui-u-sr-only" aria-live="assertive" id="','_desc">'," ","</span>\n      </div>\n    ",'\n\n    <div class="bui-stepper__wrapper">\n      <input type="range" class="bui-stepper__input" data-bui-ref="input-stepper-field" id="','" name="','" min="','" max="','" value="','" ',' />\n      <button class="bui-button bui-button--secondary bui-stepper__subtract-button" data-bui-ref="input-stepper-subtract-button" type="button" aria-hidden="true" ',"disabled",'>\n        <span class="bui-button__text">-</span>\n      </button>\n      <span class="bui-stepper__display" data-bui-ref="input-stepper-value" aria-hidden="true">','</span>\n      <button class="bui-button bui-button--secondary bui-stepper__add-button" data-bui-ref="input-stepper-add-button" type="button" aria-hidden="true" ','>\n        <span class="bui-button__text">+</span>\n      </button>\n    </div>\n\n    ',"\n  </div>\n","data-group-rooms-count","no_rooms","1","\n    </div>\n  ",'\n          <label class="sb-searchbox__label sb-group__field__label ',"-inline"," -small ",'"\n             ','\n                for="no_rooms_','"\n              ','\n               for="no_rooms"\n              ',"\n          >\n              ","\n          </label>\n      ",'<div class="sb-custom-select">','\n    <select name="no_rooms"\n        ','\n            id="no_rooms_','"\n            class="no_rooms"\n        ','\n            id="no_rooms"\n        ','\n        data-group-rooms-count\n        aria-label="',"/private/index_sbox_rooms_aria/name",'"\n    >\n        ','\n            <option value="','selected="selected"',">\n                ","/private/search_box_room_filter/name","\n            </option>\n        ","\n    </select>\n    ","bui-input-select__icon","streamline/arrow_menu","16","\n\n    ","</div>",'\n    <input type="hidden" name="no_rooms" value="','">\n  ',"\n\n\n  ",'\n    <div class="sb-group__field sb-group__field-adults">\n      ',"/private/sbox_adults/name","\n          ","/private/pex_flights_search_traveller_adult_age/name","data-group-adults-count","group_adults",'\n        <label class="sb-searchbox__label sb-group__field__label ',"group_children",'"\n           ','\n              for="group_adults_','"\n            ','\n             for="group_adults"\n            ',"\n         >\n          ","/private/bbt_searchbox_travellers/name","\n        </label>\n        ",'\n  <select\n    name="group_adults"\n    aria-label="',"/private/index_sbox_adults_aria/name",'"\n    ','\n       id="group_adults_','"\n       class="group_adults"\n    ','\n       id="group_adults"\n    ',"\n    data-group-adults-count\n    ",'\n        data-component="search/group/occupancy-pricing-tooltip"\n        data-occupancy-pricing-tooltip="',"\n   >\n    ",'\n      <option value="',">\n        ","/private/search_box_adults_filter/name","\n      </option>\n    ","\n  </select>\n  ",'\n    <input type="hidden" name="group_adults" value="','\n      <div class="sb-group__field sb-group-children ',"sb-group-children-universal",'">\n      ',"/private/sbox_children/name","/private/pex_flights_search_traveller_children_age/name","/private/fit_search_child_selector_subtitle/name","data-group-children-count","0",'\n              for="group_children_','\n             for="group_children"\n            ',"\n            >\n          ","\n        </label>\n\n        ",'\n  <select\n    name="group_children"\n    aria-label="',"/private/index_sbox_children_aria/name",'\n        id="group_children_','"\n        class="group_children"\n    ','\n       id="group_children"\n    ',"\n    data-group-children-count ",'data-component="search/group/children-ages-tooltip search/group/add-children-tooltip"\n    data-add-children-tooltip="','"',"\n  >\n    ","/private/search_box_no_children_filter_default/name","/private/search_box_children_filter/name","\n      \n      ",'\n      <div class="sb-group__children__field clearfix">\n        ','\n        <label class="sb-searchbox__label -small sb-group__children__label">\n          ',"/private/sxp_index_sbox_horizontal_age_of_children_q/name","/private/bh_gsb_search_box_checkout_age/name","/private/bh_gsb_search_box_checkout_age_plural/name","/private/loc_sbox_children_age_singular/name","/private/loc_sbox_children_age_plural/name","\n\n        ","\n\n        \n        ",'\n            <div class="sb-group__children__title bui-f-font-emphasized">',"/private/fame_w_mandatory_ages_head/name","&nbsp;","/private/fame_w_mandatory_ages_head_required/name","</div>\n          ",'\n          <label class="sb-searchbox__label -small sb-group__children__label">\n            ',"/private/fame_w_mandatory_ages_explain/name","/private/fame_w_mandatory_ages_no_head_explain/name","\n          </label>\n        ",'<div class="sb-group-children-age"><div class="sb-custom-select">','\n    <select\n      name="age"\n      data-group-child-age="','"\n      aria-label="',"/private/acc_index_child_age_screenread/name",'"\n      \n      ','\n        class="sb-group-field-has-error"\n      ','\n    >\n      <option class="sb_child_ages_empty_zero" ','value=""','value="12 "',">\n          ","\n            ","/private/fame_search_age_needed/name","/private/sxp_index_sbox_horizontal_age_at_checkout/name","/private/sxp_index_sbox_age_at_checkout/name","\n      </option>\n      ",'\n        <option value="',">\n            ","\n                ","/private/sxp_index_sbox_num_years_old/name","/private/loc_counter_word_child_age_cjk/name","\n        </option>\n      ","</div></div>",'\n            <label class="sb-searchbox__label -small sb-group__children__label">\n              ',"/private/fame_search_age_explain/name","\n            </label>\n          ","\n      </div>\n    ","\n      \n      <div></div>\n    ","\n\n  \n  ","\n              ",' \n    <div class="sb-group__field">\n      ',"/private/pex_flights_search_traveller_infants/name","/private/pex_flights_search_traveller_babies_age/name","data-group-infants-count","group_infants",'\n                for="group_infants_','\n                for="group_infants"\n              ',"\n           >\n            "," \n  ",'\n    <select\n      name="group_infants"\n      ','\n         id="group_infants_','"\n         class="group_infants"\n      ','\n         id="group_infants"\n      ',"\n      data-group-infants-count\n     >\n      ","\n    </select>\n  ","\n\n</div>\n","\n\t"],g=["fe_sb_group_max_adults","fe_add_children_tooltip","b_action","b_search_config","b_predicted_traveller_type","fe_occupancy_pricing_tooltip","fe_sr_sb_group_obp_tooltip","fe_sb_universal_design","fe_group_rooms_title","fe_bui_stepper_id","fe_bui_stepper_title","fe_bui_stepper_subtitle","fe_bui_stepper_min","fe_bui_stepper_max","fe_bui_stepper_value","fe_bui_stepper_additional_attrs","fe_sb_group_bui_steppers_accessible","fe_sb_group_max_rooms","fe_sb_state_number_of_rooms","fe_sb_group_rooms_hide","fe_sb_group_use_bui_stepper","fe_sb_group_block_labels","fe_remove_duplicate_ids","fe_sb_unique_id","fe_sb_group_descriptive_dropdowns","fe_sb_facelift","fe_sb_width","fe_sb_include_nr_rooms","fe_group_adults_title","fe_group_adults_subtitle","fe_xpi_show_flights","fe_xpi_show_resorts","fe_sb_state_number_of_adults","fe_sb_group_use_adults_label","fe_sb_group_adults_hide","fe_sb_state_number_of_children","fe_sb_state_rooms","fe_sb_state_children_ages","fe_sb_group_has_children","fe_group_children_title","fe_group_children_subtitle","fe_sb_show_children_age_bracket","fe_sb_group_max_children","fe_sb_xpi","fe_sb_group_localized_short_date","fe_sb_state_checkout","fe_sb_mandatory_child_ages","fe_sb_child_ages_ui_update","fe_children_ages","fe_child_i","fe_sb_group_max_children_age","b_lang_is_cjk","fe_sb_group_children_hide","fe_sb_group_children_ages_hide","fe_group_infants_title","fe_group_infants_subtitle","fe_sb_group_max_infants","fe_sb_state_number_of_infants","fe_sb_group_infants_hide"];return _r_(function(f){_i_("4ab:91ef3343");var e,t,i,a,n="",b=this.fn;function s(e){_i_("4ab:bdeeea11"),e+=m[20];var t=r,i=s,a=_,n=o,s=b.MC(g[48])||[];f.unshift({fe_child_age:null});for(var o,r=1,_=s.length;r<=_;r++){f[0].fe_child_age=o=s[r-1],e+=m[20],b.MD(g[7])&&(e+=m[167]),e+=[m[168],b.F.entities(b.MC(g[49])),m[169],(f.unshift({child_number:b.MI(b.MB(g[49]))+b.MI(1)}),p=b.ME(m[170],b.MB,b.MN,null),f.shift(),p),m[171]].join(""),b.MJ(b.MB(g[46]))&&b.MJ(o+""=="")&&(e+=m[172]),e+=m[173],b.MD(g[46])?e+=m[174]:e+=m[175],e+=m[176],b.MD(g[46])?e+=[m[177],b.ME(m[178],b.MB,b.MN,null),m[97]].join(""):b.MD(g[43])?e+=[m[177],b.ME(m[179],b.MB,b.MN,null),m[97]].join(""):b.MD(g[7])&&(e+=[m[177],b.ME(m[180],b.MB,b.MN,null),m[97]].join("")),e+=m[181];var l=r,d=s,h=_,c=u;s=b.seq(0,b.MB(g[50]))||[];f.unshift({i:null});var u;for(r=1,_=s.length;r<=_;r++)f[0].i=u=s[r-1],e+=[m[182],b.F.entities(u.value),m[53]].join(""),b.MJ(o+""!="")&&b.MJ(o+""==""+u.value)&&(e+=m[82]),e+=m[183],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[43]))?e+=[m[184],(f.unshift({num_years:u.value}),p=b.ME(m[185],b.MB,b.MN,b.MO(u.value,null,m[185])),f.shift(),p),m[177]].join(""):(e+=[m[184],u.value].join(""),b.MD(g[51])&&(e+=b.ME(m[186],b.MB,b.MN,null)),e+=m[177]),e+=m[187];f.shift(),r=l,s=d,_=h,u=c,e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join("")),e+=m[4],b.MD(g[7])&&(e+=m[188]),e+=m[4],b.MN("fe_child_i",b.MI(b.MB(g[49]))+b.MI(1)),e+=m[20]}return f.shift(),r=t,s=i,_=a,o=n,e+=m[2],_r_(e)}function o(e){_i_("4ab:856d74fc"),e+=m[20];var t=r,i=s,a=_,n=o,s=b.MC(g[48])||[];f.unshift({fe_child_age:null});for(var o,r=1,_=s.length;r<=_;r++){f[0].fe_child_age=o=s[r-1],e+=m[20],b.MD(g[7])&&(e+=m[167]),e+=[m[168],b.F.entities(b.MC(g[49])),m[169],(f.unshift({child_number:b.MI(b.MB(g[49]))+b.MI(1)}),p=b.ME(m[170],b.MB,b.MN,null),f.shift(),p),m[171]].join(""),b.MJ(b.MB(g[46]))&&b.MJ(o+""=="")&&(e+=m[172]),e+=m[173],b.MD(g[46])?e+=m[174]:e+=m[175],e+=m[176],b.MD(g[46])?e+=[m[177],b.ME(m[178],b.MB,b.MN,null),m[97]].join(""):b.MD(g[43])?e+=[m[177],b.ME(m[179],b.MB,b.MN,null),m[97]].join(""):b.MD(g[7])&&(e+=[m[177],b.ME(m[180],b.MB,b.MN,null),m[97]].join("")),e+=m[181];var l=r,d=s,h=_,c=u;s=b.seq(0,b.MB(g[50]))||[];f.unshift({i:null});var u;for(r=1,_=s.length;r<=_;r++)f[0].i=u=s[r-1],e+=[m[182],b.F.entities(u.value),m[53]].join(""),b.MJ(o+""!="")&&b.MJ(o+""==""+u.value)&&(e+=m[82]),e+=m[183],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[43]))?e+=[m[184],(f.unshift({num_years:u.value}),p=b.ME(m[185],b.MB,b.MN,b.MO(u.value,null,m[185])),f.shift(),p),m[177]].join(""):(e+=[m[184],u.value].join(""),b.MD(g[51])&&(e+=b.ME(m[186],b.MB,b.MN,null)),e+=m[177]),e+=m[187];f.shift(),r=l,s=d,_=h,u=c,e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join("")),e+=m[4],b.MD(g[7])&&(e+=m[188]),e+=m[4],b.MN("fe_child_i",b.MI(b.MB(g[49]))+b.MI(1)),e+=m[20]}return f.shift(),r=t,s=i,_=a,o=n,e+=m[2],_r_(e)}function r(e){return _i_("4ab:60b6d2dc"),e+=m[20],b.MK(b.MB(g[19]))?(e+=m[21],b.MD(g[7])||(e+=m[64],b.MD(g[21])||(e+=m[65]),e+=m[66],b.MD(g[22])&&(e+=m[61]),e+=m[67],b.MD(g[22])?e+=[m[68],b.F.entities(b.MC(g[23])),m[69]].join(""):e+=m[70],e+=[m[71],b.ME(m[22],b.MB,b.MN,null),m[72]].join("")),e=function(e){_i_("4ab:d4c54042"),e+=m[4],b.MD(g[7])&&(e+=m[73]);e+=m[74],b.MD(g[22])?e+=[m[75],b.F.entities(b.MC(g[23])),m[76]].join(""):e+=m[77];e+=[m[78],b.ME(m[79],b.MB,b.MN,null),m[80]].join("");var t=b.seq(1,b.MB(g[17]))||[];f.unshift({i:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].i=i=t[a-1],e+=[m[81],b.F.entities(i.value),m[53]].join(""),b.MJ(b.MB(g[18])==i.value)&&(e+=m[82]),e+=m[83],b.MD(g[24])?e+=(f.unshift({num_rooms:i.value}),p=b.ME(m[84],b.MB,b.MN,b.MO(i.value,null,m[84])),f.shift(),p):e+=i.value,e+=m[85];f.shift(),e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join(""));e+=m[90],b.MD(g[7])&&(e+=m[91]);return e+=m[2],_r_(e)}(e+=m[18]),e+=m[63]):e+=[m[92],b.F.entities(b.MC(g[18])),m[93]].join(""),e+=m[2],_r_(e)}function _(e){return _i_("4ab:593fbe2e"),e+=m[20],b.MK(b.MB(g[19]))&&(e+=m[21],b.MN(g[8],b.ME(m[22],b.MB,b.MN,null)),e+=m[18],f.unshift({fe_bui_stepper_additional_attrs:m[60],fe_bui_stepper_id:m[61],fe_bui_stepper_max:b.MB(g[17]),fe_bui_stepper_min:m[62],fe_bui_stepper_title:b.MB(g[8]),fe_bui_stepper_value:b.MB(g[18])?b.MB(g[18]):0}),e=function(e){_i_("4ab:b27e41ae"),e+=[m[23],b.F.entities(b.MC(g[9])),m[24],b.F.html(b.MC(g[10])),m[25]].join(""),b.MD(g[11])&&(e+=[m[26],b.F.html(b.MC(g[11])),m[27]].join(""));e+=m[28],b.MD(g[16])?(e+=[m[29],b.F.entities(b.MC(g[9])),m[30],b.F.entities(b.MC(g[9])),m[31],b.F.entities(b.MC(g[12])),m[32],b.F.entities(b.MC(g[13])),m[33],b.F.entities(b.MC(g[14])),m[34],b.F.entities(b.MC(g[15])),m[35]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(e+=m[36]),e+=[m[37],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[38],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[40],b.F.entities(b.MC(g[14])),m[41]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(e+=m[36]),e+=[m[42],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[43],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[44],b.F.entities(b.MC(g[9])),m[45],b.F.entities(b.MC(g[14])),m[46],b.F.entities(b.MC(g[10])),m[47]].join("")):(e+=[m[48],b.F.entities(b.MC(g[9])),m[49],b.F.entities(b.MC(g[9])),m[50],b.F.entities(b.MC(g[12])),m[51],b.F.entities(b.MC(g[13])),m[52],b.F.entities(b.MC(g[14])),m[53],b.F.entities(b.MC(g[15])),m[54]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(e+=m[55]),e+=[m[56],b.F.entities(b.MC(g[14])),m[57]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(e+=m[55]),e+=m[58]);return e+=m[59],_r_(e)}(e),f.shift(),e+=m[63]),e+=m[2],_r_(e)}function l(e){if(_i_("4ab:cba1f0af"),e+=m[4],b.MJ(b.MB(g[35]))&&(b.MJ(b.MB(g[36]))||b.MJ(b.MB(g[37])))){if(e+=m[149],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[46]))||(e+=m[150],b.MD(g[43])?e+=[b.ME(m[151],b.MB,b.MN,b.MO(b.MC(g[35]),null,m[151])),m[2]].join(""):b.MD(g[45])?(b.MN(g[44],b.DATE(b.MB(g[45]),"short_date","","","")),b.MJ(1==b.MB(g[35]))?e+=[(f.unshift({date:b.MB(g[44])}),p=b.ME(m[152],b.MB,b.MN,null),f.shift(),p),m[2]].join(""):e+=[(f.unshift({date:b.MB(g[44])}),p=b.ME(m[153],b.MB,b.MN,null),f.shift(),p),m[2]].join("")):b.MJ(1==b.MB(g[35]))?e+=[b.ME(m[154],b.MB,b.MN,null),m[2]].join(""):e+=[b.ME(m[155],b.MB,b.MN,null),m[2]].join(""),e+=m[109]),e+=m[156],b.MN("fe_child_i",0),e+=m[157],b.MJ(0<b.MB(g[47]))&&(e+=m[97],b.MJ(1==b.MB(g[47]))&&(e+=[m[158],b.ME(m[159],b.MB,b.MN,null),m[160],b.ME(m[161],b.MB,b.MN,null),m[162]].join("")),e+=m[163],b.MJ(1==b.MB(g[47]))?e+=[b.ME(m[164],b.MB,b.MN,null),m[2]].join(""):e+=[b.ME(m[165],b.MB,b.MN,null),m[2]].join(""),e+=m[166]),e+=m[156],b.MD(g[37]))e+=m[97],f.unshift({fe_children_ages:b.MB(g[37]),fe_sb_mandatory_child_ages:b.MB(g[46])}),e=function(e){_i_("4ab:61cbe13e"),e+=m[20];var t=b.MC(g[48])||[];f.unshift({fe_child_age:null});for(var i,a=1,n=t.length;a<=n;a++){f[0].fe_child_age=i=t[a-1],e+=m[20],b.MD(g[7])&&(e+=m[167]),e+=[m[168],b.F.entities(b.MC(g[49])),m[169],(f.unshift({child_number:b.MI(b.MB(g[49]))+b.MI(1)}),p=b.ME(m[170],b.MB,b.MN,null),f.shift(),p),m[171]].join(""),b.MJ(b.MB(g[46]))&&b.MJ(i+""=="")&&(e+=m[172]),e+=m[173],b.MD(g[46])?e+=m[174]:e+=m[175],e+=m[176],b.MD(g[46])?e+=[m[177],b.ME(m[178],b.MB,b.MN,null),m[97]].join(""):b.MD(g[43])?e+=[m[177],b.ME(m[179],b.MB,b.MN,null),m[97]].join(""):b.MD(g[7])&&(e+=[m[177],b.ME(m[180],b.MB,b.MN,null),m[97]].join("")),e+=m[181];var s,o=a,r=t,_=n,l=s;for(t=b.seq(0,b.MB(g[50]))||[],f.unshift({i:null}),a=1,n=t.length;a<=n;a++)f[0].i=s=t[a-1],e+=[m[182],b.F.entities(s.value),m[53]].join(""),b.MJ(i+""!="")&&b.MJ(i+""==""+s.value)&&(e+=m[82]),e+=m[183],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[43]))?e+=[m[184],(f.unshift({num_years:s.value}),p=b.ME(m[185],b.MB,b.MN,b.MO(s.value,null,m[185])),f.shift(),p),m[177]].join(""):(e+=[m[184],s.value].join(""),b.MD(g[51])&&(e+=b.ME(m[186],b.MB,b.MN,null)),e+=m[177]),e+=m[187];f.shift(),a=o,t=r,n=_,s=l,e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join("")),e+=m[4],b.MD(g[7])&&(e+=m[188]),e+=m[4],b.MN("fe_child_i",b.MI(b.MB(g[49]))+b.MI(1)),e+=m[20]}return f.shift(),e+=m[2],_r_(e)}(e),f.shift(),e+=m[19];else if(b.MD(g[36])){e+=m[97];var t=b.MC(g[36])||[];f.unshift({fe_room:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].fe_room=i=t[a-1],e+=m[177],f.unshift({fe_children_ages:b.MG((i||{}).b_children_ages),fe_sb_mandatory_child_ages:b.MB(g[46])}),e=o(e),f.shift(),e+=m[97];f.shift(),e+=m[19]}e+=m[156],b.MJ(b.MB(g[7]))||b.MK(b.MB(g[46]))||(e+=m[97],b.MK(b.MB(g[47]))&&(e+=[m[189],b.ME(m[190],b.MB,b.MN,null),m[191]].join("")),e+=m[19]),e+=m[192]}else b.MD(g[46])&&(e+=m[193]);return e+=m[2],_r_(e)}function d(e){return _i_("4ab:7b460523"),e+=[m[23],b.F.entities(b.MC(g[9])),m[24],b.F.html(b.MC(g[10])),m[25]].join(""),b.MD(g[11])&&(e+=[m[26],b.F.html(b.MC(g[11])),m[27]].join("")),e+=m[28],b.MD(g[16])?(e+=[m[29],b.F.entities(b.MC(g[9])),m[30],b.F.entities(b.MC(g[9])),m[31],b.F.entities(b.MC(g[12])),m[32],b.F.entities(b.MC(g[13])),m[33],b.F.entities(b.MC(g[14])),m[34],b.F.entities(b.MC(g[15])),m[35]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(e+=m[36]),e+=[m[37],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[38],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[40],b.F.entities(b.MC(g[14])),m[41]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(e+=m[36]),e+=[m[42],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[43],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[44],b.F.entities(b.MC(g[9])),m[45],b.F.entities(b.MC(g[14])),m[46],b.F.entities(b.MC(g[10])),m[47]].join("")):(e+=[m[48],b.F.entities(b.MC(g[9])),m[49],b.F.entities(b.MC(g[9])),m[50],b.F.entities(b.MC(g[12])),m[51],b.F.entities(b.MC(g[13])),m[52],b.F.entities(b.MC(g[14])),m[53],b.F.entities(b.MC(g[15])),m[54]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(e+=m[55]),e+=[m[56],b.F.entities(b.MC(g[14])),m[57]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(e+=m[55]),e+=m[58]),e+=m[59],_r_(e)}return n+=m[0],e=n,_i_("4ab:70810372"),e+=m[1],b.MN("fe_sb_group_max_rooms",30),e+=m[2],b.MN("fe_sb_group_max_pets",10),e+=m[2],b.MN("fe_sb_group_max_adults",b.MB(g[0])||30),e+=m[2],b.MN("fe_sb_group_max_children",10),e+=m[2],b.MN("fe_sb_group_max_children_age",17),e+=m[2],b.MN("fe_sb_group_max_infants",10),e+=m[3],b.MN("fe_add_children_tooltip",""),e+=m[2],b.MJ(b.MC(g[2])+""=="searchresults")&&b.MJ(b.MC(g[3]))&&b.MK(b.MC(g[3]).b_children_total)&&b.MJ(b.MC(g[4])+""=="family")&&(e+=m[4],b.MN(g[1],[m[5],b.ME(m[6],b.MB,b.MN,null),m[7],b.ME(m[8],b.MB,b.MN,null),m[9]].join("")),e+=m[2]),e+=m[10],b.MD(g[6])&&(e+=m[4],b.MN(g[5],[m[11],b.ME(m[12],b.MB,b.MN,null),m[9]].join("")),e+=m[2]),e+=m[13],e+=m[14],e+=m[14],e+=m[14],e+=m[14],e+=m[10],e+=m[14],e+=m[14],e+=m[14],e+=m[15],b.MD(g[7])&&(e+=m[16]),e+=m[17],b.MJ(0==b.MB(g[27]))&&(e+=m[4],b.MJ(b.MB(g[26]))&&b.MJ(b.MB(g[7]))||(e+=m[18],e=b.MD(g[20])?_(e+=m[19]):r(e+=m[19]),e+=m[18],e+=m[4]),e+=m[20]),e+=m[94],b.MK(b.MB(g[34]))?(e+=m[95],b.MD(g[20])?(e+=m[19],b.MN(g[28],b.ME(m[96],b.MB,b.MN,null)),e+=m[19],b.MJ(b.MB(g[30]))&&b.MK(b.MB(g[31]))&&(e+=m[97],b.MN(g[29],b.ME(m[98],b.MB,b.MN,null)),e+=m[19]),e+=m[19],f.unshift({fe_bui_stepper_additional_attrs:m[99],fe_bui_stepper_id:m[100],fe_bui_stepper_max:b.MB(g[0]),fe_bui_stepper_min:m[62],fe_bui_stepper_subtitle:b.MB(g[29]),fe_bui_stepper_title:b.MB(g[28]),fe_bui_stepper_value:b.MB(g[32])?b.MB(g[32]):0}),e=d(e),f.shift()):(e+=m[19],b.MD(g[7])||(e+=m[101],b.MD(g[21])||(e+=m[65]),e+=m[66],b.MD(g[22])&&(e+=m[102]),e+=m[103],b.MD(g[22])?e+=[m[104],b.F.entities(b.MC(g[23])),m[105]].join(""):e+=m[106],e+=m[107],b.MD(g[33])?e+=b.ME(m[108],b.MB,b.MN,null):e+=b.ME(m[96],b.MB,b.MN,null),e+=m[109]),e=function(e){_i_("4ab:0e69ddfc"),e+=m[2],b.MD(g[7])&&(e+=m[73]),e+=[m[110],b.ME(m[111],b.MB,b.MN,null),m[112]].join(""),b.MD(g[22])?e+=[m[113],b.F.entities(b.MC(g[23])),m[114]].join(""):e+=m[115],e+=m[116],b.MD(g[6])&&(e+=[m[117],b.F.html(b.MC(g[5])),m[112]].join("")),e+=m[118];var t=b.seq(1,b.MB(g[0]))||[];f.unshift({i:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].i=i=t[a-1],e+=[m[119],b.F.entities(i.value),m[53]].join(""),b.MJ(b.MB(g[32])==i.value)&&(e+=m[82]),e+=m[120],b.MD(g[24])?e+=(f.unshift({num_adults:i.value}),p=b.ME(m[121],b.MB,b.MN,b.MO(i.value,null,m[121])),f.shift(),p):e+=i.value,e+=m[122];return f.shift(),e+=m[123],b.MD(g[25])&&(e+=[m[4],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[20]].join("")),e+=m[2],b.MD(g[7])&&(e+=m[91]),e+=m[2],_r_(e)}(e+=m[19])),e+=m[18],e+=m[63]):e+=[m[124],b.F.entities(b.MC(g[32])),m[93]].join(""),e+=m[17],b.MK(b.MB(g[52]))&&(e+=m[18],b.MN("fe_sb_group_has_children",b.MB(g[35])&&(b.MB(g[36])||b.MB(g[37]))),e+=m[125],b.MJ(b.MB(g[7]))&&b.MJ(b.MB(g[38]))&&(e+=m[126]),e+=m[127],b.MD(g[20])?(e+=m[19],b.MN(g[39],b.ME(m[128],b.MB,b.MN,null)),e+=m[19],b.MJ(b.MB(g[30]))&&b.MK(b.MB(g[31]))?(e+=m[97],b.MN(g[40],b.ME(m[129],b.MB,b.MN,null)),e+=m[19]):b.MJ(b.MB(g[41]))&&b.MK(b.MB(g[30]))&&b.MK(b.MB(g[31]))&&(e+=m[97],b.MN(g[40],b.ME(m[130],b.MB,b.MN,null)),e+=m[19]),e+=m[19],f.unshift({fe_bui_stepper_additional_attrs:m[131],fe_bui_stepper_id:m[102],fe_bui_stepper_max:b.MB(g[42]),fe_bui_stepper_min:m[132],fe_bui_stepper_subtitle:b.MB(g[40]),fe_bui_stepper_title:b.MB(g[39]),fe_bui_stepper_value:b.MB(g[35])?b.MB(g[35]):0}),e=d(e),f.shift()):(e+=m[19],b.MD(g[7])||(e+=m[101],b.MD(g[21])||(e+=m[65]),e+=m[66],b.MD(g[22])&&(e+=m[102]),e+=m[103],b.MD(g[22])?e+=[m[133],b.F.entities(b.MC(g[23])),m[105]].join(""):e+=m[134],e+=[m[135],b.ME(m[128],b.MB,b.MN,null),m[136]].join("")),e=function(e){_i_("4ab:15870e17"),e+=m[2],b.MD(g[7])&&(e+=m[73]),e+=[m[137],b.ME(m[138],b.MB,b.MN,null),m[112]].join(""),b.MD(g[22])?e+=[m[139],b.F.entities(b.MC(g[23])),m[140]].join(""):e+=m[141],e+=m[142],b.MD(g[7])||(e+=[m[143],b.F.html(b.MC(g[1])),m[144]].join("")),e+=m[145];var t=b.seq(0,b.MB(g[42]))||[];f.unshift({i:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].i=i=t[a-1],e+=[m[119],b.F.entities(i.value),m[53]].join(""),b.MJ(b.MB(g[35])==i.value)&&(e+=m[82]),e+=m[120],b.MJ(b.MB(g[24]))&&b.MJ(0==i.value)?e+=[m[97],b.ME(m[146],b.MB,b.MN,null),m[19]].join(""):b.MJ(b.MB(g[24]))?e+=[m[97],(f.unshift({num_kids:i.value}),p=b.ME(m[147],b.MB,b.MN,b.MO(i.value,null,m[147])),f.shift(),p),m[19]].join(""):e+=[m[97],i.value,m[19]].join(""),e+=m[122];return f.shift(),e+=m[123],b.MD(g[25])&&(e+=[m[4],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[20]].join("")),e+=m[2],b.MD(g[7])&&(e+=m[91]),e+=m[2],_r_(e)}(e+=m[19])),e+=m[18],e+=m[148],b.MK(b.MB(g[52])||b.MB(g[53]))&&b.MJ(b.MB(g[7]))&&(e=function(e){if(_i_("4ab:403e925b"),e+=m[4],b.MJ(b.MB(g[35]))&&(b.MJ(b.MB(g[36]))||b.MJ(b.MB(g[37])))){if(e+=m[149],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[46]))||(e+=m[150],b.MD(g[43])?e+=[b.ME(m[151],b.MB,b.MN,b.MO(b.MC(g[35]),null,m[151])),m[2]].join(""):b.MD(g[45])?(b.MN(g[44],b.DATE(b.MB(g[45]),"short_date","","","")),b.MJ(1==b.MB(g[35]))?e+=[(f.unshift({date:b.MB(g[44])}),p=b.ME(m[152],b.MB,b.MN,null),f.shift(),p),m[2]].join(""):e+=[(f.unshift({date:b.MB(g[44])}),p=b.ME(m[153],b.MB,b.MN,null),f.shift(),p),m[2]].join("")):b.MJ(1==b.MB(g[35]))?e+=[b.ME(m[154],b.MB,b.MN,null),m[2]].join(""):e+=[b.ME(m[155],b.MB,b.MN,null),m[2]].join(""),e+=m[109]),e+=m[156],b.MN("fe_child_i",0),e+=m[157],b.MJ(0<b.MB(g[47]))&&(e+=m[97],b.MJ(1==b.MB(g[47]))&&(e+=[m[158],b.ME(m[159],b.MB,b.MN,null),m[160],b.ME(m[161],b.MB,b.MN,null),m[162]].join("")),e+=m[163],b.MJ(1==b.MB(g[47]))?e+=[b.ME(m[164],b.MB,b.MN,null),m[2]].join(""):e+=[b.ME(m[165],b.MB,b.MN,null),m[2]].join(""),e+=m[166]),e+=m[156],b.MD(g[37]))e+=m[97],f.unshift({fe_children_ages:b.MB(g[37]),fe_sb_mandatory_child_ages:b.MB(g[46])}),e=function(e){_i_("4ab:ccf953d9"),e+=m[20];var t=b.MC(g[48])||[];f.unshift({fe_child_age:null});for(var i,a=1,n=t.length;a<=n;a++){f[0].fe_child_age=i=t[a-1],e+=m[20],b.MD(g[7])&&(e+=m[167]),e+=[m[168],b.F.entities(b.MC(g[49])),m[169],(f.unshift({child_number:b.MI(b.MB(g[49]))+b.MI(1)}),p=b.ME(m[170],b.MB,b.MN,null),f.shift(),p),m[171]].join(""),b.MJ(b.MB(g[46]))&&b.MJ(i+""=="")&&(e+=m[172]),e+=m[173],b.MD(g[46])?e+=m[174]:e+=m[175],e+=m[176],b.MD(g[46])?e+=[m[177],b.ME(m[178],b.MB,b.MN,null),m[97]].join(""):b.MD(g[43])?e+=[m[177],b.ME(m[179],b.MB,b.MN,null),m[97]].join(""):b.MD(g[7])&&(e+=[m[177],b.ME(m[180],b.MB,b.MN,null),m[97]].join("")),e+=m[181];var s=a,o=t,r=n,_=l,t=b.seq(0,b.MB(g[50]))||[];f.unshift({i:null});for(var l,a=1,n=t.length;a<=n;a++)f[0].i=l=t[a-1],e+=[m[182],b.F.entities(l.value),m[53]].join(""),b.MJ(i+""!="")&&b.MJ(i+""==""+l.value)&&(e+=m[82]),e+=m[183],b.MJ(b.MB(g[7]))||b.MJ(b.MB(g[43]))?e+=[m[184],(f.unshift({num_years:l.value}),p=b.ME(m[185],b.MB,b.MN,b.MO(l.value,null,m[185])),f.shift(),p),m[177]].join(""):(e+=[m[184],l.value].join(""),b.MD(g[51])&&(e+=b.ME(m[186],b.MB,b.MN,null)),e+=m[177]),e+=m[187];f.shift(),a=s,t=o,n=r,l=_,e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join("")),e+=m[4],b.MD(g[7])&&(e+=m[188]),e+=m[4],b.MN("fe_child_i",b.MI(b.MB(g[49]))+b.MI(1)),e+=m[20]}return f.shift(),e+=m[2],_r_(e)}(e),f.shift(),e+=m[19];else if(b.MD(g[36])){e+=m[97];var t=b.MC(g[36])||[];f.unshift({fe_room:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].fe_room=i=t[a-1],e+=m[177],f.unshift({fe_children_ages:b.MG((i||{}).b_children_ages),fe_sb_mandatory_child_ages:b.MB(g[46])}),e=s(e),f.shift(),e+=m[97];f.shift(),e+=m[19]}e+=m[156],b.MJ(b.MB(g[7]))||b.MK(b.MB(g[46]))||(e+=m[97],b.MK(b.MB(g[47]))&&(e+=[m[189],b.ME(m[190],b.MB,b.MN,null),m[191]].join("")),e+=m[19]),e+=m[192]}else b.MD(g[46])&&(e+=m[193]);return e+=m[2],_r_(e)}(e+=m[97]),e+=m[18]),e+=m[63]),e+=m[194],b.MK(b.MB(g[52])||b.MB(g[53])||b.MB(g[7]))&&b.MJ(b.MB(g[46]))&&(e=l(e+=m[18]),e+=m[20]),e+=m[17],b.MJ(b.MB(g[27]))&&(e+=m[18],b.MJ(b.MB(g[26]))&&b.MJ(b.MB(g[7]))||(e+=m[97],e=b.MD(g[20])?_(e+=m[195]):r(e+=m[195]),e+=m[97],e+=m[18]),e+=m[20]),e+=m[17],b.MK(b.MB(g[58]))&&(e+=m[196],b.MD(g[20])?(e+=m[19],b.MN(g[54],b.ME(m[197],b.MB,b.MN,null)),e+=m[19],b.MJ(b.MB(g[30]))&&b.MK(b.MB(g[31]))&&(e+=m[97],b.MN(g[55],b.ME(m[198],b.MB,b.MN,null)),e+=m[19]),e+=m[19],f.unshift({fe_bui_stepper_additional_attrs:m[199],fe_bui_stepper_id:m[200],fe_bui_stepper_max:b.MB(g[56]),fe_bui_stepper_min:m[132],fe_bui_stepper_subtitle:b.MB(g[55]),fe_bui_stepper_title:b.MB(g[54]),fe_bui_stepper_value:b.MB(g[57])?b.MB(g[57]):0}),e=d(e),f.shift()):(e+=m[19],b.MD(g[7])||(e+=m[64],b.MD(g[21])||(e+=m[65]),e+=m[66],b.MD(g[22])&&(e+=m[200]),e+=m[67],b.MD(g[22])?e+=[m[201],b.F.entities(b.MC(g[23])),m[69]].join(""):e+=m[202],e+=[m[203],b.ME(m[197],b.MB,b.MN,null),m[166]].join("")),e=function(e){_i_("4ab:3dd465e9"),e+=m[204],b.MD(g[7])&&(e+=m[73]),e+=m[205],b.MD(g[22])?e+=[m[206],b.F.entities(b.MC(g[23])),m[207]].join(""):e+=m[208],e+=m[209];var t=b.seq(0,b.MB(g[56]))||[];f.unshift({i:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].i=i=t[a-1],e+=[m[182],b.F.entities(i.value),m[53]].join(""),b.MJ(b.MB(g[57])==i.value)&&(e+=m[82]),e+=[m[176],i.value,m[187]].join("");return f.shift(),e+=m[210],b.MD(g[7])&&(e+=m[91]),e+=m[2],_r_(e)}(e+=m[19])),e+=m[18],e+=m[63]),e+=m[17],b.MJ(b.MB(g[7]))&&(e+=m[4],e=b.MD(g[20])?(i=e+=m[18],_i_("4ab:420c5fe3"),i+=m[20],b.MK(b.MB(g[19]))&&(i+=m[21],b.MN(g[8],b.ME(m[22],b.MB,b.MN,null)),i+=m[18],f.unshift({fe_bui_stepper_additional_attrs:m[60],fe_bui_stepper_id:m[61],fe_bui_stepper_max:b.MB(g[17]),fe_bui_stepper_min:m[62],fe_bui_stepper_title:b.MB(g[8]),fe_bui_stepper_value:b.MB(g[18])?b.MB(g[18]):0}),a=i,_i_("4ab:d3f49533"),a+=[m[23],b.F.entities(b.MC(g[9])),m[24],b.F.html(b.MC(g[10])),m[25]].join(""),b.MD(g[11])&&(a+=[m[26],b.F.html(b.MC(g[11])),m[27]].join("")),a+=m[28],b.MD(g[16])?(a+=[m[29],b.F.entities(b.MC(g[9])),m[30],b.F.entities(b.MC(g[9])),m[31],b.F.entities(b.MC(g[12])),m[32],b.F.entities(b.MC(g[13])),m[33],b.F.entities(b.MC(g[14])),m[34],b.F.entities(b.MC(g[15])),m[35]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(a+=m[36]),a+=[m[37],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[38],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[40],b.F.entities(b.MC(g[14])),m[41]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(a+=m[36]),a+=[m[42],(f.unshift({stepper_title:b.MB(g[10])}),p=b.F.html(b.ME(m[43],b.MB,b.MN,null)),f.shift(),p),m[39],b.F.entities(b.MC(g[9])),m[44],b.F.entities(b.MC(g[9])),m[45],b.F.entities(b.MC(g[14])),m[46],b.F.entities(b.MC(g[10])),m[47]].join("")):(a+=[m[48],b.F.entities(b.MC(g[9])),m[49],b.F.entities(b.MC(g[9])),m[50],b.F.entities(b.MC(g[12])),m[51],b.F.entities(b.MC(g[13])),m[52],b.F.entities(b.MC(g[14])),m[53],b.F.entities(b.MC(g[15])),m[54]].join(""),b.MJ(b.MB(g[14])==b.MB(g[12]))&&(a+=m[55]),a+=[m[56],b.F.entities(b.MC(g[14])),m[57]].join(""),b.MJ(b.MB(g[14])==b.MB(g[13]))&&(a+=m[55]),a+=m[58]),a+=m[59],i=_r_(a),f.shift(),i+=m[63]),i+=m[2],_r_(i)):(t=e+=m[18],_i_("4ab:cb94c1de"),t+=m[20],b.MK(b.MB(g[19]))?(t+=m[21],b.MD(g[7])||(t+=m[64],b.MD(g[21])||(t+=m[65]),t+=m[66],b.MD(g[22])&&(t+=m[61]),t+=m[67],b.MD(g[22])?t+=[m[68],b.F.entities(b.MC(g[23])),m[69]].join(""):t+=m[70],t+=[m[71],b.ME(m[22],b.MB,b.MN,null),m[72]].join("")),t=function(e){_i_("4ab:78465fc5"),e+=m[4],b.MD(g[7])&&(e+=m[73]),e+=m[74],b.MD(g[22])?e+=[m[75],b.F.entities(b.MC(g[23])),m[76]].join(""):e+=m[77],e+=[m[78],b.ME(m[79],b.MB,b.MN,null),m[80]].join("");var t=b.seq(1,b.MB(g[17]))||[];f.unshift({i:null});for(var i,a=1,n=t.length;a<=n;a++)f[0].i=i=t[a-1],e+=[m[81],b.F.entities(i.value),m[53]].join(""),b.MJ(b.MB(g[18])==i.value)&&(e+=m[82]),e+=m[83],b.MD(g[24])?e+=(f.unshift({num_rooms:i.value}),p=b.ME(m[84],b.MB,b.MN,b.MO(i.value,null,m[84])),f.shift(),p):e+=i.value,e+=m[85];return f.shift(),e+=m[86],b.MD(g[25])&&(e+=[m[18],(f.unshift({class:m[87],name:m[88],width:m[89]}),p=b.HELPER("icon",f[0]),f.shift(),p),m[4]].join("")),e+=m[90],b.MD(g[7])&&(e+=m[91]),e+=m[2],_r_(e)}(t+=m[18]),t+=m[63]):t+=[m[92],b.F.entities(b.MC(g[18])),m[93]].join(""),t+=m[2],_r_(t)),e+=m[4],e+=m[20]),e+=m[17],b.MD(g[7])&&(e+=m[91]),e+=m[194],b.MK(b.MB(g[52])||b.MB(g[53])||b.MB(g[7])||b.MB(g[46]))&&(e=l(e+=m[18]),e+=m[20]),e+=m[211],n=_r_(e),n+=m[212],_r_(n)})}());var a=t("component"),n=t("morphdom"),s=t("read-data-options"),o=t("search-config"),r=t("et"),_=t("search/searchbox/model");i.exports=a.extend({init:function(){if(_i_("4ab:d8ed49d6"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},sbWidth:{name:"sb-width",type:String},sbBBToolSearchbox:{name:"sb-bbtool-searchbox",type:Boolean},childrenHide:{name:"sb-group-children-hide",type:Boolean},childrenAgesHide:{name:"sb-group-children-ages-hide",type:Boolean},infantsHide:{name:"sb-group-infants-hide",type:Boolean},useBUIStepper:{name:"sb-group-use-bui-stepper",type:Boolean},buiSteppersAccessible:{name:"sb-group-bui-steppers-accessible",type:Boolean},petsHide:{name:"sb-group-pets-hide",type:Boolean},roomsHide:{name:"sb-group-rooms-hide",type:Boolean},useAdultsLabel:{name:"sb-group-use_adults_label",type:Boolean},blockLabels:{name:"sb-group-block-labels",type:Boolean},alwaysExpanded:{name:"sb-group-always-expanded",type:Boolean},descriptiveDropdowns:{name:"fe_sb_group_descriptive_dropdowns",type:Boolean},universalDesign:{name:"fe_sb_universal_design",type:Boolean},removeDuplicateIds:{name:"fe_remove_duplicate_ids",type:Boolean},searchBoxUniqueId:{name:"fe_sb_unique_id",type:String},searchboxXPI:{name:"fe_sb_xpi",type:Boolean},reorderGroupBlock:{name:"sb_reorder_rooms_block",type:Boolean},sbFaceLift:{name:"sb-facelift",type:Boolean},sbChildAgeBrackets:{name:"fe_sb_show_children_age_bracket",type:Boolean},sbMandatoryChildAges:{name:"fe_sb_mandatory_child_ages",type:Boolean},sbChildAgesUIUpdate:{name:"fe_sb_child_ages_ui_update",type:Number},sbDontUseDefaultChildAge:{name:"fe_sb_dont_use_default_child_age",type:Boolean}}),this.model=_.getInstance(this.options.modelId),this.model.use("group"),this.model.use("dates"),this.model.on("change",this.modelChange.bind(this)),this.$form=this.$el.parents("form"),o.on("change",this.searchConfigChange.bind(this)),this.$el.on("change",'[data-group-rooms-count=""]',this.groupRoomsChange.bind(this)),this.$el.on("change",'[data-group-adults-count=""]',this.groupAdultsChange.bind(this)),this.$el.on("change",'[data-group-children-count=""]',this.groupChildrenChange.bind(this)),this.$el.on("change","[data-group-child-age]",this.groupChildAgeChange.bind(this)),this.$el.on("change",'[data-group-infants-count=""]',this.groupInfantsChange.bind(this)),this.renderEl=this.$el.find('[data-render=""]')[0],this.template=B.jstmpl("search_group_group_html"),this.$form.on("change",".b-booker-type__input_business-booker",this.businessBookerSelected.bind(this)),this.modelInit(),"index"===B.env.b_action&&"sessionStorage"in window&&!o.childrenAges.length){var e;try{e=JSON.parse(window.sessionStorage.getItem("search_group_children_ages"))}catch(e){}if(e){this.model.group.set({key:"children_count",value:e.length});for(var t=0;t<e.length;t++)this.model.group.set({i:t,key:"children_ages",value:e[t]})}}_r_()},modelInit:function(){_i_("4ab:a280bb15");var e={rooms_count:o.rooms?o.rooms.length:1,adults_count:o.adults||2,children_ages:o.childrenAges||[],default_empty_age_to:this.options.sbDontUseDefaultChildAge?null:"12"};this.options.infantsHide||(e.infants_count=o.infants),this.model.group.init(e),_r_()},modelChange:function(e){if(_i_("4ab:d0eb1f21"),!e||"group"!=e.group&&"dates"!=e.group)return _r_();this.render(),_r_()},searchConfigChange:function(){_i_("4ab:2a954708"),this.model.group.set({key:"rooms_count",value:Array.isArray(o.rooms)?o.rooms.length:1}),this.model.group.set({key:"adults_count",value:o.adults}),this.model.group.set({key:"children_count",value:Array.isArray(o.childrenAges)?o.childrenAges.length:1}),this.options.infantsHide||this.model.group.set({key:"infants_count",value:o.infants}),Array.isArray(o.childrenAges)&&o.childrenAges.forEach(function(e,t){_i_("4ab:8cfc68e3"),this.model.group.set({key:"children_ages",i:t,value:e}),_r_()}.bind(this)),_r_()},groupRoomsChange:function(e){_i_("4ab:1b5dda0c");var t=$(e.currentTarget);this.model.group.set({key:"rooms_count",value:t.val()}),"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),_r_()},groupAdultsChange:function(e){_i_("4ab:80dadfe0");var t=$(e.currentTarget);this.model.group.set({key:"adults_count",value:t.val()}),this.groupAdultsChanged=!0,"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),_r_()},groupChildrenChange:function(e){_i_("4ab:18f1905c");var t=this.model.group.get().children_ages.length,i=$(e.currentTarget);this.model.group.set({key:"children_count",value:i.val()}),"mywishlist"==B.env.b_action&&this.customgoalForWishlist(2),i.val()>t?r.customGoal("INFddKNKNKPBDJJHMVGPLTLReASdVLT",4):r.customGoal("INFddKNKNKPBDJJHMVGPLTLReASdVLT",3),_r_()},groupInfantsChange:function(e){_i_("4ab:37d87d71");var t=$(e.currentTarget);this.model.group.set({key:"infants_count",value:t.val()}),_r_()},groupChildAgeChange:function(e){_i_("4ab:fd5481c5");var t=$(e.currentTarget),i=t.attr("data-group-child-age");this.model.group.set({key:"children_ages",i:+i,value:t.val()}),r.customGoal("INFddKNKNKPBDJJHMVGPLTLReASdVLT",1),_r_()},render:function(){_i_("4ab:7760e4a5");var e={},t=this.model.group.get(),i=this.model.dates.get();t={fe_sb_state_number_of_rooms:t.rooms_count,fe_sb_state_number_of_adults:t.adults_count,fe_sb_state_number_of_children:t.children_ages.length,fe_sb_state_children_ages:t.children_ages,fe_sb_state_number_of_infants:t.infants_count,fe_sb_state_traveller:t.fe_sb_state_traveller,fe_sb_state_rooms:[{b_adults:t.adults_count,b_children:t.children_ages.length,b_children_ages:t.children_ages,b_room_order:1}]},B.env.b_lang_is_cjk&&(t.b_lang_is_cjk=B.env.b_lang_is_cjk),i.checkout&&(t.fe_sb_state_checkout=i.checkout.toString()),this.options.sbWidth&&(t.fe_sb_width=this.options.sbWidth),this.options.childrenHide&&(t.fe_sb_group_children_hide=1),this.options.childrenAgesHide&&(t.fe_sb_group_children_ages_hide=1),this.options.infantsHide&&(t.fe_sb_group_infants_hide=1),this.options.useBUIStepper&&(t.fe_sb_group_use_bui_stepper=1),this.options.buiSteppersAccessible&&(t.fe_sb_group_bui_steppers_accessible=1),this.options.petsHide&&(t.fe_sb_group_pets_hide=1),this.options.roomsHide&&(t.fe_sb_group_rooms_hide=1),this.options.blockLabels&&(t.fe_sb_group_block_labels=1),this.options.alwaysExpanded&&(t.fe_sb_group_always_expanded=1),this.options.useAdultsLabel&&(t.fe_sb_group_use_adults_label=1),this.options.sbBBToolSearchbox&&(t.fe_sb_bbtool_searchbox=1),this.options.descriptiveDropdowns&&(t.fe_sb_group_descriptive_dropdowns=1),this.options.universalDesign&&(t.fe_sb_universal_design=1),this.options.removeDuplicateIds&&(t.fe_remove_duplicate_ids=1),this.options.searchBoxUniqueId&&(t.fe_sb_unique_id=this.options.searchBoxUniqueId),this.options.searchboxXPI&&(t.fe_sb_xpi=1),this.options.reorderGroupBlock&&(t.fe_sb_include_nr_rooms=1),this.options.sbFaceLift&&(t.fe_sb_facelift=1),this.options.sbChildAgeBrackets&&(t.fe_sb_show_children_age_bracket=this.options.sbChildAgeBrackets),this.options.sbMandatoryChildAges&&(t.fe_sb_mandatory_child_ages=this.options.sbMandatoryChildAges),this.options.sbChildAgesUIUpdate&&(t.fe_sb_child_ages_ui_update=this.options.sbChildAgesUIUpdate);var a=this.template.render(t).trim();"msie"===B.env.b_browser&&B.env.b_browser_version<=8&&(e.onBeforeElUpdated=function(e,t){_i_("4ab:2c707256");var i=e.getAttribute(jQuery.expando);return i&&t.setAttribute(jQuery.expando,i),_r_(!0)}),this._isRendered=!0,n(this.renderEl,a,e),_r_()},businessBookerSelected:function(){_i_("4ab:cdcb7c24"),this.groupAdultsChanged||this.model.group.set({key:"adults_count",value:1}),_r_()},groupChildrenAgeSave:function(e){_i_("4ab:4f94d139"),e.preventDefault(),t("events").trigger("SearchBox::SaveTravelGroupsClicked",e),_r_()},customgoalForWishlist:function(e){_i_("4ab:960fa9cf"),r.customGoal("aDMWRfDSdWUUHfLebbMPAFFLKZLXJOfAdIUFZZcO",e),_r_()}}),_r_()}),B.define("search/group/model",function(e,t,i){"use strict";_i_("4ab:8b1a34f6");var o=e("et");function a(e){_i_("4ab:e0d4b805"),this.model=e,this.data={preset:-1},this.valid=!0,this.validationError="",this.options={},_r_()}$.extend(a.prototype,{init:function(e){_i_("4ab:b6ef73a3"),this.data=e,this.emit("init"),_r_()},configure:function(e,t){_i_("4ab:66d50a771"),void 0!==t?this.options[e]=t:"object"==typeof e&&$.extend(this.options,e),_r_()},get:function(){return _i_("4ab:867e130f1"),_r_(this.data)},setAll:function(t){if(_i_("4ab:cc2e7b0d"),!t)return _r_(!1);var i=this;return Object.keys(t).forEach(function(e){_i_("4ab:a33046ee"),i.set({key:e,value:t[e]},!0),_r_()}),this.emit("change"),_r_(!0)},set:function(e,t){if(_i_("4ab:92e83c91"),!e||!e.key)return _r_(!1);if("children_count"==e.key)if(this.data.children_ages||(this.data.children_ages=[]),0==e.value)this.data.children_ages=[];else if(this.data.children_ages.length<e.value)for(var i=this.data.children_ages.length;i<e.value;i++)this.data.default_empty_age_to?this.data.children_ages.push(this.data.default_empty_age_to):this.data.children_ages.push("");else this.data.children_ages.length>e.value&&this.data.children_ages.splice(e.value,this.data.children_ages.length-e.value);else e.hasOwnProperty("i")?(this.data[e.key]||(this.data[e.key]=[]),this.data[e.key][e.i]=e.value):this.data[e.key]=e.value;if("index"===B.env.b_action&&"sessionStorage"in window){var a=JSON.stringify(this.data.children_ages);window.sessionStorage.setItem("search_group_children_ages",a)}return t||this.emit("change"),_r_(!0)},validate:function(e){_i_("4ab:237ffa8f");var t=!0,i="";if((e=e||{}).groupLimit){var a=0;this.data&&this.data.adults_count&&(a+=parseInt(this.data.adults_count)),this.data&&this.data.children_ages&&(a+=this.data.children_ages.length),a>e.groupLimit&&(t=!1,i="over-limit")}if(this.data.children_ages.length){for(var n=!1,s=0;s<this.data.children_ages.length;s++)""!==this.data.children_ages[s]&&null!==this.data.children_ages[s]||(n=!0);n&&(t=!1,i="children-ages",o.customGoal("INFddKNKNKPBDJJHMVGPLTLReASdVLT",2))}return(this.valid!=t||"children-ages"===i&&!t)&&(this.valid=t,this.validationError=i,this.emit("validation",{valid:t,validationError:i})),_r_(t)},modelChange:function(e){if(_i_("4ab:0c52eeaa"),!e||"traveller"!==e.group)return _r_();var t=this.model.traveller.get().travellerType;switch(t){case null:case"":case"couple":this.data.rooms_count=1,this.data.adults_count=2,this.data.children_ages=[];break;case"solo":case"business":this.data.rooms_count=1,this.data.adults_count=1,this.data.children_ages=[];break;case"family":this.data.adults_count=1==this.data.adults_count?2:this.data.adults_count,this.data.children_ages&&0!=this.data.children_ages.length||(this.data.children_ages=[this.data.default_empty_age_to]);break;case"group":this.data.adults_count=1==this.data.adults_count?2:this.data.adults_count,this.data.children_ages=[]}this.data.fe_sb_state_traveller=t,this.emit("change"),_r_()},isGroupSearch:function(){return _i_("4ab:c6d8e948"),_r_(!!(2<this.data.adults_count||this.data.children_ages&&this.data.children_ages.length||this.data.rooms_count&&1<this.data.rooms_count))},emit:function(e,t){_i_("4ab:9fb010e7"),t=t||{},this.model.emit(e,$.extend(t,{group:"group"})),_r_()}}),i.exports=a,_r_()}),B.define("search/popular-nearby/model",function(e,t,i){"use strict";_i_("4ab:5efcbf7c");var a=e("server-data");function n(e){_i_("4ab:6ff3478d"),this.model=e,this.modelInit(),_r_()}$.extend(n.prototype,{getPopularNearbySuggestions:function(){if(_i_("4ab:97b936b0"),this.formattedData)return _r_(this.formattedData);if(this.rawData&&this.rawData.length)return this.rawData=this.rawData.slice(0,5),this.formattedData=this.rawData.filter(function(e){return _i_("4ab:268335d0"),_r_(e.name&&e.country)}).map(function(e){return _i_("4ab:def56af1"),_r_({label:e.name,ss:[e.name,e.country].join(", "),labels:[{dest_id:e.dest_id,type:e.dest_type,text:e.name},{dest_id:e.dest_id,type:e.dest_type,text:e.country}],dest_type:e.dest_type,dest_id:e.dest_id,b_max_los_data:e.max_los_data,isPopularNearby:!0})}),this.formattedData[0]&&a.fe_popular_destinations_nearby_title&&(this.formattedData[0].section_title=a.fe_popular_destinations_nearby_title,this.formattedData[0].section_title_class="sb-popular-nearby-title"),_r_(this.formattedData);_r_()},modelInit:function(){_i_("4ab:560d951a"),this.rawData=a.fe_popular_destinations_nearby,_r_()}}),i.exports=n,_r_()}),B.define("search/recent-search/model",function(e,t,i){"use strict";_i_("4ab:b47a8cc0");var a=e("server-data");function n(e){_i_("4ab:fede0c9a"),this.model=e,this.modelInit(),_r_()}$.extend(n.prototype,{getRecentSearchSuggestions:function(){if(_i_("4ab:df406233"),this.formattedData)return _r_(this.formattedData);if(this.rawData&&this.rawData.length){var i=[];return this.rawData.filter(function(e){return _i_("4ab:9cfb6757"),_r_(e.b_dest_short_name)}).flatMap(function(t){_i_("4ab:76240c4d"),t.b_dates.map(function(e){_i_("4ab:c86ca836"),i.push({label:t.b_dest_short_name,ss:t.b_dest_short_name,labels:[{dest_id:t.b_dest_id,type:t.b_dest_type,text:t.b_dest_short_name},{dest_id:t.b_dest_id,type:t.b_dest_type}],dest_type:"recent-search",dest_id:t.b_dest_id,date:e,isRecentSearch:!0}),_r_()}),_r_()}),this.formattedData=i.slice(0,5),this.formattedData[0]&&a.fe_recent_search_title&&(this.formattedData[0].section_title=a.fe_recent_search_title,this.formattedData[0].section_title_class="sb-recent-search-title"),_r_(this.formattedData)}_r_()},modelInit:function(){_i_("4ab:7a8bd6a5"),this.rawData=a.fe_recent_search,_r_()}}),i.exports=n,_r_()}),function(){_i_("4ab:99d47306");var o=1;B.when({action:"index",events:"ready",condition:B.env.fe_recent_search_cond}).run(function(e){_i_("4ab:8a408d12");var t,i=e("et"),a=e("search/searchbox/events"),n=$("#ss").closest("form");function s(e){_i_("4ab:d18e6e24"),e?(t=$('<input type="hidden" value="1" name="is_recent_search" />'),n.append(t)):t&&t.remove(),_r_()}a.on(a.SEARCHBOX_DESTINATION_SELECTED,function(e){_i_("4ab:39eec20f"),e&&e.destination&&e.destination.isRecentSearch?(i.customGoal("cCHObXKeNJfOEJcCcCcCC",o),s(!0)):s(!1),_r_()}),_r_()}),_r_()}(),B.define("component/search/entire-place-checkbox",function(e,t,i){"use strict";_i_("4ab:45073832");var a=e("component"),n=e("search/searchbox/model"),s=e("search/searchbox/events"),o="privacy_type=3",r="privacy_type_no_date=3";i.exports=a.extend({init:function(){_i_("4ab:3fc0a5a1");var e=this.$el.closest("form"),t=e.attr("data-sb-id");if(this.$checkbox=this.$el.find("[name=sb_entire_place]"),!this.$checkbox.length||!t)return _r_();this.model=n.getInstance(e.attr("data-sb-id")),s.on(s.SEARCHBOX_SUBMIT_SUCCESS,this.updateHiddenFields.bind(this)),_r_()},updateHiddenFields:function(){_i_("4ab:65daace2"),this.$el.is(":visible")&&this.$checkbox.prop("checked")?this.model.setFields("filters",[{name:"nflt",value:[o,r].join(";")}]):this.model.setFields("filters",[]),this.model.emit("change",{}),_r_()}}),_r_()}),_i_("4ab:2280c42a"),B.define("searchbox/dynamic-los-per-dest-tracking-batches",function(e,t,i){_i_("4ab:19e95599");var a=e("et"),n=e("server-data"),s=1,o=2,r=3,_=4,l=5,d=6,h=7,c=8,u=9,f={MDOT:"mdot",DESKTOP:"desktop"};i.exports={SITE_TYPES:f,trackAttemptSearchingForExtendedLos:function(e,t,i){if(_i_("4ab:2c2a50e3"),!i)return _r_();a.stage(i,o),t===f.MDOT?a.stage(i,d):t===f.DESKTOP&&a.stage(i,l),"index"===n.b_action&&a.stage(i,h),"searchresults"===n.b_action&&a.stage(i,c),"hotel"===n.b_action&&a.stage(i,u),(n.b_user_is_genius||n.b_reg_user_is_genius)&&a.stage(i,r),n.b_is_landing&&a.stage(i,_),_r_()},trackSearchExtendedUfi:function(e){_i_("4ab:b8b58ee9"),e&&a.stage(e,s),_r_()},trackExperiment:function(e){if(_i_("4ab:4ea26fdf"),e)return _r_(a.track(e));return _r_(0)}},_r_()}),_r_(),_i_("4ab:8f5d334a"),B.when({events:"ready"}).run(function(e){_i_("4ab:8cb598fc");var t=e("server-data"),i=e("search/searchbox/model").getInstance("main");i.use("destination"),i.use("dates");var a=i.destination,n=i.dates,s=t.b_max_los_data_for_prefilled_dest||{},o=e("searchbox/dynamic-los-per-dest-tracking-batches");function r(){return _i_("4ab:67942058"),_r_(parseInt(s.default_los||0,10)||n.getOption("maxLos"))}function _(){_i_("4ab:77fb5ad4");var e=r(),t=(_i_("4ab:48ef3014"),_r_(parseInt(s.max_allowed_los||0,10))||e),i=n.getOption("maxLos"),a=t;n.configure("maxLos",a),i!==a&&n.validate({force:!0}),_r_()}_(),i.on("change",function(e){_i_("4ab:20973cc8"),e&&"destination"===e.group&&(s=a.data.max_los_data||{},_()),_r_()}),i.on("validation:lengthOfStay",function(e){_i_("4ab:ea9ac6ee"),e&&"dates"===e.group&&e.lengthOfStay&&function(e){_i_("4ab:836d34d5");var t=(_i_("4ab:0b2558ac"),_r_(s.has_extended_los?s.experiment:"")),i=r();e&&t&&(o.trackSearchExtendedUfi(t),i<e&&o.trackAttemptSearchingForExtendedLos(e,o.SITE_TYPES.DESKTOP,t)),_r_()}(e.lengthOfStay),_r_()}),_r_()}),_r_(),B.define("search/searchbox/analytics",function(e,a,t){_i_("4ab:67a7982e");var n={};a.send=function(e,t,i){if(_i_("4ab:47f6d2f8"),!window.ga)return _r_();window.ga("send","event","Searchbox",B.env.b_action,e,t,i),_r_()},a.sendNonInteractive=function(e,t){_i_("4ab:953c321e"),a.send(e,t,{nonInteraction:!0}),_r_()},a.sendOnce=function(e,t){_i_("4ab:b77ab645");var i=e+":"+t;n[i]||(a.send(e,t),n[i]=!0),_r_()},_r_()}),B.define("search/searchbox/bind-events",function(e,t,i){_i_("4ab:b857c550");var a=e("search/searchbox/events"),n={change:{group:a.SEARCHBOX_GROUP_SELECTED,dates:a.SEARCHBOX_DATES_SELECTED}};i.exports={init:function(t){function e(e,i){_i_("4ab:0caa09d5"),t.on(e,function(e){for(var t in _i_("4ab:e37760d9"),i)e&&e.group===t&&a.emit(i[t],e);_r_()}),_r_()}for(var i in _i_("4ab:130a3d7d"),n)e(i,n[i]);_r_()}},_r_()}),B.define("search/searchbox/model",function(d,e,t){"use strict";_i_("4ab:0c7e3af6");var i=d("event-emitter"),a=d("search/modules/flags"),n=d("search/searchbox/bind-events"),s={};function o(e){_i_("4ab:e909045c"),i.extend(this),this.id=e,this.formAction,this.fieldGroups={track:[]},this.flags={},this.validators=[],this.mode="",n.init(this),_r_()}$.extend(o.prototype,{use:function(e){if(_i_("4ab:2410f65b"),this[e])return _r_();switch(e){case"destination":var t=d("search/destination/model");this[e]=new t(this);break;case"origin":var i=d("search/destination/model");this[e]=new i(this);break;case"dates":var a=d("search/dates/model");this[e]=new a(this);break;case"group":var n=d("search/group/model");this[e]=new n(this);break;case"driverAge":var s=d("search/driver-age/model");this[e]=new s(this);break;case"flights":var o=d("search/flights/model");this[e]=new o(this);break;case"popularNearby":var r=d("search/popular-nearby/model");this[e]=new r(this);break;case"recentSearch":var _=d("search/recent-search/model");this[e]=new _(this);break;default:return _r_()}if("function"==typeof this[e].validate){var l=this[e]._options?this[e]._options:this[e].options;l||(l={}),this.validators.push(this[e].validate.bind(this[e],l))}_r_()},submit:function(){_i_("4ab:419d3960"),this.emit("submit"),_r_()},getFormAction:function(){return _i_("4ab:2bb3fc7a"),_r_(this.formAction)},setFormAction:function(e){_i_("4ab:ffab2309"),this.formAction=e,_r_()},getFields:function(){_i_("4ab:d1d8fd96");var t=[];return Object.keys(this.fieldGroups).forEach(function(e){_i_("4ab:2ea4b695"),Array.isArray(this.fieldGroups[e])&&(t=t.concat(this.fieldGroups[e])),_r_()}.bind(this)),_r_(t)},setFields:function(e,t){_i_("4ab:ac5771fa"),this.fieldGroups[e]=t,_r_()},getMode:function(){return _i_("4ab:2e4cae8d"),_r_(this.mode)},setMode:function(e){_i_("4ab:112fc3f2"),this.mode=e,this.emit("change-mode",e),_r_()},hasFlag:function(e){return _i_("4ab:a263e608"),_r_(e in this.flags)},getFlag:function(e){return _i_("4ab:ab8b5c0e"),_r_(this.flags[e])},updateFlags:function(e){_i_("4ab:3466ef2a");var t=a.parse(e);Object.assign(this.flags,t),_r_()},validate:function(){_i_("4ab:608d75f9");var e=this.validators.filter(function(e){return _i_("4ab:e68ae526"),_r_(e.call())});return _r_(e.length==this.validators.length)}}),t.exports={getInstance:function(e){return _i_("4ab:89ca5159"),s[e]||(s[e]=new o(e)),_r_(s[e])}},_r_()}),B.define("search/searchbox/events",function(e,t,i){"use strict";_i_("4ab:8849c959");var a=new(e("event-emitter"));return a.SEARCHBOX_SUBMIT_SUCCESS="searchbox_submit_success",a.SEARCHBOX_DESTINATION_SELECTED="searchbox_destination_selected",a.SEARCHBOX_DATES_SELECTED="searchbox_dates_selected",a.SEARCHBOX_GROUP_SELECTED="searchbox_group_selected",a.SEARCHBOX_AUTOCOMPLETE_TRIGGERED="searchbox_autocomplete_triggered",_r_(a)}),B.define("search/searchbox/ga-events-tracker",function(e,t,i){"use strict";_i_("4ab:4a6df708");var n=e("ga-tracker"),s=e("server-data"),a=function(){};Object.assign(a.prototype,{track:function(e,t,i){_i_("4ab:f915f641");var a=["Searchbox",s.b_action,"["+e+"] "+t,i];n.trackEvent.apply(n,a),_r_()},trackError:function(e){},trackEvent:function(e){return _i_("4ab:f97d23f5"),_r_(this.track("interaction",e))}}),i.exports=new a,_r_()}),B.define("component/search/searchbox/searchbox",function(i,e,t){"use strict";_i_("4ab:293e41f9");var a=i("server-data"),n=i("component"),s=i("search/searchbox/model"),o=i("read-data-options"),r=i("search/searchbox/events"),_=!1,l=["country","dest_id","dest_type","district","iata","landmark","latitude","longitude","place_id","place_id_lat","place_id_lon","region","prefill_submitted"];t.exports=n.extend({init:function(){(_i_("4ab:3d0009fd"),this.hiddenFields=[],this.options=o(this.$el,{modelId:{name:"sb-id",type:String,required:!0},flags:{name:"sb-flags",type:String,defaultValue:""},isFirstVisible:{name:"is-first-visible",type:Boolean},skipHpRefresh:{name:"skip-hp-refresh",type:Boolean},showOverlayOnSubmit:{name:"show-overlay-on-submit",type:Boolean},actionForGroup:{name:"sb-action-for-group",type:String,defaultValue:""},changeCtaCopyOnInputChange:{name:"change-cta-copy-on-input-change",type:String,defaultValue:""}}),this.model=s.getInstance(this.options.modelId),this.model.on("init",this.modelChange.bind(this)),this.model.on("change",this.modelChange.bind(this)),this.model.on("submit",this.modelSubmit.bind(this)),this.model.updateFlags(this.options.flags),this.$form=this.$el.is("form")?this.$el:this.$el.find("form:eq(0)"),this.$form.submit(this.formSubmit.bind(this)),this.originalAction=this.$form.attr("action"),this.options.isFirstVisible&&this.model.hasFlag("sticky"))&&i("search/searchbox/searchbox-sticky-controller").getController().setElement(this.$form);this.model.hasFlag("sticky")&&this.model.hasFlag("deny_focus")&&this.$el.get(0)&&this.model.getFlag("deny_focus")&&new(i("search/searchbox/searchbox-deny-focus-controller"))(this.$el.get(0));this.model.hasFlag("sb_is_sticky")&&new(i("search/searchbox/searchbox-sticky-controller-v2"))({el:this.el,model:this.model});this.$searchOverlay=this.$el.find("[data-searching-overlay]"),this.shouldShowSearchOverlay=this.model.getFlag("AEJPAcBacPONDcFGHT")&&this.$searchOverlay.length,this.shouldShowSearchOverlay&&(this.$searchOverlay.on("click",this.searchOverlayClick.bind(this)),$(document).on("keydown",this.hideSearchOverlay.bind(this))),this.initCurrentCountryField();var e=$(".sb-searchbox-horizontal__dismissible-btn");if(e.length&&!_){var t=e.parents(".sb-searchbox-horizontal");_=!0,e.click(function(){_i_("4ab:14063a32"),t.hasClass("hidden")?t.removeClass("hidden"):t.addClass("hidden"),_r_()})}"www"==a.b_site_type&&this.model.setFields("sr_traffic",[{name:"from_sf",value:1}]),B.env.b_force_dates&&(this.model.setFields("sr_user_modifications",[{name:"user_changed_date",value:0}]),B.eventEmitter.on("FORM:user-changes",function(e,t){_i_("4ab:53b96069"),this.model.setFields("sr_user_modifications",[{name:"user_changed_"+t.type,value:1}]),this.updateHiddenFields(),_r_()}.bind(this))),function(){_i_("4ab:a0e886d7");var t=function(e){_i_("4ab:5df413d1"),this.options.changeCtaCopyOnInputChange&&e&&("dates"!==e.group||"checkout"===e.type)&&(this.$form.find(".js-sb-submit-text").html(this.options.changeCtaCopyOnInputChange),this.model.off("change",t)),_r_()}.bind(this);this.model.on("change",t),_r_()}.bind(this)(),_r_()},modelChange:function(e){_i_("4ab:c04d9e85"),this.updateHiddenFields(),_r_()},modelSubmit:function(){_i_("4ab:4d3a9c94"),this.$form.submit(),_r_()},initCurrentCountryField:function(){_i_("4ab:9332a9cc");var e=!1;this.$onlyCurrentCountry=this.$form.find("#limit-search-area"),this.$onlyCurrentCountry.length&&(e=this.$onlyCurrentCountry.is(":checked"),this.$onlyCurrentCountry.bind("change",this.onlyCurrentCountryChange.bind(this)),this.model.use("destination"),this.model.destination.initOnlyCurrentCountry(e)),_r_()},onlyCurrentCountryChange:function(){_i_("4ab:084694bf"),this.model.use("destination"),this.model.destination.setOnlyCurrentCountry(this.$onlyCurrentCountry.is(":checked")),_r_()},updateHiddenFields:function(){_i_("4ab:97e4be09");var e=this.model.getFormAction(),t=this.$form.attr("action");e||(e=this.originalAction),t!=e&&this.$form.attr("action",e),this.hiddenFields&&this.hiddenFields.forEach(function(e){_i_("4ab:cb94b31b"),e.$node.remove(),e.$node=null,_r_()});var i=this.model.getFields();this.hiddenFields=[];var a=[],n=!1;i.forEach(function(e){_i_("4ab:524ac3a4"),this.hiddenFields.push({name:e.name,value:e.value}),a.push(e.name),-1!=l.indexOf(e.name)&&(n=!0),_r_()}.bind(this)),this.$form.find("input").filter(function(){return _i_("4ab:db7cc3c8"),_r_(n&&-1!=l.indexOf(this.name)||-1!=a.indexOf(this.name))}).remove(),this.hiddenFields.forEach(function(e){_i_("4ab:11542117");var t=$("<input>");t.attr("type","hidden"),t.attr("name",e.name),t.attr("value",e.value),e.$node=t,this.$form.append(t),_r_()}.bind(this)),_r_()},selectFirstFromAutocomplete:function(){_i_("4ab:0468afb5");var e=this.model.destination&&this.model.destination.ac;e&&!e.selected&&e.dataset&&e.dataset.length&&this.model.destination.set(e.dataset[0]),_r_()},formSubmit:function(e){if(_i_("4ab:28b93efe"),!this.model.validate())return e.preventDefault(),_r_();r.trigger(r.SEARCHBOX_SUBMIT_SUCCESS,this),this.shouldShowSearchOverlay?this.showSearchOverlay():this.shouldShowSearchPageOverlay?this.pageOverlay.show(this.model.destination.data.ss_raw):this.shouldShowSRPP&&this.SRPPOverlay.show(this.model.destination.data.ss_raw),this.options.actionForGroup&&this.model.group&&"function"==typeof this.model.group.isGroupSearch&&this.model.group.isGroupSearch()&&this.$form.attr("action",this.options.actionForGroup),this.selectFirstFromAutocomplete(),_r_()},searchOverlayClick:function(){_i_("4ab:212f5c38"),this.abortSubmit(),this.hideSearchOverlay(),B.et.customGoal("AEJPAcBacPONDcFGHT",1),_r_()},abortSubmit:function(){_i_("4ab:c57d5cae"),window.stop?window.stop():document.execCommand&&document.execCommand("Stop"),_r_()},showSearchOverlay:function(){_i_("4ab:a7b810f1"),this.$searchOverlay.addClass("-visible"),_r_()},hideSearchOverlay:function(){_i_("4ab:ae61912d"),this.$searchOverlay.removeClass("-visible"),_r_()}}),_r_()}),B.define("search/searchbox/searchbox-sticky-controller",function(e,t,i){"use strict";_i_("4ab:63496668");var a=e("jquery"),n=e("event-emitter"),s=null;function o(){_i_("4ab:2e970a1c"),n.extend(this),this.visible=!1,this.bottomPosition=null,this.$el=null,this.$sticky=null,this.$window=a(window),this.$window.on("scroll",this.windowScroll.bind(this)),this.$window.on("keydown",this.onKeyDown.bind(this)),this.$window.on("click",this.clickOnWindow.bind(this)),_r_()}Object.assign(o.prototype,{setElement:function(e){if(_i_("4ab:92ba9383"),this.bottomPosition){var t=e.offset(),i=e.outerHeight();if(t&&t.top+i>this.bottomPosition)return _r_()}this.$el=e,this.recalculate(),_r_()},setStickyElement:function(e){_i_("4ab:b73c45bc"),this.$sticky=e,_r_()},isVisible:function(){return _i_("4ab:cc445ed2"),_r_(this.visible)},recalculate:function(){if(_i_("4ab:c603101a"),null===this.$el)return _r_();var e=this.$el.offset(),t=this.$el.outerHeight();if(!e)return _r_();this.bottomPosition=e.top+t,this.updateStatus(),_r_()},show:function(){_i_("4ab:874c707c"),this.visible=!0,this.emit("show"),_r_()},onKeyDown:function(e){_i_("4ab:c91f489a"),27===e.keyCode&&this.visible&&this.updateStatus(),_r_()},clickOnWindow:function(e){if(_i_("4ab:a1d20162"),this.$sticky&&this.$sticky.length){var t=e.target,i=this.$sticky.get(0);!(a.contains(i,t)||i===t)&&this.visible&&this.updateStatus()}_r_()},updateStatus:function(){_i_("4ab:e7cec903"),!this.visible&&this.$window.scrollTop()>=this.bottomPosition?(this.visible=!0,this.emit("show")):this.visible&&this.$window.scrollTop()<this.bottomPosition&&(this.visible=!1,this.emit("hide")),_r_()},windowScroll:function(e){if(_i_("4ab:65bfc59a"),null===this.bottomPosition)return _r_();this.updateStatus(),_r_()}}),i.exports={getController:function(){return _i_("4ab:b7cb9ba8"),s||(s=new o),_r_(s)}},_r_()}),B.define("component/search/searchbox/searchbox-sticky",function(e,t,i){"use strict";_i_("4ab:589e78cf");var a=e("component"),n=e("events"),s=e("search/searchbox/searchbox-sticky-controller").getController();i.exports=a.extend({init:function(){_i_("4ab:b057c357"),s.on("show",this.show.bind(this)),s.on("hide",this.hide.bind(this)),s.setStickyElement(this.$el),s.isVisible()&&this.hardShow(),_r_()},show:function(e){_i_("4ab:85085336"),this.$el.addClass("-visible-1"),n.trigger("searchbox-sticky:show"),setTimeout(function(){_i_("4ab:54c5e049"),this.$el.addClass("-visible-2"),_r_()}.bind(this),0),_r_()},hardShow:function(){_i_("4ab:3835991a"),this.$el.addClass("-visible-1 -visible-2"),_r_()},hide:function(e){_i_("4ab:fc5db946"),this.$el.removeClass("-visible-2"),setTimeout(function(){_i_("4ab:e755c765"),this.$el.removeClass("-visible-1"),_r_()}.bind(this),1e3),_r_()}}),_r_()}),B.define("search/searchbox/searchbox-deny-focus-controller",function(e,t,i){"use strict";_i_("4ab:92b4d540");var a=e("jquery"),n=e("deny-focus");function s(e){_i_("4ab:947d6856"),this.el=e,this.state=null,this._timeoutId=null,this.deny();var t=this.eventHandler.bind(this);a(this.el).on("focus change blur","a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), *[tabindex], *[contenteditable]",t),B.eventEmitter.bind("CALENDAR:dates_changed CALENDAR:dayclick",t),_r_()}(s.prototype=s.prototype||{}).eventHandler=function(e){_i_("4ab:3e534ed6"),this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=null,"focusout"===e.type||"blur"===e.type?this._timeoutId=setTimeout(this.deny.bind(this),100):this.allow(),_r_()},s.prototype.deny=function(){if(_i_("4ab:30d89ddb"),"deny"===this.state)return _r_();this.state="deny",n.deny(this.el),_r_()},s.prototype.allow=function(){if(_i_("4ab:3068ba21"),"allow"===this.state)return _r_();this.state="allow",n.allow(this.el),_r_()},i.exports=s,_r_()}),B.define("search/searchbox/searchbox-sticky-controller-v2",function(e,t,i){_i_("4ab:15a6c8e3");var a=e("jquery"),n=e("et"),s="sb-searchbox-sticky-v2--sticky",o="sb-searchbox-sticky-v2",r="sb-searchbox-sticky-v2--blue-bg",_=".js--sb-fieldset",l="[data-sb-outer]",d=a(window),h=a("body");function c(t,i,a){_i_("4ab:d846bf0f");var n=0;return _r_(function(){_i_("4ab:7c38f485");var e=arguments;if(n)return _r_();n=setTimeout(function(){_i_("4ab:f725512b"),t.apply(a||null,e),n=null,_r_()},i),_r_()})}function u(e){if(_i_("4ab:491cfe66"),this.el=e.el,this.$el=a(this.el),!this.$el.is(":visible"))return _r_();this.model=e.model,this.$outer=this.$el.closest(l),this.$fieldset=this.$el.find(_),this.addElementClasses(),this.getElementsToHide(),this.setShowPosition(),this.isSticky=!1,this.expVariant=this.model.getFlag("sb_is_sticky"),this.expHash="BPHAUaQJbAYRKZZEDRHe",this.throttledSetPosition=c(this.setShowPosition,150,this),this.throttledScrollHandler=c(this.scrollHandler,50,this),d.on("resize orientationchange",this.throttledSetPosition),d.on("scroll",this.throttledScrollHandler),this.model.on("change",this.onModelChange.bind(this)),_r_()}u.prototype.addElementClasses=function(){_i_("4ab:ff407356");var e=this.model.getFlag("sb_is_sticky"),t=[];e&&t.push(o),2===e&&t.push(r),t.length&&this.$outer.addClass(t.join(" ")),_r_()},u.prototype.getElementsToHide=function(){_i_("4ab:195f7c8a");var e=this.$el.siblings(":visible"),t=this.$fieldset.siblings(":visible");this.$elementsToHide=a().add(e).add(t),_r_()},u.prototype.setShowPosition=function(){_i_("4ab:2351df84");var e=this.$fieldset.offset();this.showScrollPosition=Math.ceil(e.top)+-8,_r_()},u.prototype.scrollHandler=function(){if(_i_("4ab:b0bfd7df"),d.scrollTop()>this.showScrollPosition){if(n.stage(this.expHash,1),0===this.expVariant)return d.off("resize orientationchange",this.throttledSetPosition),d.off("scroll",this.throttledScrollHandler),_r_();this.stick()}else this.unstick();_r_()},u.prototype.onModelChange=function(){_i_("4ab:601ab990"),n.customGoal(this.expHash,1),_r_()},u.prototype.stick=function(){if(_i_("4ab:0107b82e"),this.isSticky)return _r_();this.$outer.addClass(s),this.$elementsToHide.hide(),h.trigger("click"),this.isSticky=!0,_r_()},u.prototype.unstick=function(){if(_i_("4ab:092ceb3f"),!this.isSticky)return _r_();this.$outer.removeClass(s),this.$elementsToHide.show(),this.isSticky=!1,_r_()},i.exports=u,_r_()}),B.define("component/search/group/children-ages-tooltip",function(e,t,i){"use strict";_i_("4ab:1180b90f");var a=e("jquery"),n=e("jstmpl"),s=e("component"),o=e("events");i.exports=s.extend({init:function(){_i_("4ab:1bcc6f96"),this.dropdown=!1,this.$form=this.$el.closest("form"),this.isPopupAlreadyShown=!1,this.agesSelector='[name="age"]',this.addEventListeners(),_r_()},addEventListeners:function(){_i_("4ab:78a92d5b"),this.$el.change(this.showTooltip.bind(this)),this.$form.delegate(this.agesSelector,"click",this.hideTooltip.bind(this)),B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip.bind(this)),void 0!==B.hotel.Events&&(o.on(B.hotel.Events.RT.LIGHTBOX_CLOSE,this.hideTooltip.bind(this)),o.on(B.hotel.Events.RT.LIGHTBOX_OPEN,this.hideTooltip.bind(this))),_r_()},showTooltip:function(){if(_i_("4ab:10f5947b"),0<parseInt(this.$el.val())&&!this.isPopupAlreadyShown)var t=setTimeout(function(){_i_("4ab:34edfb53");var e=this.$form.find(this.agesSelector).eq(0);if(0===e.length)return _r_();this.dropdown=a.fly.dropdown.extend({defaults:{position:"bottom left",content:function(){return _i_("4ab:bda46a69"),_r_(n("searchbox_children_ages_tooltip").render({}))},extraClass:"searchbox_children_ages_tooltip"}}).create(e[0]),this.dropdown.show(),this.isPopupAlreadyShown=!0,clearTimeout(t),_r_()}.bind(this),0);_r_()},hideTooltip:function(){_i_("4ab:f7ccaced"),this.dropdown&&(this.dropdown.hide(),this.dropdown.destroy()),_r_()}}),_r_()}),B.define("component/search/group/add-children-tooltip",function(e,t,i){"use strict";_i_("4ab:58105ed7");var a=e("jquery"),n=B.env.rtl?"left":"right",s="searchbox_children_tooltip",o=null,r=null===B.browserStorageHandler.getSessionValue("gs_sb_add_children_tooltip"),_=e("component");i.exports=_.extend({init:function(){_i_("4ab:b89a9bb1"),r&&this.$el.data("add-children-tooltip")&&(this.showTooltip(),B.browserStorageHandler.addSessionValue("gs_sb_add_children_tooltip",1),r=!1,B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip),a(".sb-destination__input").on("focus",this.hideTooltip)),_r_()},showTooltip:function(){_i_("4ab:e0be224a");var e=this.$el;o&&o.hide(),(o=a.fly.dropdown.extend({defaults:{position:n,content:function(){return _i_("4ab:bd350a17"),_r_(e.data("add-children-tooltip"))},extraClass:s},actions:{click:function(e){_i_("4ab:fe76b345"),a(e.target).is("select")&&this.hide(),_r_()}},_autohide:function(){},init:function(){_i_("4ab:6e9a028f"),this.bind(this.events.show,function(){_i_("4ab:7720bd99"),a("."+s).delegate(".fly-dropdown-close","click",function(e){_i_("4ab:edc671d6"),o.hide(),_r_()}),_r_()}),_r_()}}).create(e)).show(),_r_()},hideTooltip:function(){_i_("4ab:ed78e032"),o&&o.hide(),_r_()}}),_r_()}),B.define("component/search/group/occupancy-pricing-tooltip",function(e,t,i){"use strict";_i_("4ab:42203ac0");var a=e("jquery"),n=B.env.rtl?"left":"right",s="sb-searchbox__obp-tooltip",o=null,r=null===B.browserStorageHandler.getSessionValue("sr_sb_obp_tooltip"),_=e("component");i.exports=_.extend({init:function(){_i_("4ab:ad805250"),r&&this.$el.data("occupancy-pricing-tooltip")&&(this.showTooltip(),B.browserStorageHandler.addSessionValue("sr_sb_obp_tooltip",1),r=!1,B.eventEmitter.bind("CALENDAR:opened",this.hideTooltip),a(".sb-destination__input").on("focus",this.hideTooltip)),_r_()},showTooltip:function(){_i_("4ab:fecbebd4");var e=this.$el;o&&o.hide(),(o=a.fly.dropdown.extend({defaults:{position:n,content:function(){return _i_("4ab:5038674f"),_r_(e.data("occupancy-pricing-tooltip"))},extraClass:s},actions:{click:function(e){_i_("4ab:fe76b3451"),a(e.target).is("select")&&this.hide(),_r_()}},_autohide:function(){},init:function(){_i_("4ab:6e9a028f1"),this.bind(this.events.show,function(){_i_("4ab:7720bd991"),a("."+s).delegate(".fly-dropdown-close","click",function(e){_i_("4ab:edc671d61"),o.hide(),_r_()}),_r_()}),_r_()}}).create(e)).show(),_r_()},hideTooltip:function(){_i_("4ab:ed78e0321"),o&&o.hide(),_r_()}}),_r_()}),booking.jstmpl("guest_errors",function(){_i_("4ab:6701dde3");var n=["\n\t","\n\t\t","/private/iq_sbox_error_flights_group_size/name","\n\n\t","\n\n\n\n\n\n\n","\n\n    ","\n        ","data-",'="','"',"\n    "," data-",'<div data-component="onview-animate" data-anim-type="fadeInBottom"> ','<div class="fe_banner fe_banner__accessible ',"fe_banner__scale_small ","fe_banner__w-icon ","fe_banner__w-dismiss ","fe_banner__"," ","fe_banner__w-icon-","fe_banner__bp fe_banner__inherit_font_size ",' " ','id="','" ','role="alert"',"> ",'<i class="fe_banner__icon ','" aria-hidden="true"></i> ','<img class="fe_banner__icon" src="','"> ','<span class="',"fe_banner__icon"," </span> ",'<div class="fe_banner__btn_container"> <div class="fe_banner__btn_container_content"> ','<h3 class="fe_banner__title"> '," </h3> ",'<div class="fe_banner__message"> '," </div> ",'</div> <div class="fe_banner__button"> ',"</div> ",'<span class="fe_banner__dismiss js-close" role="button" tabindex="1" aria-label="',"/private/a11y_cta_close_banner_new/name",'"><i class="bicon-btnclose"></i></span> ',"\n","\n\n\n\n","\n\n","0","red"],s=["fe_error_message","fe_banner__data","fe_banner__data_id","fe_banner__data_value","fe_banner__data_id_2","fe_banner__data_value_2","fe_banner__data_id_3","fe_banner__data_value_3","fe_banner__data_id_4","fe_banner__data_value_4","fe_banner__data_id_5","fe_banner__data_value_5","fe_banner__animate","fe_banner__scale","fe_banner__icon_class","fe_banner__icon_img_url","fe_banner__icon_svg","fe_banner__close_button","fe_banner__color_scheme","fe_banner__color_scheme_classes","fe_banner__icon_size","b_action","fe_banner__extra_classes","fe_banner__id","fe_banner__aria_alert","fe_banner__icon_svg_class","fe_banner__btn_include","fe_banner__title_text","fe_banner__message_text","fe_banner__banners_count","fe_error"];return _r_(function(e){_i_("4ab:30a6c702");var t,i="",a=this.fn;return i+=n[0],t=i,_i_("4ab:8967a3b1"),a.MJ(a.MB(s[30]))&&(t+=n[0],a.MN(s[0],[n[1],a.ME(n[2],a.MB,a.MN,null),n[0]].join("")),t+=n[3],e.unshift({fe_banner__close_button:n[46],fe_banner__color_scheme:n[47],fe_banner__message_text:a.MB(s[0])}),t=function(e){if(_i_("4ab:cd13a61d"),e+=["",n[4]].join(""),a.MD(s[28])){e+=n[5],a.MD(s[2])&&(e+=n[6],a.MN(s[1],[n[7],a.MB(s[2]),n[8],a.MB(s[3]),n[9]].join("")),e+=n[10]),e+=n[5],a.MD(s[4])&&(e+=n[6],a.MN(s[1],[a.MB(s[1]),n[11],a.MB(s[4]),n[8],a.MB(s[5]),n[9]].join("")),e+=n[10]),e+=n[5],a.MD(s[6])&&(e+=n[6],a.MN(s[1],[a.MB(s[1]),n[11],a.MB(s[6]),n[8],a.MB(s[7]),n[9]].join("")),e+=n[10]),e+=n[5],a.MD(s[8])&&(e+=n[6],a.MN(s[1],[a.MB(s[1]),n[11],a.MB(s[8]),n[8],a.MB(s[9]),n[9]].join("")),e+=n[10]),e+=n[5],a.MD(s[10])&&(e+=n[6],a.MN(s[1],[a.MB(s[1]),n[11],a.MB(s[10]),n[8],a.MB(s[11]),n[9]].join("")),e+=n[10]),e+=n[5],a.MD(s[12])&&(e+=n[12]),e+=n[13];var t=a.MB(s[13]);a.MJ(t+""=="small")&&(e+=n[14]),(a.MJ(a.MB(s[14]))||a.MJ(a.MB(s[15]))||a.MJ(a.MB(s[16])))&&(e+=n[15]),a.MD(s[17])&&(e+=n[16]),a.MJ(a.MB(s[18]))&&(e+=[n[17],a.F.entities(a.MC(s[18])),a.F.entities(a.MC(s[19])),n[18]].join("")),a.MJ(a.MB(s[14]))&&a.MJ(a.MB(s[20]))&&(e+=[n[19],a.F.entities(a.MC(s[20])),n[18]].join("")),(a.MJ(a.MC(s[21])+""=="book")||a.MJ(a.MC(s[21])+""=="tpi_book"))&&(e+=n[20]),e+=[a.F.entities(a.MC(s[22])),n[21]].join(""),a.MD(s[23])&&(e+=[n[22],a.F.entities(a.MC(s[23])),n[23]].join("")),a.MD(s[1])&&(e+=[a.MC(s[1]),n[18]].join("")),a.MD(s[24])&&(e+=n[24]),e+=n[25],a.MD(s[14])?e+=[n[26],a.F.entities(a.MC(s[14])),n[27]].join(""):a.MD(s[15])?e+=[n[28],a.F.entities(a.MC(s[15])),n[29]].join(""):a.MD(s[16])&&(e+=n[30],a.MD(s[25])?e+=a.F.entities(a.MC(s[25])):e+=n[31],e+=[n[29],a.MC(s[16]),n[32]].join("")),a.MD(s[26])&&(e+=n[33]),a.MD(s[27])&&(e+=[n[34],a.MC(s[27]),n[35]].join("")),a.MD(s[28])&&(e+=[n[36],a.MC(s[28]),n[37]].join("")),a.MD(s[26])&&(e+=[n[38],a.MC(s[26]),n[37]].join("")),a.MD(s[26])&&(e+=n[39]),a.MD(s[17])&&(e+=[n[40],a.ME(n[41],a.MB,a.MN,null),n[42]].join("")),e+=n[39],a.MD(s[12])&&(e+=n[39]),e+=n[43]}return e+=n[44],a.MN(s[18],void 0),e+=n[43],a.MN(s[14],void 0),e+=n[43],a.MN(s[15],void 0),e+=n[43],a.MN(s[16],void 0),e+=n[43],a.MN(s[20],void 0),e+=n[43],a.MN(s[27],void 0),e+=n[43],a.MN(s[28],void 0),e+=n[43],a.MN(s[26],void 0),e+=n[43],a.MN(s[17],void 0),e+=n[43],a.MN(s[23],void 0),e+=n[43],a.MN(s[22],void 0),e+=n[43],a.MN(s[13],void 0),e+=n[45],a.MN(s[2],void 0),e+=n[43],a.MN(s[3],void 0),e+=n[43],a.MN(s[4],void 0),e+=n[43],a.MN(s[5],void 0),e+=n[43],a.MN(s[6],void 0),e+=n[43],a.MN(s[7],void 0),e+=n[43],a.MN(s[8],void 0),e+=n[43],a.MN(s[9],void 0),e+=n[43],a.MN(s[10],void 0),e+=n[43],a.MN(s[11],void 0),e+=n[45],a.MN(s[19],void 0),e+=n[45],a.MN(s[1],void 0),e+=n[43],a.MN("fe_banner__banners_count",a.MI(a.MB(s[29]))+a.MI(1)),e+=n[45],a.MJ(a.MC(s[21])+""=="book")&&a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",2))?e+=n[43]:a.MJ(a.track_experiment_stage("HBaMEAbXDMUBdOYZbKZTSfXPRQYO",1))&&(e+=n[43]),e+=[n[45],"",n[43]].join(""),_r_(e)}(t),e.shift(),t+=n[43]),t+=n[43],i=_r_(t),i+=n[43],_r_(i)})}()),B.define("component/xp-index/guest-errors",function(e,t,i){"use strict";_i_("4ab:ca7246de");var a=e("component"),n=e("jstmpl"),s=e("read-data-options"),o=e("search/searchbox/model");i.exports=a.extend({init:function(){_i_("4ab:0621c5a7"),this.options=s(this.el,{modelId:{name:"sb-id",type:String,required:!0}}),this.model=o.getInstance(this.options.modelId),this.model.use("group"),this.model.on("validation",this.modelValidation.bind(this)),this.template=n("guest_errors"),_r_()},modelValidation:function(e){if(_i_("4ab:450c4ca4"),"group"!==e.group||"children-ages"===e.validationError)return _r_();var t=s(this.el,{viewId:{name:"view-id",type:String,required:!0}});e.valid?this.$el.html(""):this.$el.html(this.template.render({fe_error:e.validationError,fe_new:!0,fe_view:t.viewId})),_r_()}}),_r_()}),B.define("component/search/group/group-with-modal",function(e,t,i){_i_("4ab:78024c2c");var a=e("component"),n=e("search/searchbox/model"),s=e("read-data-options"),o=e("jquery"),r=e("et");i.exports=a.extend({init:function(){_i_("4ab:fee68c1d"),this.options=s(this.$el,{modelId:{name:"sb-id",type:String,required:!0},groupShowCloseButton:{name:"sb-group-show-close-button",type:Boolean}}),this.$modal=this.$el.find("[data-group-modal]"),this.$toggle=this.$el.find("[data-group-toggle]"),this.model=n.getInstance(this.options.modelId),this.model.use("group"),this.$roomCount=this.$el.find("[data-room-count]"),this.$guestCount=this.$el.find("[data-guest-count]"),this.$adultsCount=this.$el.find("[data-adults-count]"),this.$childrenCount=this.$el.find("[data-children-count]"),this.addModelListeners(),this.addEventListeners(),this.$el.find("#xp__guests__input").remove(),_r_()},addModelListeners:function(){_i_("4ab:3380d4e7"),this.model.on("change",this.modelChange.bind(this)),this.model.on("init",this.modelChange.bind(this)),this.model.on("validation",this.modelValidation.bind(this)),_r_()},addEventListeners:function(){_i_("4ab:7058a8dc"),this.$el.on("focus",function(e){_i_("4ab:66928a09"),this.toggleModal(!0),_r_()}.bind(this)),this.$toggle.on("mousedown",function(e){_i_("4ab:4dec3563"),this.toggleModal(!this.modalOpen),_r_()}.bind(this)),o(document).on("mouseup",function(e){_i_("4ab:034f0b0e"),o(e.target).closest(this.$el).length||this.toggleModal(),_r_()}.bind(this)),this.$el.find("input").on("focus",function(e){if(_i_("4ab:c52febb3"),this.modalOpen)return _r_();this.toggleModal(!0),_r_()}.bind(this)),this.options.groupShowCloseButton&&this.$el.find("button#doneBtn").on("click",function(e){if(_i_("4ab:b84d1aa2"),!this.modalOpen)return _r_();this.toggleModal(!1),_r_()}.bind(this)),_r_()},modelValidation:function(e){_i_("4ab:8410cdba"),e&&!e.valid&&"children-ages"===e.validationError&&this.toggleModal(!this.modalOpen),_r_()},toggleModal:function(e){if(_i_("4ab:78ae0a96"),this.$modal.css("display",e?"block":"none"),this.$toggle[e?"attr":"removeAttr"]("data-group-toggle-shown",1),this.$toggle.attr("aria-expanded",!!e),this.modalOpen=e,this.$modal[0]&&"xp__guests__inputs-container"===this.$modal[0].id&&e){r.stage("INFddKNKNKPBDJJHMVGPLTLReASdVLT",4);var t=this.model.group.get();t&&t.children_ages&&t.children_ages.length&&r.stage("INFddKNKNKPBDJJHMVGPLTLReASdVLT",5)}_r_()},modelChange:function(e){_i_("4ab:652a2f0c"),"group"==e.group&&this.render(),_r_()},render:function(e){_i_("4ab:04a42523");var t=+(e=this.model.group.get()).adults_count,i=e.children_ages.length,a=t+i,n=e.rooms_count;this.$roomCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_rooms",n,{num_rooms:n})),this.$adultsCount.html(B.jstmpl.translations("sxp_index_sbox_horizontal_adults",t,{num_adults:t})),this.$guestCount.html(B.jstmpl.translations("iq_sbox_accommodation_num_guests",a,{num_guests:a})),this.$childrenCount.html(B.jstmpl.translations("sxp_lp_sbox_num_children",i,{num_children:i})),_r_()}}),_r_()}),B.define("component/search/searchbox/searchbox-xp",function(e,t,i){"use strict";_i_("4ab:56027bca");var a=e("component/search/searchbox/searchbox"),s=e("jquery");i.exports=a.extend({init:function(){_i_("4ab:cfcd6972"),a.prototype.init.apply(this,arguments),this.model.use("dates"),this.model.on("change-mode",this.onChangeMode.bind(this)),this.addDestinationLogic(),this.addCalendarsLogic(),_r_()},addDestinationLogic:function(){_i_("4ab:b6a1c971");var e=this.$el.find("[data-destination-input]");e.find("#ss").on("focus",function(){_i_("4ab:9c02e952"),e.find("#destination__error").removeClass("-visible"),e.find(".sb-searchbox__error").hide(),_r_()}.bind(this)),_r_()},addCalendarsLogic:function(){_i_("4ab:78283cfa");var i=s("body"),a=this.$el.find(".xp__dates"),n=this.$el.find("[data-dates-errors]");B.env.b_hijri_calendar_available&&i.addClass("c2-wrapper-s-has-hijri-calendar"),B.eventEmitter.on("CALENDAR:opened",function(e,t){_i_("4ab:8c3bee35"),a.attr("data-calendar-shown",1),n.html(""),i.addClass("calendar-open"),_r_()}),B.eventEmitter.on("CALENDAR:closed",function(e,t){_i_("4ab:eab814c1"),a.removeAttr("data-calendar-shown"),i.removeClass("calendar-open"),_r_()}),_r_()},onChangeMode:function(e){_i_("4ab:83bb50be"),"accommodation"==e&&(this.model.setFormAction(B.env.fe_sb_accommodation_search_url),this.model.destination&&this.model.destination.configure({validate:!1}),this.model.emit("change",{})),_r_()}}),_r_()}),B.define("component/search/dates/prompt",function(e,t,i){"use strict";_i_("4ab:94d72b52");var a="sb-dates-prompt-dismissed",n="mdot"===B.env.b_site_type,s=e("component"),o=e("click-out"),r=!n&&"searchresults"===B.env.b_action&&e("searchresults/events");i.exports=s.extend({init:function(){if(_i_("4ab:66b4e1f1"),this.boundHide=this.hide.bind(this),this.boundCleanUp=this.cleanUp.bind(this),this.$el.find(".sb-dates-prompt__close").on("click",this.dismiss.bind(this)),this.isDismissed())return _r_();r&&this.isLandingScrollStarted()?r.once(r.UI_LANDING_SCROLL_COMPLETED,this.show.bind(this)):this.show(),_r_()},show:function(){if(_i_("4ab:eaede618"),this.hiding)return _r_();this.$el.removeClass("g-hidden").addClass("fadein"),this.monitorId=o.addMonitor(this.el,this.boundHide),_r_()},hide:function(){_i_("4ab:22797725"),this.hiding=!0,this.$el.removeClass("fadein").addClass("fadeout"),window.setTimeout(this.boundCleanUp,200),_r_()},dismiss:function(){_i_("4ab:0745977a"),function(){_i_("4ab:45a788dc"),n?B.storage({key:a,value:!0,location:"sessionstorage"}):B.browserStorageHandler.addSessionValue(a,!0);_r_()}(),this.hide(),_r_()},cleanUp:function(){_i_("4ab:3ecc2689"),this.monitorId&&o.removeMonitor(this.monitorId),this.$el.addClass("g-hidden").removeClass("fadeout"),this.hiding=!1,_r_()},isDismissed:function(){_i_("4ab:98bc85c0");var e=n?B.storage({key:a,location:"sessionstorage"}):"true"===B.browserStorageHandler.getSessionValue(a);return _r_(e)},isLandingScrollStarted:function(){return _i_("4ab:f6bb9fa1"),_r_(B.sr&&B.sr.landingScrollStarted||B.env.fe_landing_scroll_started)}}),_r_()}),B.define("component/search/dates/date-field-select",function(e,t,i){"use strict";_i_("4ab:ff881540");var a=e("component"),n=e("read-data-options"),s=e("search/searchbox/model"),p=e("formatting/date"),o=e("ga-tracker"),r=e("jstmpl"),m="checkin",_="[data-display]",l="[data-controls]",d="[data-field]",h="[data-icon-day]",c=".js-date-field__part",u=".js-date-field__select",f=".js-date-field__value",b='.js-date-field__part[data-type="month-year"]',g='.js-date-field__part[data-type="date"]',M=".js-date-field__year",v=".js-date-field__month",y="[data-calendar-extended-date]",B="-empty",C="-editing",x="-editing-select",D="sb-date-field__select_disabled",k="sb-date-field__select_focused",w="sb-date-field__value_empty";i.exports=a.extend({init:function(){_i_("4ab:fc0fa748"),this.options=n(this.el,{forceInitRender:{name:"force-init-render",type:Boolean,defaultValue:!1},modelId:{name:"sb-id",type:String,required:!0},modelMode:{name:"mode",type:String,defaultValue:"single"},validators:{name:"validators",type:String,defaultValue:""}});var e=this.options.validators.split(",");this.model=s.getInstance(this.options.modelId),this.model.use("dates"),this.model.on("change",this.handleModelChange.bind(this)),this.model.dates.configure({noValidation:!0,allowMaxLos:!0,notEmpty:0<=e.indexOf("not-empty")||void 0}),this.$display=this.$el.find(_),this.$iconDay=this.$el.find(h),this.$controls=this.$el.find(l),this.$field=this.$el.find(d),this.$part=this.$el.find(c),this.$monthYear=this.$el.find(b),this.$monthYearSelect=this.$monthYear.find(u),this.$date=this.$el.find(g),this.$dateSelect=this.$date.find(u),this.$select=this.$el.find(u),this.$inputYear=this.$el.find(M),this.$inputMonth=this.$el.find(v),this.$extendDate=this.$el.find(y),this.$part.on("focus",u,this.handleSelectFocus.bind(this)),this.$part.on("blur",u,this.handleSelectBlur.bind(this)),this.$monthYearSelect.on("change",this.handleMonthYearChange.bind(this)),this.$dateSelect.on("change",this.handleDateChange.bind(this)),this.$select.one("focus",this.trackSelectFocus.bind(this)),this.initModel.call(this),_r_()},initModel:function(){_i_("4ab:8880efbb");var e=this.$inputYear.val(),t=this.$inputMonth.val(),i=this.$dateSelect.attr("data-selected"),a=e&&t&&i;this.model.dates.initDate(this.options.modelMode,a&&{year:+e,month:+t-1,day:+i}),this.renderFields.call(this),_r_()},toggleMode:function(e){_i_("4ab:6724bf1f"),this.$field.toggleClass(C,e),this.$field.toggleClass(x,e),_r_()},trackSelectFocus:function(){_i_("4ab:7630c5c41"),o.trackEvent(o.SearchBoxTracker,"Keyboard Focus",this.options.modelMode+" field"),_r_()},handleModelChange:function(){_i_("4ab:3aeed71d"),this.renderFields.call(this),_r_()},handleSelectFocus:function(e){_i_("4ab:b8c5b87e"),clearTimeout(this.inputBlurTimer),$(e.delegateTarget).addClass(k),this.toggleMode(!0),setTimeout(function(){_i_("4ab:98e6ffec1"),this.model.dates.startEditing(),_r_()}.bind(this)),_r_()},handleSelectBlur:function(e){_i_("4ab:e615df80"),$(e.delegateTarget).removeClass(k),this.toggleMode(!1),this.inputBlurTimer=setTimeout(function(){_i_("4ab:061f7dd9"),this.applyChange(),_r_()}.bind(this)),_r_()},handleMonthYearChange:function(e){_i_("4ab:49cdb6e1");var t=this.options.modelMode,i=e.target.value.split("-");this.model.dates.setEditingFragment(t,"month",+i[0]),this.model.dates.setEditingFragment(t,"year",+i[1]),this.model.dates.setEditingFragment(t,"day",null),_r_()},handleDateChange:function(e){_i_("4ab:dfa82ff4");var t=e.target,i=this.options.modelMode;this.renderDateValue.call(this),this.model.dates.setEditingFragment(i,"day",+t.value),this.applyChange.call(this),_r_()},applyChange:function(){if(_i_("4ab:a241b52f"),!this.model.dates.get()["editing_"+this.options.modelMode])return _r_();this.model.dates.applyEditing(this.options.modelMode),_r_()},getOptionHtml:function(e,t,i){_i_("4ab:b45a607d");var a,n=[];if(i)for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];if(!o)break;a=s,"boolean"!=typeof o&&(a+="="+o),n.push(a)}return _r_('<option value="'+e+'" '+n.join(" ")+">"+t+"</option>")},renderMonthYearField:function(){_i_("4ab:847c9ed5");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],a=t["editing_"+e]||i,n=this.$monthYearSelect,s=e===m?t.firstValidDay:t.firstValidCheckoutDay,o=t.lastValidDay,r=s.month,_=o.month,l=s.year,d=o.year,h=this.getOptionHtml("","",{disabled:!0,selected:!a});h+=a?this.getMonthsHtml(r,l,_,d,a.month,a.year):this.getMonthsHtml(r,l,_,d),n.html(h),this.renderMonthYearValue.call(this),_r_()},getMonthsHtml:function(e,t,i,a,n,s){_i_("4ab:7fa756e2");for(var o=e,r=t,_="";r<a||r===a&&o<=i;){var l=o+1,d=p.format({year:r,month:l,day:0},"month_with_year"),h=[o,r].join("-"),c=o===n&&r===s;_+=this.getOptionHtml(h,d,{selected:c}),l<12?o+=1:(o=0,r+=1)}return _r_(_)},renderDateField:function(){_i_("4ab:a94cba79");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],a=t["editing_"+e]||i,n=a&&a.month,s=a&&a.year,o="number"!=typeof n,r=!o&&new Date(s,n,1),_=e===m?t.firstValidDay:t.firstValidCheckoutDay,l=t.lastValidDay,d=e===m?l.day-1:l.day,h=this.$dateSelect;if(h.html(this.getOptionHtml("","",{disabled:!0,selected:!a||!a.day})),h.prop("disabled",o),this.$date.toggleClass(D,o),r)for(;r.getMonth()===n;){var c=r.getDate(),u=n!==_.month||s!==_.year||c>=_.day,f=n!==l.month||s!==l.year||c<=d;if(u&&f){var b=p.format({year:s,month:n,day:c},"{day_of_month}, {weekday}");h.append(this.getOptionHtml(c,b,{selected:a&&a.day===c}))}r.setDate(c+1)}this.renderDateValue.call(this),_r_()},renderValue:function(e,t){_i_("4ab:1b9b0a94");var i=t.find(f),a=e.options[e.selectedIndex],n=i.data("placeholder")||"",s=a&&!a.disabled;i.text(s?a.innerHTML:n),i.toggleClass(w,!s),_r_()},renderMonthYearValue:function(){_i_("4ab:f4ece69f"),this.renderValue(this.$monthYearSelect[0],this.$monthYear),_r_()},renderDateValue:function(){_i_("4ab:b15ca074"),this.renderValue(this.$dateSelect[0],this.$date),_r_()},renderFields:function(){_i_("4ab:f6c8ec1e");var e=this.options.modelMode,t=this.model.dates.get(),i=t[e],a=t["editing_"+e],n=a||i,s=a&&!a.complete;if(this.renderMonthYearField.call(this),this.renderDateField.call(this),n&&"number"==typeof n.month&&this.$inputMonth.val(n.month+1),n&&"number"==typeof n.year&&this.$inputYear.val(n.year),n&&"number"==typeof n.day&&this.$dateSelect.val(n.day),!s&&i){var o=this.$display.data("date-format")||"date_with_weekday";this.$field.removeClass(B),this.$display.html(p.format(i,o)),this.$iconDay.html(p.format(i,"{day_of_month}"))}s||i||(this.$field.addClass(B),this.$display.html(this.$display.attr("data-placeholder")),this.$iconDay.html(this.$iconDay.attr("data-placeholder"))),null!==t.extendedDate&&t.extendedDate?this.$extendDate.html(r.translations("sxp_sbox_property_count_flexible",null,{num:t.extendedDate})):this.$extendDate.html(""),null!==t.longTermFlexibleDate&&this.$display.html(t.longTermFlexibleDate.longTermText),_r_()}}),_r_()}),B.define("search/calendar/utils",function(e,t,i){_i_("4ab:96bc2647"),i.exports={getDaysDifference:function(e,t){_i_("4ab:4bfb42bf");var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return _r_(Math.floor((a-i)/864e5))}},_r_()}),B.define("component/search/dates/single-calendar",function(e,t,i){"use strict";_i_("4ab:72f21f09");var a=e("component"),n=e("formatting/date"),s=e("search/searchbox/model"),o=e("search/modules/search-date").SearchDate,r=e("search/searchbox/ga-events-tracker"),l=e("search/calendar/utils"),_=e("component/searchbox/calendar-flexible-dates/calendar-flexible-dates"),d=e("jstmpl"),h=e("events"),c=e("et"),u=e("jquery");function f(e){return _i_("4ab:a4f6ff92"),_r_(("0"+e).slice(-2))}i.exports=a.extend({init:function(){_i_("4ab:9add2899"),this.$calendar=this.$el.find(".bui-calendar"),this.$form=this.$el.parents("form"),this.calendarMounted=!1,this.calendarOpen=!1,this.isCalendarNotOpenYet=!0,this.checkinPlaceholder=this.$form.find('[data-mode="checkin"] [data-display]').data("placeholder")||d.translations("checkin_date"),this.$checkoutPlaceholder=this.$form.find('[data-mode="checkout"] [data-display]'),this.checkoutPlaceholder=this.$checkoutPlaceholder.data("placeholder")||d.translations("checkout_date"),this.$inputDateTimeFields=this.$form.find(".xp__date-time"),this.dateFormat=this.$form.find(".sb-date-field__display").data("date-format")||"date_with_weekday",this.model=s.getInstance(this.$el.data("sb-id")),this.model.use("dates"),this.renderLoS=!!this.$el.data("render-los"),this.autoOpenOnLoad=!!this.$el.data("auto-open-on-load"),this.keepCalOpen=!!this.$el.data("keep-cal-open"),this.keepCalOpenOnDateSelect=!!this.$el.data("keep-cal-open-on-date-select"),this.separateTriggers=!!this.$el.data("separate-triggers"),this.keepInputFieldSelected=!!this.$el.data("keep-input-field-selected"),this.longTermFlexibleDates=!!this.$el.data("long-term-flexible-dates"),this.separateTriggers&&(this.closeOnDateSelect=!0,this.$el.attr("data-choose-mode","start")),this.initCalendar(),this.bindEvents(),this.autoOpenOnLoad&&this.showCalendar(),this.longTermFlexibleDates&&this.initLongTermFlexibleDates(),_r_()},bindEvents:function(){_i_("4ab:aebbbe74"),this.$inputDateTimeFields.on("click",function(e){if(_i_("4ab:b26a124c"),u(e.target).is("select"))return _r_();if(this.mountCalendar(),this.separateTriggers){var t=u(e.delegateTarget),i=t.is(".--checkin-field")?"start":"end",a=this.$el.attr("data-choose-mode");this.calendarInstance.setState({chooseMode:i}),this.$el.attr("data-choose-mode",i),this.calendarOpen&&a===i?this.hideCalendar():(this.showCalendar(),this.keepInputFieldSelected&&(this.$inputDateTimeFields.removeClass("focus"),t.addClass("focus")))}else this.calendarOpen?this.hideCalendar():this.showCalendar();_r_()}.bind(this)),u("body").on("click",function(e){_i_("4ab:93de4cfe");var t=u(e.target),i=t.parents(),a=i.filter(".xp__dates").length,n=i.filter(".bui-calendar__wrapper").length;this.keepCalOpen||t.hasClass("xp__dates")||a||n||this.hideCalendar(),_r_()}.bind(this)),this.$form.find(".xp__date-time").one("mouseenter touchstart",this.mountCalendar.bind(this)),this.separateTriggers&&this.model.on("init",function(){_i_("4ab:29a7aa8c"),this.onModelChange({checkin:!0,checkout:!0}),_r_()}.bind(this)),this.model.on("change",this.onModelChange.bind(this)),this.onModelChange({checkin:!0,checkout:!0}),_r_()},getMinMaxDates:function(){_i_("4ab:cc26c49d");var e=new Date,t=new Date;return B.env.b_search_max_months?(t.setMonth(t.getMonth()+B.env.b_search_max_months),t.setDate(0)):t=new Date(t.getFullYear()+1,t.getMonth()+1,0),_r_({minDate:e,minDateISO:e.getFullYear()+"-"+f(e.getMonth()+1)+"-"+f(e.getDate()),maxDate:t,maxDateISO:t.getFullYear()+"-"+f(t.getMonth()+1)+"-"+f(t.getDate())})},initCalendar:function(){_i_("4ab:2457f405");var e={monthsToShow:2,renderOnHover:1,allowSameDateSelection:0,dayNames:{monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"},monthNames:{january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},renderSelected:function(e){if(_i_("4ab:9cb2ba8c"),!this.renderLoS)return _r_("");var t=this.renderSelectedCustom(e);if(t)return _r_(t);var i=e.startDate,a=e.endDate;if(i&&a&&i<a){var n=this.getFormattedDate(i),s=this.getFormattedDate(a),o=l.getDaysDifference(i,a),r=B.jstmpl.translations("ss_sxp_index_sbox_calendar_num_night_stay",o,{num_nights:o}),_=o/7;if(7<=o&&!(o%7)&&(r=B.jstmpl.translations("bh_ss_sxp_index_sbox_calendar_num_week_stay",_,{num_weeks:_})),B.env.rtl)return _r_("("+r+") "+n+" - "+s);return _r_(n+" - "+s+" "+r)}if(i){n=this.getFormattedDate(i);return _r_(n+" - "+this.checkoutPlaceholder)}return _r_(this.checkinPlaceholder+" - "+this.checkoutPlaceholder)}.bind(this),onDateChange:function(e){_i_("4ab:f931129e"),this.closeOnDateSelect||(this.settingDatesFromUserInteraction=!0);var t=e.startDate,i=e.endDate;t&&(t=o.create({year:t.getFullYear(),month:t.getMonth(),day:t.getDate()}),this.model.dates.setDate("checkin",t),i||this.separateTriggers||this.$checkoutPlaceholder.text(this.checkoutPlaceholder)),i&&(i=o.create({year:i.getFullYear(),month:i.getMonth(),day:i.getDate()}),this.model.dates.setDate("checkout",i)),t&&i&&!this.keepCalOpenOnDateSelect&&this.hideCalendar(),e.startDate===e.clickedDate&&r.trackEvent(B.Search.TrackingEvents.CHECKIN_DATEPICKER),e.endDate===e.clickedDate&&r.trackEvent(B.Search.TrackingEvents.CHECKOUT_DATEPICKER),this.closeOnDateSelect&&this.hideCalendar(),this.settingDatesFromUserInteraction=!1,_r_()}.bind(this)};if(B.env.b_simple_weekdays&&7===B.env.b_simple_weekdays.length){var t=0;for(var i in e.dayNames)e.dayNames[i]=B.env.b_simple_weekdays[t++]}if(B.env.b_short_months&&12===B.env.b_short_months.length){t=0;for(var i in e.monthNames)e.monthNames[i]=B.env.b_short_months[t++]}B.env.sunday_first&&u.extend(e,{firstWeekDay:7}),this.minMaxDates=this.getMinMaxDates(),e.minDate=this.minMaxDates.minDateISO,e.maxDate=this.minMaxDates.maxDateISO,this.calendarInstance=window.BUI.createInstance("Calendar",this.$calendar[0],e),_r_()},renderSelectedCustom:function(){},mountCalendar:function(){_i_("4ab:8e0cafba"),this.calendarMounted||(this.calendarInstance.mount(),this.calendarMounted=!0),_r_()},onModelChange:function(e){if(_i_("4ab:d7c28836"),this.settingDatesFromUserInteraction)return _r_();if(e.checkin||e.checkout){var t=this.model.dates.get().checkin,i=this.model.dates.get().checkout,a={startDate:null,endDate:null};t&&(a.startDate=new Date(t.year,t.month,t.day)),i&&(a.endDate=new Date(i.year,i.month,i.day)),a.startDate&&(a.baseMonthDate=a.startDate),a.chooseMode=a.startDate&&!a.endDate?"end":"start",this.calendarInstance.setState(a),this.calendarInstance._updateDateClassNames&&(this.calendarInstance._updateDateClassNames(),this.calendarInstance._updateDisplayRender())}_r_()},showCalendar:function(){_i_("4ab:6760aa62"),this.$form.find("[data-dates-errors]").html(""),this.mountCalendar(),this.$calendar.show(),this.calendarOpen=!0,this.isCalendarNotOpenYet&&(this.isCalendarNotOpenYet=!1),h.trigger("SEARCHBOX_CALENDAR_OPENED",this.$el),_r_()},showStartCalendar:function(){_i_("4ab:cc8cd277"),this.$el.attr("data-choose-mode","start"),this.showCalendar(),_r_()},showEndCalendar:function(){_i_("4ab:bc81115c"),this.$el.attr("data-choose-mode","end"),this.showCalendar(),_r_()},hideCalendar:function(){_i_("4ab:75b20847"),this.$calendar.hide(),this.calendarOpen=!1,this.keepInputFieldSelected&&this.$inputDateTimeFields.removeClass("focus"),_r_()},getFormattedDate:function(e){return _i_("4ab:a259ba5a"),_r_(n.format({day:e.getDate(),month:e.getMonth(),year:e.getFullYear()},this.dateFormat))},initLongTermFlexibleDates:function(){_i_("4ab:0cc9e5fa");var t="TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe";this.flexibleDates=new _,this.flexibleDates.prepare({el:this.el,$el:this.$el});var e=this.el.querySelector("[date-flex-footer-caption]"),i=this.el.querySelector("[date-flex-footer-done-button]"),a=function(){_i_("4ab:c4499dad"),"flexible"===this.activeTab&&this.flexibleDates.isLongTermFlexDatesDataValid()?this.model.dates.setLongTermFlexibleDate(this.flexibleDates.data):this.model.dates.setLongTermFlexibleDate(null),"flexible"===this.activeTab?this.flexibleDates.isLongTermFlexDatesDataValid()?(i.removeAttribute("disabled"),this.$form.attr("data-flexible-dates-selection-valid",!0)):(i.setAttribute("disabled",!0),this.$form.removeAttr("data-flexible-dates-selection-valid")):(i.removeAttribute("disabled"),this.$form.removeAttr("data-flexible-dates-selection-valid")),e.innerHTML=this.flexibleDates.getFlexibleDatesSelectionText(),this.model.setFields("long_term_flexible_dates",[{name:"ltfd",value:this.flexibleDates.getFormParamValue("flexible"===this.activeTab)}]),this.model.emit("change",{group:""}),this.flexibleDates.isLongTermFlexDatesDataValid()&&c.customGoal(t,3),_r_()}.bind(this);this.flexibleDates.init(),this.flexibleDates.on("data-changed",a);var n=this.el.querySelector('[data-bui-component="Tab"]');window.BUI.initComponents&&window.BUI.initComponents(this.el),window.BUI.getInstance(n).props.onAfterTabChange=function(e){_i_("4ab:7d08536e"),this.activeTab=e.id,a(),"flexible"===e.id&&c.customGoal(t,1),_r_()}.bind(this),i.addEventListener("click",function(){_i_("4ab:78fb679e"),this.hideCalendar(),"flexible"===this.activeTab&&c.customGoal(t,2),_r_()}.bind(this)),_r_()}}),_r_()}),B.define("search/dates/date-prices-service",function(e,t,i){_i_("4ab:d913f4fb");var a,n=e("fragment"),s=e("promise"),o=e("search-config"),r={propertyId:null,searchConfig:null,startDate:null,endDate:null,checkinAlt:null,los:1},h={},_={},c={};function u(e,t){_i_("4ab:539b432a");var i,a,n=function(e){_i_("4ab:d58b2018");var t=String(e).match(/(\d{4})-(\d{2})-(\d{2})/);return _r_(t?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10)):null)}(e);if(n)for(var s=1;s<t;s++)(i=new Date(n)).setDate(i.getDate()+s),a=f(i),_[a]||(_[a]={}),_[a][e]=t;_r_()}function f(e){return _i_("4ab:315515a1"),_r_(e?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):null)}i.exports={init:function(e){_i_("4ab:80c70299"),a=e,_r_()},fetchPrices:function(e){_i_("4ab:a0c81de1");var d=Object.assign({},r,e);return _r_(new s(function(r,_){if(_i_("4ab:2fc13793"),!d.startDate)return _r_(_("You need to specify a `startDate` date"));d.searchConfig||(d.searchConfig=o.getRawValue()),d.propertyId||(d.propertyId=a);var l=f(d.checkinAlt);if(d.checkinAlt&&void 0!==c[l])return _r_(r(c));if(!d.checkinAlt&&void 0!==h[f(d.startDate)]&&void 0!==h[f(d.endDate)])return _r_(r(h));var e={result_format:"price_histogram",hotel_id:d.propertyId,search_config:d.searchConfig,checkin:f(d.startDate),n_days:function(e,t){_i_("4ab:2044c4c8");var i=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return _r_(Math.floor((a-i)/864e5))}(d.startDate,d.endDate)+1,respect_min_los_restriction:1,los:d.los};d.checkinAlt&&(e.checkin_alt=l),n.call("hotel.availability_calendar",e).then(function(e){if(_i_("4ab:0c0a8fb4"),!e||e&&void 0===e.days)return _r_(_());var t,i,a,n,s;for(var o in e.days)t=e.days[o],i=e.days[o].checkin,d.checkinAlt?(a=l,n=i,s=t.b_avg_price_pretty||null,_i_("4ab:efb039bf"),c[a]||(c[a]={}),c[a][n]=s,_r_()):(h[i]=t.b_avg_price_pretty||null,1<t.b_min_length_of_stay&&u(i,t.b_min_length_of_stay));r(d.checkinAlt?c:h),_r_()}).catch(_),_r_()}))},pricesPerDay:h,pricesPerDayForSelectedCheckin:c,getMinLosForInterval:function(e,t){_i_("4ab:b800dd0e");var i=f(e),a="string"==typeof t?t:f(t);return _r_(i&&a&&_[a]&&_[a][i])}},_r_()}),B.define("searchbox/calendar-with-prices-core",function(e){_i_("4ab:2f092a3a");var p,m,g=e("jstmpl"),M=e("search/dates/date-prices-service"),n=e("server-data"),v=g.translations("sr_calendar_checkout_only_tooltip_info"),y=new Date;function t(e,t){return _i_("4ab:e72f659e"),this.service=M,this.$calendarEl=e,this.buiCalendar=t,_r_(this)}function B(e){return _i_("4ab:315515a11"),_r_(e?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):null)}return y.setHours(0,0,0,0),t.prototype.initCalendarWithPrices=function(e){_i_("4ab:e29ff034");var t=Object.assign({},this.buiCalendar.props);this.buiCalendar.unmount(),t.getDayMarkup=function(e){_i_("4ab:7308e10e");var t=e.getDate(),i=!1,a=B(e),n=new Date(e);n.setDate(e.getDate()-1);var s=B(n),o=B(m),r=M.pricesPerDay;m&&(r=M.pricesPerDayForSelectedCheckin&&M.pricesPerDayForSelectedCheckin[o]);var _,l=m&&e<m,d=r&&r[a]||"&mdash;",h=r&&void 0!==r[a]&&null!==r[a],c=r&&void 0!==r[s]&&null!==r[s],u=h||l?"":" calendar-day--unavailable",f=M.getMinLosForInterval(p,a);f&&(_=g.translations("sr_calendar_min_night_stay_tooltip_info",f,{num_nights:f}));_||!c||h||(_=v);var b=_?'data-bui-component="Tooltip" data-tooltip-position="bottom" data-tooltip-text="'+g.fn.FILTERS.html('<span id="calendar-with-price-tooltip">'+_+"</span>")+'"':"";e<y&&(i=!0);return _r_('<span class="'+u+'" '+b+'><span aria-hidden="true" class="calendar-day__number">'+t+'</span><span aria-hidden="true" class="calendar-day__price">'+(i||l?"&nbsp;":d)+"</span></span>")}.bind(this),this.buiCalendar=window.BUI.createInstance("Calendar",this.$calendarEl[0],t),"function"==typeof e?e(this.buiCalendar):this.buiCalendar.mount(),this.hideLoading(),_r_()},t.prototype.bindMonthChangeHandlers=function(){_i_("4ab:fc176f8d"),this.$calendarEl.on("click",".bui-calendar__control--prev, .bui-calendar__control--next",function(){_i_("4ab:c5238e49"),setTimeout(function(){_i_("4ab:e78e9e27"),this.getPricesAndRender(),_r_()}.bind(this),1),_r_()}.bind(this)),_r_()},t.prototype.getPricesAndRender=function(e,t,i){_i_("4ab:f2d7f1bd"),e||(e=this._getCalendarBaseDate()),t||(t=this._getCalendarEndDate());var a={startDate:e,endDate:t,los:1};i&&(a.checkinAlt=i),n.b_min_bookable_los&&(a.los=n.b_min_bookable_los),this.showLoading(),M.fetchPrices(a).then(function(){_i_("4ab:35dc3fb9"),this.buiCalendar._handleMonthChange(),window.BUI.initComponents(this.$calendarEl[0]),this.hideLoading(),_r_()}.bind(this)).catch(function(e){_i_("4ab:2e2f621b"),this.hideLoading(),_r_()}.bind(this)),_r_()},t.prototype.showLoading=function(){_i_("4ab:401ed64e"),this.$calendarEl.find(".calendar-dates-prices-info-message").hide(),this.$calendarEl.find(".calendar-dates-prices-loader").show(),_r_()},t.prototype.hideLoading=function(){_i_("4ab:9cafc21b"),this.$calendarEl.find(".calendar-dates-prices-loader").hide(),this.$calendarEl.find(".calendar-dates-prices-info-message").show(),_r_()},t.prototype.isLoading=function(){return _i_("4ab:b8601c81"),_r_(0<this.$calendarEl.find(".calendar-dates-prices-loader:visible").length)},t.prototype.showInfoMessage=function(e){_i_("4ab:688285db");var t=this.$calendarEl.find(".calendar-dates-prices-info-message");e&&!this.defaultInfoMessage&&(this.defaultInfoMessage=t.html());var i=e;if(void 0===e&&this.defaultInfoMessage&&(i=this.defaultInfoMessage),void 0===i)return _r_();t.html(i),_r_()},t.prototype._getCalendarBaseDate=function(){_i_("4ab:80ebfa41");try{var e=this.buiCalendar.state.baseMonthDate;if(1===e.getDate())return _r_(e);return _r_(new Date(new Date(e).setDate(1)))}catch(e){return _r_(null)}_r_()},t.prototype._getCalendarEndDate=function(){_i_("4ab:74015c2d");var e=this._getCalendarBaseDate();if(1<this.buiCalendar.props.monthsToShow){var t=new Date(e.getFullYear(),e.getMonth()+this.buiCalendar.props.monthsToShow-1,1);return _r_(new Date(t.getFullYear(),t.getMonth()+1,0))}return _r_(new Date(e.getFullYear(),e.getMonth()+1,0))},t.prototype.removeCalendarTooltip=function(){_i_("4ab:b6ec720f"),$("#calendar-with-price-tooltip").closest(".bui-tooltip").remove(),_r_()},t.prototype.setCheckinDate=function(e,t){if(_i_("4ab:27f6bc37"),!e)return _r_();p=e,t?m&&B(p)===B(m)||(m=p,this.getPricesAndRender(void 0,void 0,m)):m&&(m=void 0),this.removeCalendarTooltip(),this.buiCalendar&&this.buiCalendar._handleMonthChange(),window.BUI.initComponents(this.$calendarEl[0]),_r_()},_r_(t)}),B.define("component/search/dates/single-calendar-with-prices",function(e,t,i){"use strict";_i_("4ab:853e18d6");var n=e("server-data"),s=e("jstmpl"),o=e("formatting/date"),r=e("component/search/dates/single-calendar"),a=e("searchbox/calendar-with-prices-core"),_=e("et"),l="ODRdeOYJLBWHcfXSUHLQYfNWOBOFO";i.exports=r.extend({init:function(){_i_("4ab:a219fbfa"),r.prototype.init.apply(this,arguments),this.showMinLosWarning=this.$el.data("show-min-los-warning"),this.showAvForSelectedCheckin=this.$el.data("show-av-for-selected-checkin"),this.isCheckInChangedByUser=!1,this.isCheckOutChangedByUser=!1,this.calendarWithPrices=new a(this.$calendar,this.calendarInstance),this.calendarWithPrices.service.init(n.b_hotel_id),this.calendarWithPrices.initCalendarWithPrices(function(e){_i_("4ab:f45f77a2"),this.calendarInstance=e,this.separateTriggers||this.onModelChange({checkin:!0,checkout:!0}),this.mountCalendar(),_r_()}.bind(this)),this.calendarWithPrices.bindMonthChangeHandlers(),_r_()},showCalendar:function(){_i_("4ab:9b0d64df"),r.prototype.showCalendar.apply(this,arguments),this.calendarWithPrices.getPricesAndRender(),_r_()},hideCalendar:function(){_i_("4ab:75337a9a"),r.prototype.hideCalendar.apply(this,arguments),this.calendarWithPrices.removeCalendarTooltip(),_r_()},onModelChange:function(e){_i_("4ab:4d46b12d"),r.prototype.onModelChange.apply(this,arguments);var t=this.calendarInstance&&this.calendarInstance.state&&this.calendarInstance.state.startDate,i=this.calendarInstance&&this.calendarInstance.state&&this.calendarInstance.state.endDate;if(t&&!i&&(this.isCheckInChangedByUser=!0,this.isCheckOutChangedByUser&&_.customGoal(l,3)),i&&this.isCheckInChangedByUser&&(_.customGoal(l,2),this.isCheckOutChangedByUser=!0),t&&(this.showMinLosWarning||this.showAvForSelectedCheckin)&&this.calendarWithPrices.setCheckinDate(t,this.showAvForSelectedCheckin&&this.isCheckInChangedByUser),this.showAvForSelectedCheckin&&this.isCheckInChangedByUser&&t){var a=o.format({day:t.getDate(),month:t.getMonth(),year:t.getFullYear()},"short_date_without_year");this.calendarWithPrices.showInfoMessage(s.translations("sr_calendar_approx_prices_info_multi_day_stay",null,{currency:n.b_selected_currency,date:a})),i&&this.checkinAvModeOn&&this.calendarWithPrices.isLoading()&&_.customGoal(l,1),this.checkinAvModeOn=!i}t&&!i&&(_.stage(l,1),_.stage(l,n.b_has_valid_dates_not_in_past?2:3),n.b_has_maxotel_rooms||_.stage(l,4)),_r_()},renderSelectedCustom:function(){if(_i_("4ab:6c4c8b72"),r.prototype.renderSelectedCustom.apply(this,arguments),this.calendarInstance&&this.calendarInstance.state&&this.calendarInstance.state.startDate&&this.calendarInstance.state.endDate&&this.calendarInstance.state.startDate<this.calendarInstance.state.endDate&&this.calendarWithPrices){var e=this.calendarWithPrices.service.getMinLosForInterval(this.calendarInstance.state.startDate,this.calendarInstance.state.endDate);if(e&&this.showMinLosWarning)return _r_('<div class="bui-text">'+s.translations("sr_calendar_min_night_stay_footer",e,{num_nights:e})+"</div>")}_r_()}}),_r_()}),B.define("component/searchbox/calendar-extended-dates",function(i,e,t){"use strict";_i_("4ab:ec98261e");var a=i("component"),n=i("server-data"),s=i("events"),o=i("jquery"),r=i("et"),_="mdot"===n.b_site_type||n.fe_is_tdot;t.exports=a.extend({init:function(){_i_("4ab:03dc9ae0"),this.initVariables(),this.selectCheck(this.$defaultCheckBox),this.checkBoxClick(),_r_()},initVariables:function(){_i_("4ab:407d562a"),this.$checkboxes=this.$el.find("input:checkbox"),this.$defaultCheckBox=this.$el.find("[data-flex-dates-default]"),this.defaultSelected=!1,_r_()},checkBoxClick:function(){_i_("4ab:73206e88"),this.$checkboxes.on("click",function(e){_i_("4ab:a3681dc0");var t=o(e.target).val();o(e.target).prop("checked")?(this.defaultSelected=!1,"0"===t&&(this.defaultSelected=!0),this.selectCheck(e.target),_&&r.goalWithValue("js_flexible_dates_checked_"+("0"===t?"exact":t),1)):(this.defaultSelected=!0,this.selectCheck(this.$defaultCheckBox),_&&r.goalWithValue("js_flexible_dates_unchecked_"+("0"===t?"exact":t),1)),_r_()}.bind(this)),_r_()},selectCheck:function(e){_i_("4ab:335cff2f"),this.$checkboxes.prop("checked",!1).next().removeClass("ced-checked"),o(e).prop("checked",!0).next().addClass("ced-checked"),o(e).focus(),_?this.handleCalendarDatesTextMdot(+o(e).val()):this.handleCalendarDatesTextWww(+o(e).val()),_r_()},handleCalendarDatesTextMdot:function(e){_i_("4ab:e5c3cde4");var t=i("event-bus");t.trigger("SEARCHBOX_CALENDAR_EXTEND_DATE",e),this.defaultSelected&&t.trigger("SEARCHBOX_CALENDAR_EXTEND_DATE_DEFAULT_SELECTED",e),_r_()},handleCalendarDatesTextWww:function(e){_i_("4ab:fd1ee4af");var t=i("search/searchbox/model");this.model=t.getInstance(this.$el.closest("[data-sb-id]").data("sb-id")),this.model.use("dates"),this.model.dates.setExtendedDate(e),this.defaultSelected&&s.trigger("SEARCHBOX_CALENDAR_EXTEND_DATE_DEFAULT_SELECTED",e),_r_()}}),_r_()}),B.when({condition:B.env.fe_should_track_flex_dates_calendar_open}).run(function(e){_i_("4ab:b8182cfd");var i=e("et"),a=e("server-data"),t="TZUfdKNKNKPRVfEeSPGOaYdYO",n="TZUfdKNKNKPAJBHDTJIKPDUeQFaJeKe",s="TZUfCDWOODXaJPeTJLBWHZHT",o=$('<input type="hidden" name="efdco" id="efdco" value="1" />');function r(e){_i_("4ab:09f75e88"),e.find("#efdco").length||e.append(o),_r_()}"mdot"===a.b_site_type||a.fe_is_tdot?(_i_("4ab:cd947a02"),e("event-bus").on("SEARCHBOX_CALENDAR_OPENED",function(e,t){_i_("4ab:d751f8ad"),i.stage(s,1),i.stage("TZUfCDWOODUeQFaJefTLKGBfC",1),"index"===a.b_action&&i.stage(s,3),r(t),_r_()})):(_i_("4ab:dd4049e9"),e("events").on("SEARCHBOX_CALENDAR_OPENED",function(e){_i_("4ab:40c18c30"),i.stage(t,1),i.stage("TZUfdKNKNKPeTcZVfTLScXQOVWe",1),a.b_is_landing_page&&(i.stage(t,2),i.stage(n,1),i.stage(n,2)),"dealspage"===a.b_action&&(i.stage(n,1),i.stage(n,3)),r(e),_r_()})),_r_(),_r_()}),B.define("component/searchbox/calendar-flexible-dates/calendar-flexible-dates",function(e,t,i){_i_("4ab:f9c460c6");var a=e("component"),n=e("event-emitter");var s=a.extend({init:function(){_i_("4ab:5a2a0d51"),n.extend(this),this.data={startDay:void 0,duration:void 0,isDayCustom:!1,months:{}},this.maxLoS=+this.el.getAttribute("data-custom-los"),this.maxLoS||(this.maxLoS=30),this.months={};var e=new Date;e.setDate(1);for(var t=0;t<12;t++){var i=e.getMonth()+1+"-"+e.getFullYear();this.months[i]={year:e.getFullYear(),month_year:i,name:B.env.b_month_for_formatted_date[e.getMonth()+1].name,short_name:B.env.b_month_for_formatted_date[e.getMonth()+1].short_name},e.setMonth(e.getMonth()+1)}this.initCustomLoS(),this.initMonths(),_r_()},initCustomLoS:function(){_i_("4ab:84d804d8");var s=this;this.$customLoSContainer=this.$el.find("[data-flex-dates-los-custom]"),this.$customLoSInput=this.$el.find("[data-custom-los]"),this.$customStartDaySelect=this.$el.find("[data-custom-start-day]");var o=this.$el.find("[data-flex-dates-los-container] input");o.prop("checked",!1),o.on("change",function(e){_i_("4ab:a30edb06");var t=e.target.checked,i=t?$(this).data("start-day"):void 0,a=t?$(this).data("los"):void 0,n="3"===e.target.value&&t;s.$customLoSContainer.css("display",n?"flex":"none"),n&&(s.$customLoSInput.val("1"),s.$customStartDaySelect.val("1")),t&&o.each(function(e,t){_i_("4ab:ecdd0b86"),t!==this&&$(t).prop("checked",!1),_r_()}.bind(this)),s.onDataChange({startDay:i,duration:a,isDayCustom:n}),_r_()});var t=this.$el.find("[data-flex-dates-los-custom-suffix]");this.$customLoSInput.on("input",function(){_i_("4ab:ccbf5ab3");var e=Number($(this).val().trim());isNaN(e)||e<1?e="":e>s.maxLoS&&(e=s.maxLoS),$(this).val(e),t.html(B.jstmpl.translations("sr_sbox_flex_dates_custom_selection_no_num_nights",e||1)),s.onDataChange({duration:e,isDayCustom:!0}),_r_()}),this.$customStartDaySelect.on("change",function(){_i_("4ab:5460bf73");var e=Number($(this).val());s.onDataChange({startDay:e,isDayCustom:!0}),_r_()}),_r_()},initMonths:function(){_i_("4ab:57292b74");var e=[];for(var t in this.months)e.push(this.months[t]);var i=B.jstmpl("flexible_dates_months_carousel").render({months:e}),a=this.$el.find("[data-flex-dates-months-container]");a.html(i),window.BUI.initComponents(a.get(0));var n=a.find("input");n.prop("checked",!1);var s=this;n.on("change",function(e){_i_("4ab:8ab33298");var t=$(this).data("month-year"),a=Object.assign({},s.data.months);e.target.checked?a[t]=!0:delete a[t],s.onDataChange({months:a}),n.removeAttr("disabled"),3===Object.keys(a).length&&n.each(function(e,t){_i_("4ab:b2024628");var i=$(t).data("month-year");a[i]||$(t).attr("disabled","true"),_r_()}),_r_()}),_r_()},onDataChange:function(e){_i_("4ab:c5018c36"),"startDay"in e&&(this.data.startDay=e.startDay),"duration"in e&&(this.data.duration=e.duration),"isDayCustom"in e&&(this.data.isDayCustom=e.isDayCustom),"months"in e&&(this.data.months=e.months),this.data.longTermText=this.getFlexibleDatesSelectionText(),this.emit("data-changed",this),_r_()},isLongTermFlexDatesDataValid:function(){return _i_("4ab:438a49ca"),_r_(Boolean(this.data&&this.data.duration&&Object.keys(this.data.months).length&&this.data.startDay))},getFormParamValue:function(e){return _i_("4ab:5a5990e8"),_r_([this.data.startDay||"",this.data.duration||"",Object.keys(this.data.months).join("_"),e&&this.isLongTermFlexDatesDataValid()?"1":"",this.data.isDayCustom?"1":""].join(":"))},getFlexibleDatesSelectionText:function(){_i_("4ab:a69bb085");var e=this.data,t=this.months,i=Object.keys(e.months).length;if(!e.duration||!i||!e.startDay){if(e.duration&&e.startDay&&!i)return _r_(B.jstmpl.translations("sr_sbox_flex_dates_choose_months_footer"));if(i&&(!e.duration||!e.startDay))return _r_(B.jstmpl.translations("sr_sbox_flex_dates_choose_days_footer"));return _r_(B.jstmpl.translations("sr_sbox_flex_dates_choose_days_months_footer"))}var a=B.jstmpl.translations("sr_sbox_flex_dates_custom_selection_nights",e.duration,{num_nights:e.duration}),n="";this.data.isDayCustom||(1===e.duration&&5===e.startDay?(a=B.jstmpl.translations("sr_sbox_flex_dates_choose_days_a_weekend"),n=B.jstmpl.translations("sr_sbox_flex_dates_custom_selection_nights",e.duration,{num_nights:e.duration})):5===e.duration&&1===e.startDay?(a=B.jstmpl.translations("sr_sbox_flex_dates_choose_days_a_week"),n=B.jstmpl.translations("sr_sbox_flex_dates_custom_selection_nights",e.duration,{num_nights:e.duration})):28===e.duration&&6===e.startDay&&(a=B.jstmpl.translations("ls_flex_search_28_radio"),n=B.jstmpl.translations("sr_sbox_flex_dates_custom_selection_nights",e.duration,{num_nights:e.duration})));var s=function(e,t){_i_("4ab:4e91ac76");var i=[];for(var a in t)e[a]&&i.push(t[a].short_name);if(1===i.length)return _r_(i[0]);if(2===i.length)return _r_(B.jstmpl.translations("sr_sbox_flex_dates_two_months_footer",null,{month_name_1:i[0],month_name_2:i[1]}));if(3===i.length)return _r_(B.jstmpl.translations("sr_sbox_flex_dates_three_months_footer",null,{month_name_1:i[0],month_name_2:i[1],month_name_3:i[2]}));return _r_("")}(e.months,t),o=B.jstmpl.translations("sr_sbox_flex_dates_days_months_footer",null,{days:a,month_names:s})+(n?" ("+n+")":"");return _r_(o)}});i.exports=s,_r_()}),booking.jstmpl("flexible_dates_months_carousel",function(){_i_("4ab:378857aa");var r,_=['\n  <div role="region" class="bui-carousel bui-carousel--small bui-u-bleed@small flexible-dates-months-carousel" data-bui-component="Carousel" tabindex="0" data-flex-dates-months>\n    <ul class="bui-carousel__inner" data-bui-ref="carousel-container">\n      ','\n        <li class="bui-carousel__item" data-bui-ref="carousel-item">\n          <label class="bui-input-checkbutton flexible-dates-month">\n            <input type="checkbox" class="bui-input-checkbutton__input" data-month-year="','" />\n            <div class="bui-input-checkbutton__item">\n              <div class="flexible-dates-month-icon">\n                ',"streamline/calendar","16",'\n              </div>\n              <div class="flexible-dates-month-name">',"</div>\n              <div>","</div>\n            </div>\n          </label>\n        </li>\n      ","\n    </ul>\n  </div>\n"],l=["months"];return _r_(function(e){_i_("4ab:f64bf3bb");var t="",i=this.fn;t+=_[0];var a=i.MC(l[0])||[];e.unshift({month:null});for(var n,s=1,o=a.length;s<=o;s++)e[0].month=n=a[s-1],t+=[_[1],i.F.entities((n||{}).month_year),_[2],(e.unshift({name:_[3],width:_[4]}),r=i.HELPER("icon",e[0]),e.shift(),r),_[5],i.F.entities((n||{}).short_name),_[6],i.F.entities((n||{}).year),_[7]].join("");return e.shift(),t+=_[8],_r_(t)})}()),B.when({events:"ready",action:"index",condition:B.env.b_favourite_properties}).run(function(){_i_("4ab:1bf73ee7");var i=$("#ss"),t=$(".favourite-properties"),a=$(".favourite-properties").children(),e=i.val(),n=B.require("search/searchbox/model").getInstance("main"),s=0;function o(){_i_("4ab:c0f065fc"),setTimeout(function(){_i_("4ab:0de9ca2d"),(t.is(":focus")||i.is(":focus"))&&d()||!t.hasClass("-visible")||(t.removeClass("-visible"),r()),_r_()},0),_r_()}function r(){_i_("4ab:f4ded0e1"),$(a[s]).removeClass("favourite-hover"),s=0,_r_()}function _(e){var t;_i_("4ab:196e6273"),t=e,_i_("4ab:2016515b"),i.val(t),i.focus(),n.destination.set({ss:t}),$(".xp__input-group").find('input[name="dest_id"]').remove(),$(".xp__input-group").find('input[name="dest_type"]').remove(),$(".xp__input-group").find('input[name="dest_type"]').remove(),_r_(),o(),function(){_i_("4ab:f64b6a4c");var e=$(".sb-date-field__field");if(e.hasClass("-empty")){var t=e.children();t[0]&&"button"===t[0].type&&setTimeout(function(){_i_("4ab:ed153dda"),$(t[0]).trigger("click"),_r_()},0)}_r_()}(),_r_()}function l(e){if(_i_("4ab:76855b46"),e.preventDefault(),40===e.keyCode)!function(){if(_i_("4ab:d5a1c268"),s===a.length-1)return r(),i.focus(),_r_();0!==s&&$(a[s]).removeClass("favourite-hover"),s++,$(a[s]).addClass("favourite-hover"),_r_()}();else if(38===e.keyCode)!function(){if(_i_("4ab:5bf0afc8"),0===s?s=a.length-1:($(a[s]).removeClass("favourite-hover"),s--),0===s)return i.focus(),_r_();$(a[s]).addClass("favourite-hover"),_r_()}();else if("Enter"===e.key||13===e.keyCode)_($(a[s]).text());else{var t=String.fromCharCode(e.keyCode);/[a-zA-Z0-9-_ ]/.test(t)&&(i.val(e.key),i.focus(),o())}_r_()}function d(){return _i_("4ab:9f3a423f"),_r_(i.val()==e||""==i.val())}i.on("change keyup paste blur",o),i.focusin(function(){if(_i_("4ab:a48837cc"),B.env.fe_popular_nearby_replace_favorite)return _r_();d()&&!t.hasClass("-visible")&&t.addClass("-visible");_r_()}),i.keydown(function(e){_i_("4ab:476e84f7"),!d()||40!==e.keyCode&&38!==e.keyCode||(t.focus(),l(e));_r_()}),t.blur(o),t.keydown(l),t.hover(r),t.click(function(e){_i_("4ab:50eb64b3");var t=e.target;if(t.classList.contains("favourite-heading")||t.classList.contains("search-suggestion__title"))return _r_();"LI"!==t.tagName&&(t=t.parentElement);"LI"===t.tagName&&_($(t).text());_r_()}),_r_()}),booking.env.enable_scripts_tracking&&(booking.env.scripts_tracking.searchbox.run=!0);