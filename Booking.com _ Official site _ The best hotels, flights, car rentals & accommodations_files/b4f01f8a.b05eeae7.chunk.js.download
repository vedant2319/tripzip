"use strict";(self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]=self["b-index-lp-web-mfe__LOADABLE_LOADED_CHUNKS__"]||[]).push([["b4f01f8a"],{c2e00117:function(e,t,r){var n=r("ead71eb0"),i=r.n(n),a=r("8fc2e4d0"),o=r("dc6d28ff"),d=r.n(o),u=r("d16e9636"),c=r.n(u),s=(0,u.loadable)({resolved:{},chunkName:function(){return"NDisplayAdContainer"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e("cb2f16d4").then(r.bind(r,"75b869f9"))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return"75b869f9"}}),_=function(){var e=(0,o.getRequestContext)();return(0,a.VG)({requestContext:e})&&(0,a.rG)({requestContext:e,stage:1})?i().createElement(s,null):null};t.Z=_},ddd2ff2b:function(e,t,r){r.r(t),r.d(t,{default:function(){return n.Z}});var n=r("c2e00117")},f0ea7784:function(e,t,r){r.d(t,{Qc:function(){return n},U6:function(){return s},_O:function(){return i},iE:function(){return d},ku:function(){return u},mL:function(){return o},zR:function(){return c}});var n,i,a,o,d="UNKNOWN",u=-1,c="NDisplayAd",s="[".concat(c,"]: ");!function(e){e.ACCOMMODATIONS="ACCOMMODATIONS"}(n||(n={})),function(e){e.INDEX="INDEX",e.SEARCHRESULTS="SEARCHRESULTS",e.HOMEPAGE="HOMEPAGE"}(i||(i={})),function(e){e.INDEX_PRIMARY="index-primary",e.SR_POSITION_8="sr-position-8"}(a||(a={})),function(e){e.AD_BLOCKER_DETECTED="ad_blocker_detected",e.AD_BLOCKER_NOT_DETECTED="ad_blocker_not_detected",e.AD_SLOT_CREATED="ad_slot_created",e.AD_SLOT_RENDERED="ad_slot_rendered",e.AD_SLOT_RENDERED_FAILED="ad_slot_rendered_failed",e.AD_SLOT_VIEWED="ad_slot_viewed",e.AD_SLOT_VIEWED_FAILED="ad_slot_viewed_failed",e.NO_AD_RETURNED_FROM_GPT="no_ad_returned_from_gpt",e.GET_NDISPLAY_AD_INFO_CALL_FROM_INDEX="index_get_ndisplay_ad_info",e.GET_NDISPLAY_AD_INFO_CALL_FAILED_IN_INDEX="index_get_ndisplay_ad_info_error"}(o||(o={}))},"8fc2e4d0":function(e,t,r){r.d(t,{Ds:function(){return p},KZ:function(){return l},VG:function(){return m},Yt:function(){return v},bJ:function(){return I},rG:function(){return A},yE:function(){return E}});var n,i,a=r("e260fc98"),o=r("00d29d3a"),d=r("43a4d203"),u=r("28dbd132"),c=r("f0ea7784");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t,r=e.event,n=e.requestContext,i=e.props,a=null===r||void 0===r||null===(t=r.slot.getResponseInformation())||void 0===t?void 0:t.campaignId,o=i.id,d=i.adPositionTag,u=i.vertical,s=i.pageName;return{adId:o,adPosition:d,campaignId:a||c.ku,visitorCountry:n.getVisitorCountry()||c.iE,siteType:n.getSiteType()||c.iE,vertical:u,pageName:s}},g=function(e){var t,r=e.event,n=e.requestContext,i=null===r||void 0===r?void 0:r.slot.getResponseInformation(),a=f(e),o=i||{},d=o.advertiserId,u=o.creativeId,s=o.creativeTemplateId,g=o.lineItemId;if(a.campaignId===c.ku)throw new Error("Missing campaignId");if(!d)throw new Error("Missing advertiserId");if(!u)throw new Error("Missing creativeId");if(!s)throw new Error("Missing creativeTemplateId");if(!g)throw new Error("Missing lineItemId");return _(_({},a),{},{userId:"1",pageviewId:n.getPageviewId()||c.iE,visitorUfi:n.getVisitorUfi()||c.ku,affiliateId:(null===(t=n.getAffiliate())||void 0===t?void 0:t.id)||c.ku,advertiserId:d,creativeId:u,creativeTemplateId:s,lineItemId:g})},v=function(e){if(!e.actionStage)throw new Error("Missing actionStage");return _(_({},f(e)),{},{actionStage:e.actionStage})},p=function(e,t,r,n,i,a){var o=e.requestContext.getBasePageUrl().searchParams;if(o.has("google_preview")&&o.has("lineItemId")&&o.has("creativeId"))return!0;var d,u=!0;try{n(g(e)),i(v(_(_({},e),{},{actionStage:t})))}catch(s){void 0!==(d=e.event)&&void 0!==d.isEmpty&&d.isEmpty?i(v(_(_({},e),{},{actionStage:c.mL.NO_AD_RETURNED_FROM_GPT}))):(a(s),i(v(_(_({},e),{},{actionStage:r}))),u=!1)}return u},l=function(e){return{input:{tracking_info:{affiliate_id:e.affiliateId,ndisplay_ad_id:e.adId,rendered_ad_pagename:e.pageName,rendered_ad_pageview_id:e.pageviewId,rendered_ad_position:e.adPosition,site_type:e.siteType,user_id:e.userId,vertical:e.vertical,visitor_cc:e.visitorCountry,visitor_ufi:e.visitorUfi,pageview_id:e.pageviewId},gpt_response_information:{advertiser_id:e.advertiserId,campaign_id:e.campaignId,creative_id:e.creativeId,line_item_id:e.lineItemId,creative_template_id:e.creativeTemplateId}}}},E=function(e){return l(e)},I=function(e){var t=e.campaignId===c.ku?c.iE:e.campaignId.toString();return{input:{action_stage:e.actionStage,ad_position:e.adPosition,campaign_id:t,pagename:e.pageName,site_type:e.siteType,vertical:e.vertical,visitor_cc:e.visitorCountry}}},O=function(e){var t,r=e.requestContext,n=r.isRobotRequest(),i=!(null===(t=r.getAffiliate())||void 0===t||!t.isBookingOwned);return!n&&i},D=function(e){var t=e.requestContext,r=t.getLanguage().startsWith("en"),n=t.getLanguage().startsWith("fr"),i="ca"===t.getVisitorCountry();return O(e)&&i&&(r||n)},m=function(e){return function(e){var t=e.requestContext,r=t.getLanguage().startsWith("en"),n="us"===t.getVisitorCountry()&&"md"!==t.getVisitorCountryRegion();return O(e)&&n&&r}(e)||D(e)},A=function(e){if(D(e)){var t=e.requestContext.getSiteType()===d.SiteType.MDOT?(0,u.exp)(n||(n=(0,a.Z)(["NVFVcfTbdNNDYAHPeWNRBYBBVYYT"]))):(0,u.exp)(i||(i=(0,a.Z)(["NVFVcfTbdNNDYAHPeWNRBNLOLOLMO"]))),r=(0,u.trackExperiment)(t);return(0,u.trackExperimentStage)(t,e.stage),(0,u.trackExperimentStage)(t,3),1===r}return!0}}}]);
//# sourceMappingURL=https://istatic.booking.com/internal-static/capla/static/js/b4f01f8a.b05eeae7.chunk.js.map